{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Qly_CV\\\\src\\\\App.js\",\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport './App.css';\n\n// API Client - Tự động detect IP máy chủ\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getApiBase = () => {\n  // Nếu đang chạy trên localhost, sử dụng localhost\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:5001';\n  }\n  // Nếu truy cập từ IP khác, thử kết nối đến IP đó trước\n  // Nếu không được, fallback về localhost\n  const apiUrl = `http://${window.location.hostname}:5001`;\n  console.log('🔍 API Base URL:', apiUrl);\n  return apiUrl;\n};\nconst API_BASE = getApiBase();\nconst apiClient = {\n  async request(endpoint, options = {}) {\n    try {\n      const url = `${API_BASE}${endpoint}`;\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        ...options\n      };\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      console.error(`❌ API Error ${endpoint}:`, error);\n      throw error;\n    }\n  },\n  async login(username, password) {\n    try {\n      const response = await this.request('/api/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        error: 'Không thể kết nối server'\n      };\n    }\n  },\n  async getUsers() {\n    try {\n      const response = await this.request('/api/users');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy users:', error);\n      return [];\n    }\n  },\n  async updateUsers(users) {\n    try {\n      const response = await this.request('/api/users', {\n        method: 'POST',\n        body: JSON.stringify({\n          users\n        })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n      return false;\n    }\n  },\n  async getJobs() {\n    try {\n      const response = await this.request('/api/jobs');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy jobs:', error);\n      return [];\n    }\n  },\n  async updateJobs(jobs) {\n    try {\n      const response = await this.request('/api/jobs', {\n        method: 'POST',\n        body: JSON.stringify({\n          jobs\n        })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n      return false;\n    }\n  }\n};\nfunction App() {\n  _s6();\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n  // Authentication state\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loginError, setLoginError] = useState('');\n\n  // Data state\n  const [users, setUsers] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [activeTab, setActiveTab] = useState('list');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Authentication functions\n  const handleLogin = async (username, password) => {\n    try {\n      setLoginError('');\n      const response = await apiClient.login(username, password);\n      if (response.success) {\n        setCurrentUser(response.user);\n        setIsAuthenticated(true);\n        localStorage.setItem('currentUser', JSON.stringify(response.user));\n        console.log('✅ Đăng nhập thành công:', response.user.fullName);\n      } else {\n        setLoginError(response.error || 'Đăng nhập thất bại');\n      }\n    } catch (error) {\n      console.error('❌ Lỗi đăng nhập:', error);\n      setLoginError('Không thể kết nối server. Vui lòng thử lại.');\n    }\n  };\n  const handleLogout = () => {\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setLoginError('');\n    localStorage.removeItem('currentUser');\n  };\n\n  // Load users\n  const loadUsers = useCallback(async () => {\n    try {\n      const usersData = await apiClient.getUsers();\n      if (Array.isArray(usersData)) {\n        setUsers(usersData);\n        console.log('✅ Đã tải users:', usersData.length, 'users');\n      } else {\n        setUsers([]);\n      }\n    } catch (error) {\n      console.error('❌ Lỗi khi tải users:', error);\n      setUsers([]);\n    }\n  }, []);\n\n  // Load jobs\n  const loadJobs = useCallback(async () => {\n    try {\n      const jobsData = await apiClient.getJobs();\n      if (Array.isArray(jobsData)) {\n        setJobs(jobsData);\n        console.log('✅ Đã tải jobs:', jobsData.length, 'jobs');\n      } else {\n        setJobs([]);\n      }\n    } catch (error) {\n      console.error('❌ Lỗi khi tải jobs:', error);\n      setJobs([]);\n    }\n  }, []);\n\n  // Update users\n  const handleUpdateUsers = async updatedUsers => {\n    try {\n      setUsers(updatedUsers);\n      await apiClient.updateUsers(updatedUsers);\n      console.log('✅ Đã cập nhật users');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n    }\n  };\n\n  // Update jobs\n  const handleUpdateJobs = async updatedJobs => {\n    try {\n      setJobs(updatedJobs);\n      await apiClient.updateJobs(updatedJobs);\n      console.log('✅ Đã cập nhật jobs');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n    }\n  };\n\n  // Check authentication on load\n  useEffect(() => {\n    const savedUser = localStorage.getItem('currentUser');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n        console.log('✅ Đã khôi phục phiên đăng nhập:', user.fullName);\n      } catch (error) {\n        localStorage.removeItem('currentUser');\n      }\n    }\n  }, []);\n\n  // Kiểm tra quyền truy cập tab khi user thay đổi\n  useEffect(() => {\n    if (currentUser) {\n      // Nếu user không có quyền truy cập tab hiện tại, chuyển về tab mặc định\n      const hasAccessToCurrentTab = () => {\n        switch (activeTab) {\n          case 'dashboard':\n          case 'salary':\n            return currentUser.role === 'admin' || currentUser.position === 'Tổ trưởng';\n          case 'users':\n            return currentUser.role === 'admin';\n          case 'list':\n          default:\n            return true;\n          // Tất cả user đều có quyền truy cập tab công việc\n        }\n      };\n      if (!hasAccessToCurrentTab()) {\n        setActiveTab('list');\n      }\n    }\n  }, [currentUser, activeTab]);\n\n  // Test server connection with fallback\n  const testServerConnection = useCallback(async () => {\n    const urlsToTry = [API_BASE, 'http://localhost:5001', `http://${window.location.hostname}:5001`];\n    for (const url of urlsToTry) {\n      try {\n        console.log(`🔍 Đang thử kết nối đến: ${url}`);\n        const response = await fetch(`${url}/api/health`, {\n          method: 'GET',\n          timeout: 5000\n        });\n        if (response.ok) {\n          const data = await response.json();\n          console.log('✅ Server đang hoạt động:', data);\n          // Update API_BASE to working URL\n          if (url !== API_BASE) {\n            console.log(`🔄 Cập nhật API_BASE từ ${API_BASE} thành ${url}`);\n            window.API_BASE = url;\n          }\n          return true;\n        }\n      } catch (error) {\n        console.log(`❌ Không thể kết nối đến ${url}:`, error.message);\n        continue;\n      }\n    }\n    console.error('❌ Không thể kết nối đến server từ bất kỳ URL nào');\n    return false;\n  }, []);\n\n  // Load data on mount\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadUsers();\n      loadJobs();\n      // Test server connection on mount\n      testServerConnection();\n    }\n  }, [isAuthenticated, testServerConnection]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (!isAuthenticated) return;\n\n      // Ctrl/Cmd + N: Thêm công việc mới\n      if ((e.ctrlKey || e.metaKey) && e.key === 'n') {\n        e.preventDefault();\n        if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n          setIsAdding(true);\n        }\n      }\n\n      // Ctrl/Cmd + F: Focus vào ô tìm kiếm\n      if ((e.ctrlKey || e.metaKey) && e.key === 'f') {\n        e.preventDefault();\n        const searchInput = document.querySelector('.filter-input');\n        if (searchInput) searchInput.focus();\n      }\n\n      // Escape: Đóng form thêm/sửa\n      if (e.key === 'Escape') {\n        setIsAdding(false);\n        setEditingUser(null);\n      }\n    };\n    document.addEventListener('keydown', handleKeyPress);\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  }, [isAuthenticated, currentUser]);\n\n  // Tự động kiểm tra và cập nhật trạng thái công việc trễ hạn\n  useEffect(() => {\n    if (isAuthenticated && jobs.length > 0) {\n      checkAndUpdateOverdueJobs();\n    }\n  }, [isAuthenticated, jobs]);\n\n  // Kiểm tra deadline và hiển thị thông báo nhắc nhở\n  const getUpcomingDeadlines = () => {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(today.getDate() + 1);\n    return jobs.filter(job => {\n      if (!job.completionTime || job.status === 'thành công') return false;\n\n      // Lọc theo bộ phận của người dùng hiện tại\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && job.department !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department)) {\n        return false;\n      }\n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n      // Nhắc nhở trước 1 ngày (0-1 ngày)\n      return daysDiff >= 0 && daysDiff <= 1;\n    });\n  };\n\n  // Hàm kiểm tra và cập nhật trạng thái công việc trễ hạn\n  const checkAndUpdateOverdueJobs = () => {\n    const today = new Date();\n    const overdueJobs = [];\n    const updatedJobs = jobs.map(job => {\n      // Chỉ cập nhật nếu công việc chưa hoàn thành và có ngày hoàn thành\n      if (job.status !== 'thành công' && job.status !== 'thất bại' && job.completionTime) {\n        const completionDate = new Date(job.completionTime);\n        const timeDiff = completionDate.getTime() - today.getTime();\n        const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n        // Nếu trễ hạn (ngày hoàn thành đã qua)\n        if (daysDiff < 0) {\n          overdueJobs.push(job);\n          return {\n            ...job,\n            status: 'thất bại'\n          };\n        }\n      }\n      return job;\n    });\n\n    // Cập nhật danh sách công việc nếu có thay đổi\n    const hasChanges = updatedJobs.some((job, index) => job.status !== jobs[index].status);\n    if (hasChanges) {\n      handleUpdateJobs(updatedJobs);\n\n      // Hiển thị thông báo về các công việc trễ hạn\n      if (overdueJobs.length > 0) {\n        const overdueList = overdueJobs.map(job => `• ${job.description} (${job.department})`).join('\\n');\n        alert(`⚠️ CẢNH BÁO: ${overdueJobs.length} công việc đã trễ hạn và được tự động cập nhật thành \"thất bại\":\\n\\n${overdueList}`);\n      }\n    }\n  };\n  const upcomingDeadlines = getUpcomingDeadlines();\n\n  // Reminder Notification Component\n  const ReminderNotification = ({\n    deadlines\n  }) => {\n    if (deadlines.length === 0) return null;\n    const getReminderMessage = job => {\n      const today = new Date();\n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      if (daysDiff === 0) {\n        return `⚠️ Hôm nay là deadline: \"${job.description}\"`;\n      } else if (daysDiff === 1) {\n        return `⏰ Ngày mai deadline: \"${job.description}\"`;\n      }\n      return `📅 Còn ${daysDiff} ngày: \"${job.description}\"`;\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reminder-notification\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reminder-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD14 Nh\\u1EAFc nh\\u1EDF deadline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"reminder-count\",\n          children: [deadlines.length, \" c\\xF4ng vi\\u1EC7c\", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"department-info\",\n            children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reminder-list\",\n        children: deadlines.map(job => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reminder-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reminder-message\",\n            children: getReminderMessage(job)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reminder-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder-department\",\n              children: [\"\\uD83C\\uDFE2 \", job.department]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder-assignee\",\n              children: [\"\\uD83D\\uDC64 \", job.assigner || 'Chưa giao', \" \\u2192 \", job.assignee || 'Chưa giao']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder-date\",\n              children: [\"\\uD83D\\uDCC5 \", new Date(job.completionTime).toLocaleDateString('vi-VN')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `reminder-status status-${job.status}`,\n              children: job.status === 'nhận việc' ? '📋 Nhận việc' : job.status === 'đang xử lý' ? '⏳ Đang xử lý' : job.status === 'chờ duyệt' ? '⏸️ Chờ duyệt' : job.status === 'thất bại' ? '❌ Thất bại' : '✅ Thành công'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this)]\n        }, job.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Login Form Component\n  const LoginForm = () => {\n    _s();\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const handleSubmit = e => {\n      e.preventDefault();\n      if (username && password) {\n        handleLogin(username, password);\n      } else {\n        setLoginError('Vui lòng nhập đầy đủ thông tin');\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDD10 \\u0110\\u0103ng nh\\u1EADp h\\u1EC7 th\\u1ED1ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              placeholder: \"Nh\\u1EADp username\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"M\\u1EADt kh\\u1EA9u:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              placeholder: \"Nh\\u1EADp password\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [\"\\u274C \", loginError]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"login-btn\",\n            children: \"\\uD83D\\uDE80 \\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Main App Component\n  _s(LoginForm, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n  const MainApp = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\uD83D\\uDCCB Danh s\\xE1ch vi\\u1EC7c l\\xE0m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Qu\\u1EA3n l\\xFD v\\xE0 theo d\\xF5i ti\\u1EBFn \\u0111\\u1ED9 c\\xF4ng vi\\u1EC7c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-name\",\n                  children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-department\",\n                  children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.department\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-position\",\n                  children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleLogout,\n                  className: \"logout-btn\",\n                  children: \"\\uD83D\\uDEAA \\u0110\\u0103ng xu\\u1EA5t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-navigation\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'list' ? 'active' : ''}`,\n            onClick: () => setActiveTab('list'),\n            title: \"Ctrl+F: T\\xECm ki\\u1EBFm, Ctrl+N: Th\\xEAm m\\u1EDBi\",\n            children: \"\\uD83D\\uDCCB Qu\\u1EA3n l\\xFD c\\xF4ng vi\\u1EC7c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 11\n          }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'dashboard' ? 'active' : ''}`,\n            onClick: () => setActiveTab('dashboard'),\n            children: \"\\uD83D\\uDCCA Dashboard & Th\\u1ED1ng k\\xEA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 13\n          }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'salary' ? 'active' : ''}`,\n            onClick: () => setActiveTab('salary'),\n            children: \"\\uD83D\\uDCCA \\u0110\\xE1nh gi\\xE1 KPI nh\\xE2n s\\u1EF1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'users' ? 'active' : ''}`,\n            onClick: () => setActiveTab('users'),\n            children: \"\\uD83D\\uDC65 Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-content\",\n          children: [/*#__PURE__*/_jsxDEV(ReminderNotification, {\n            deadlines: upcomingDeadlines\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 9\n          }, this), activeTab === 'list' && /*#__PURE__*/_jsxDEV(JobManagement, {\n            jobs: jobs,\n            onUpdateJobs: handleUpdateJobs,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), activeTab === 'dashboard' && /*#__PURE__*/_jsxDEV(Dashboard, {\n            jobs: jobs,\n            users: users,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 11\n          }, this), activeTab === 'salary' && /*#__PURE__*/_jsxDEV(KPIEvaluation, {\n            users: users,\n            jobs: jobs,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this), activeTab === 'users' && /*#__PURE__*/_jsxDEV(UserManagement, {\n            users: users,\n            onUpdateUsers: handleUpdateUsers,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 5\n    }, this);\n  };\n\n  // Dashboard Component\n  const Dashboard = ({\n    jobs,\n    users,\n    currentUser\n  }) => {\n    _s2();\n    const [timeFilter, setTimeFilter] = useState('all'); // all, week, month, quarter, year\n    const [departmentFilter, setDepartmentFilter] = useState('all');\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [isRefreshing, setIsRefreshing] = useState(false);\n    const [autoRefresh, setAutoRefresh] = useState(true);\n\n    // Auto refresh effect\n    useEffect(() => {\n      if (!autoRefresh) return;\n      const interval = setInterval(() => {\n        setRefreshKey(prev => prev + 1);\n      }, 30000); // Refresh every 30 seconds\n\n      return () => clearInterval(interval);\n    }, [autoRefresh]);\n\n    // Manual refresh function\n    const handleRefresh = async () => {\n      setIsRefreshing(true);\n      setRefreshKey(prev => prev + 1);\n      setTimeout(() => setIsRefreshing(false), 1000);\n    };\n\n    // Filter jobs by time period\n    const getFilteredJobs = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      let filteredJobs = jobs;\n\n      // Filter by time period\n      switch (timeFilter) {\n        case 'today':\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly.getTime() === today.getTime();\n          });\n          break;\n        case 'week':\n          const weekStart = new Date(today);\n          weekStart.setDate(today.getDate() - today.getDay());\n          const weekEnd = new Date(weekStart);\n          weekEnd.setDate(weekStart.getDate() + 6);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n          });\n          break;\n        case 'month':\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n          const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n          });\n          break;\n        case 'quarter':\n          const quarter = Math.floor(today.getMonth() / 3);\n          const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n          const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n          });\n          break;\n        case 'year':\n          const yearStart = new Date(today.getFullYear(), 0, 1);\n          const yearEnd = new Date(today.getFullYear(), 11, 31);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n          });\n          break;\n        default:\n          filteredJobs = jobs;\n      }\n\n      // Filter by department\n      if (departmentFilter !== 'all') {\n        filteredJobs = filteredJobs.filter(job => job.department === departmentFilter);\n      }\n      return filteredJobs;\n    };\n    const filteredJobs = getFilteredJobs();\n\n    // Debug information\n    console.log('Dashboard Filter Debug:', {\n      timeFilter,\n      departmentFilter,\n      totalJobs: jobs.length,\n      filteredJobs: filteredJobs.length,\n      sampleJobs: jobs.slice(0, 3).map(job => ({\n        id: job.id,\n        deliveryDate: job.deliveryDate,\n        department: job.department,\n        status: job.status\n      }))\n    });\n    const stats = {\n      totalJobs: filteredJobs.length,\n      completedJobs: filteredJobs.filter(job => job.status === 'thành công').length,\n      pendingJobs: filteredJobs.filter(job => job.status === 'nhận việc' || job.status === 'đang xử lý' || job.status === 'chờ duyệt').length,\n      failedJobs: filteredJobs.filter(job => job.status === 'thất bại').length,\n      totalUsers: users.length,\n      activeUsers: users.filter(user => user.role !== 'inactive').length\n    };\n    const departmentStats = filteredJobs.reduce((acc, job) => {\n      if (!acc[job.department]) {\n        acc[job.department] = {\n          total: 0,\n          completed: 0,\n          pending: 0,\n          failed: 0,\n          inProgress: 0,\n          waiting: 0,\n          percentage: 0,\n          avgCompletionTime: 0,\n          onTimeRate: 0,\n          overdue: 0\n        };\n      }\n      acc[job.department].total += 1;\n\n      // Count by status\n      switch (job.status) {\n        case 'thành công':\n          acc[job.department].completed += 1;\n          break;\n        case 'nhận việc':\n        case 'đang xử lý':\n        case 'chờ duyệt':\n          acc[job.department].pending += 1;\n          if (job.status === 'đang xử lý') acc[job.department].inProgress += 1;\n          if (job.status === 'chờ duyệt') acc[job.department].waiting += 1;\n          break;\n        case 'thất bại':\n          acc[job.department].failed += 1;\n          break;\n      }\n\n      // Calculate completion time and overdue\n      if (job.completionTime && job.deliveryDate) {\n        const deliveryDate = new Date(job.deliveryDate);\n        const completionDate = new Date(job.completionTime);\n        const today = new Date();\n        if (job.status === 'thành công') {\n          const completionTime = Math.ceil((completionDate - deliveryDate) / (1000 * 60 * 60 * 24));\n          acc[job.department].avgCompletionTime = (acc[job.department].avgCompletionTime + completionTime) / 2;\n        }\n\n        // Check if overdue\n        if (job.status !== 'thành công' && job.status !== 'thất bại' && completionDate < today) {\n          acc[job.department].overdue += 1;\n        }\n      }\n      acc[job.department].percentage = Math.round(acc[job.department].completed / acc[job.department].total * 100);\n      acc[job.department].onTimeRate = Math.round((acc[job.department].completed - acc[job.department].overdue) / acc[job.department].completed * 100) || 0;\n      return acc;\n    }, {});\n    const statusStats = filteredJobs.reduce((acc, job) => {\n      acc[job.status] = (acc[job.status] || 0) + 1;\n      return acc;\n    }, {});\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uD83D\\uDCCA Dashboard & Th\\u1ED1ng k\\xEA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Xin ch\\xE0o \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName, \", \\u0111\\xE2y l\\xE0 t\\u1ED5ng quan h\\u1EC7 th\\u1ED1ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"refresh-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `refresh-btn ${isRefreshing ? 'refreshing' : ''}`,\n                onClick: handleRefresh,\n                title: \"L\\xE0m m\\u1EDBi d\\u1EEF li\\u1EC7u\",\n                children: [isRefreshing ? '🔄' : '🔄', \" \", isRefreshing ? 'Đang tải...' : 'Làm mới']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"auto-refresh-toggle\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: autoRefresh,\n                  onChange: e => setAutoRefresh(e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"toggle-label\",\n                  children: \"T\\u1EF1 \\u0111\\u1ED9ng c\\u1EADp nh\\u1EADt (30s)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 804,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filter-badge\",\n                children: [\"\\uD83D\\uDCC5 \", timeFilter === 'all' ? 'Tất cả thời gian' : timeFilter === 'week' ? 'Tuần này' : timeFilter === 'month' ? 'Tháng này' : timeFilter === 'quarter' ? 'Quý này' : timeFilter === 'year' ? 'Năm này' : timeFilter]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 17\n              }, this), departmentFilter !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filter-badge\",\n                children: [\"\\uD83C\\uDFE2 \", departmentFilter]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filter-badge\",\n                children: [\"\\uD83D\\uDCCA \", filteredJobs.length, \" c\\xF4ng vi\\u1EC7c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-filters\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\uD83D\\uDCC5 Th\\u1EDDi gian:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: timeFilter,\n                onChange: e => setTimeFilter(e.target.value),\n                className: \"filter-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3 th\\u1EDDi gian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"today\",\n                  children: \"H\\xF4m nay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 834,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week\",\n                  children: \"Tu\\u1EA7n n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month\",\n                  children: \"Th\\xE1ng n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"quarter\",\n                  children: \"Qu\\xFD n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"year\",\n                  children: \"N\\u0103m n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 838,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: departmentFilter,\n                onChange: e => setDepartmentFilter(e.target.value),\n                className: \"filter-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 848,\n                  columnNumber: 19\n                }, this), Array.from(new Set(jobs.map(job => job.department))).map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-info\",\n                style: {\n                  padding: '8px 12px',\n                  background: 'rgba(255, 255, 255, 0.2)',\n                  borderRadius: '6px',\n                  fontSize: '0.9rem',\n                  color: 'white',\n                  border: '1px solid rgba(255, 255, 255, 0.3)'\n                },\n                children: [\"\\uD83D\\uDCCA Hi\\u1EC3n th\\u1ECB: \", getFilteredJobs().length, \" / \", jobs.length, \" c\\xF4ng vi\\u1EC7c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"clear-filters-btn\",\n                onClick: () => {\n                  setTimeFilter('all');\n                  setDepartmentFilter('all');\n                },\n                children: \"\\uD83D\\uDD04 X\\xF3a b\\u1ED9 l\\u1ECDc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 785,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.totalJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng c\\xF4ng vi\\u1EC7c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 884,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator\",\n                children: \"\\uD83D\\uDCCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 886,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"T\\u1ED5ng quan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 887,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 885,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 882,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card success animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.completedJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 895,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ho\\xE0n th\\xE0nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 896,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator success\",\n                children: \"\\uD83D\\uDCC8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"Ho\\xE0n th\\xE0nh t\\u1ED1t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 899,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 892,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card warning animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u23F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.pendingJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110ang x\\u1EED l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 908,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator warning\",\n                children: \"\\u23F0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"C\\u1EA7n theo d\\xF5i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 904,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card danger animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u274C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.failedJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Th\\u1EA5t b\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator danger\",\n                children: \"\\u26A0\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"C\\u1EA7n x\\u1EED l\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 921,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card info animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.totalUsers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator info\",\n                children: \"\\uD83D\\uDC64\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"T\\u1ED5ng nh\\xE2n s\\u1EF1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 935,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 930,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 928,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDFE2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.activeUsers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 944,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 940,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card productivity\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [stats.totalJobs > 0 ? Math.round(stats.completedJobs / stats.totalJobs * 100) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 951,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng n\\u0103ng su\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 948,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card efficiency\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u26A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [Object.values(departmentStats).length > 0 ? Math.round(Object.values(departmentStats).reduce((sum, dept) => sum + dept.onTimeRate, 0) / Object.values(departmentStats).length) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 959,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1EF7 l\\u1EC7 \\u0111\\xFAng h\\u1EA1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 958,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card departments\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83C\\uDFE2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: Object.keys(departmentStats).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 968,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"B\\u1ED9 ph\\u1EADn ho\\u1EA1t \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 967,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 965,\n          columnNumber: 11\n        }, this)]\n      }, refreshKey, true, {\n        fileName: _jsxFileName,\n        lineNumber: 879,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCCA N\\u0103ng su\\u1EA5t theo b\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-content\",\n            children: Object.entries(departmentStats).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bar enhanced\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-label\",\n                  children: dept\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 981,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-status-indicators\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot completed\",\n                    title: \"Ho\\xE0n th\\xE0nh\",\n                    children: \"\\u25CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 983,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot pending\",\n                    title: \"\\u0110ang x\\u1EED l\\xFD\",\n                    children: \"\\u25CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 984,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot failed\",\n                    title: \"Th\\u1EA5t b\\u1EA1i\",\n                    children: \"\\u25CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 985,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 982,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-fill\",\n                  style: {\n                    width: `${data.percentage}%`,\n                    background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' : data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' : 'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 988,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-value\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"percentage\",\n                  children: [data.percentage, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1000,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"count\",\n                  children: [\"(\", data.completed, \"/\", data.total, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 999,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u2705\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1006,\n                      columnNumber: 25\n                    }, this), data.completed, \" ho\\xE0n th\\xE0nh\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1005,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u23F3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1010,\n                      columnNumber: 25\n                    }, this), data.pending, \" \\u0111ang x\\u1EED l\\xFD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1009,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u274C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1014,\n                      columnNumber: 25\n                    }, this), data.failed, \" th\\u1EA5t b\\u1EA1i\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1013,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1004,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u26A1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1020,\n                      columnNumber: 25\n                    }, this), data.onTimeRate, \"% \\u0111\\xFAng h\\u1EA1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1019,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\uD83D\\uDCC5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1024,\n                      columnNumber: 25\n                    }, this), data.avgCompletionTime > 0 ? `${Math.round(data.avgCompletionTime)} ngày` : 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1023,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u26A0\\uFE0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1028,\n                      columnNumber: 25\n                    }, this), data.overdue, \" tr\\u1EC5 h\\u1EA1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1027,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1018,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 19\n              }, this)]\n            }, dept, true, {\n              fileName: _jsxFileName,\n              lineNumber: 979,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 977,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 975,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC8 Th\\u1ED1ng k\\xEA theo tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1039,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-content\",\n            children: Object.entries(statusStats).map(([status, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-label\",\n                children: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-fill\",\n                  style: {\n                    width: `${count / stats.totalJobs * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1045,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-value\",\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1050,\n                columnNumber: 19\n              }, this)]\n            }, status, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1040,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1038,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 974,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productivity-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA T\\u1ED5ng quan n\\u0103ng su\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productivity-grid\",\n          children: Object.entries(departmentStats).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productivity-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productivity-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: dept\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1063,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productivity-percentage\",\n                children: [data.percentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1062,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productivity-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productivity-fill\",\n                style: {\n                  width: `${data.percentage}%`,\n                  background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' : data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' : 'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1069,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productivity-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Ho\\xE0n th\\xE0nh: \", data.completed, \"/\", data.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1080,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `productivity-status ${data.percentage >= 80 ? 'excellent' : data.percentage >= 60 ? 'good' : 'needs-improvement'}`,\n                children: data.percentage >= 80 ? 'Xuất sắc' : data.percentage >= 60 ? 'Tốt' : 'Cần cải thiện'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1079,\n              columnNumber: 17\n            }, this)]\n          }, dept, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1057,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"performance-insights\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD0D Ph\\xE2n t\\xEDch hi\\u1EC7u su\\u1EA5t chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"insights-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"insight-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCCA Top B\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1098,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-content\",\n              children: Object.entries(departmentStats).sort(([, a], [, b]) => b.percentage - a.percentage).slice(0, 3).map(([dept, data], index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-rank\",\n                  children: [\"#\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1105,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1107,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-stats\",\n                    children: [data.percentage, \"% \\u2022 \", data.completed, \"/\", data.total, \" c\\xF4ng vi\\u1EC7c\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1108,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1106,\n                  columnNumber: 23\n                }, this)]\n              }, dept, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1104,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1099,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"insight-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u26A1 Hi\\u1EC7u su\\u1EA5t th\\u1EDDi gian\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-content\",\n              children: Object.entries(departmentStats).filter(([, data]) => data.avgCompletionTime > 0).sort(([, a], [, b]) => a.avgCompletionTime - b.avgCompletionTime).slice(0, 3).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1127,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-stats\",\n                    children: [Math.round(data.avgCompletionTime), \" ng\\xE0y trung b\\xECnh\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1128,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1126,\n                  columnNumber: 23\n                }, this)\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"insight-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83C\\uDFAF T\\u1EF7 l\\u1EC7 \\u0111\\xFAng h\\u1EA1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-content\",\n              children: Object.entries(departmentStats).sort(([, a], [, b]) => b.onTimeRate - a.onTimeRate).slice(0, 3).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1146,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-stats\",\n                    children: [data.onTimeRate, \"% \\u0111\\xFAng h\\u1EA1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1147,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1145,\n                  columnNumber: 23\n                }, this)\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1096,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recent-activity\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD52 Ho\\u1EA1t \\u0111\\u1ED9ng g\\u1EA7n \\u0111\\xE2y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activity-list\",\n          children: filteredJobs.slice(-5).reverse().map(job => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-icon\",\n              children: job.status === 'thành công' ? '✅' : job.status === 'thất bại' ? '❌' : job.status === 'đang xử lý' ? '⏳' : job.status === 'nhận việc' ? '📋' : '⏸️'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-title\",\n                children: job.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-meta\",\n                children: [job.department, \" \\u2022 \", job.assigner || 'Chưa giao', \" \\u2192 \", job.assignee || 'Chưa giao', \" \\u2022 \", new Date(job.deliveryDate).toLocaleDateString('vi-VN'), \" \\u2022 \", job.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 17\n            }, this)]\n          }, job.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 7\n    }, this);\n  };\n\n  // KPI Evaluation Component\n  _s2(Dashboard, \"2be8DJfNvmYungXrY4g3FnHkAiY=\");\n  const KPIEvaluation = ({\n    users,\n    jobs,\n    currentUser\n  }) => {\n    _s3();\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [evaluationDate, setEvaluationDate] = useState(new Date().toISOString().split('T')[0]);\n    const [evaluationData, setEvaluationData] = useState({\n      performance: 0,\n      discipline: 0,\n      attitude: 0\n    });\n    const [isEvaluating, setIsEvaluating] = useState(false);\n    const [evaluationHistory, setEvaluationHistory] = useState([]);\n    const [viewMode, setViewMode] = useState('evaluate'); // 'evaluate', 'history', 'all-evaluations'\n    const [summaryPeriod, setSummaryPeriod] = useState('week'); // 'week', 'month', 'quarter', 'year'\n    const [selectedDepartment, setSelectedDepartment] = useState('all'); // 'all' hoặc tên bộ phận\n    const [allEvaluations, setAllEvaluations] = useState([]); // Lưu tất cả đánh giá KPI\n    const [expandedUser, setExpandedUser] = useState(null); // Track which user's details are expanded\n    const [historyTimeFilter, setHistoryTimeFilter] = useState('all'); // Filter for history tab\n    const [historyDepartmentFilter, setHistoryDepartmentFilter] = useState('all'); // Department filter for history tab\n    const [historyDateFilter, setHistoryDateFilter] = useState(''); // Specific date filter for history tab\n    const [weeklyTimeFilter, setWeeklyTimeFilter] = useState('all'); // Filter for weekly summary\n    const [weeklyDepartmentFilter, setWeeklyDepartmentFilter] = useState('all'); // Department filter for weekly summary\n\n    // Load KPI evaluations from server\n    const loadKpiEvaluations = useCallback(async () => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`);\n        const result = await response.json();\n        if (result.success) {\n          setAllEvaluations(result.data || []);\n          setEvaluationHistory(result.data || []);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi load KPI evaluations:', error);\n      }\n    }, []);\n\n    // Save KPI evaluations to server\n    const saveKpiEvaluations = useCallback(async evaluations => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            evaluations\n          })\n        });\n        const result = await response.json();\n        if (!result.success) {\n          console.error('❌ Lỗi save KPI evaluations:', result.error);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi save KPI evaluations:', error);\n      }\n    }, []);\n\n    // Load evaluations when component mounts\n    useEffect(() => {\n      loadKpiEvaluations();\n    }, [loadKpiEvaluations]);\n\n    // Lấy danh sách bộ phận từ users có thể đánh giá\n    const getAvailableDepartments = () => {\n      let availableUsers = [];\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        availableUsers = users.filter(user => user.role !== 'admin' && user.position === 'Tổ trưởng');\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => user.role !== 'admin' && (user.position === 'Tổ phó' || user.position === 'Nhân viên') && user.department === currentUser.department);\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => user.role !== 'admin' && user.position === 'Nhân viên' && user.department === currentUser.department);\n      }\n      return Array.from(new Set(availableUsers.map(user => user.department))).filter(dept => dept);\n    };\n\n    // Lấy danh sách bộ phận cho bộ lọc lịch sử\n    const getHistoryDepartments = () => {\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') {\n        // Quản lý xem tất cả bộ phận\n        return Array.from(new Set(users.map(user => user.department))).filter(dept => dept);\n      } else {\n        // Các cấp khác chỉ xem bộ phận mình\n        return [currentUser === null || currentUser === void 0 ? void 0 : currentUser.department].filter(dept => dept);\n      }\n    };\n    const departments = getAvailableDepartments();\n\n    // Lọc users theo bộ phận và quyền đánh giá\n    const getFilteredUsers = () => {\n      let filteredUsers = [];\n\n      // Quyền đánh giá theo cấp bậc\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        filteredUsers = users.filter(user => user.role !== 'admin' && user.position === 'Tổ trưởng');\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => user.role !== 'admin' && (user.position === 'Tổ phó' || user.position === 'Nhân viên') && user.department === currentUser.department);\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => user.role !== 'admin' && user.position === 'Nhân viên' && user.department === currentUser.department);\n      }\n\n      // Lọc theo bộ phận nếu được chọn\n      if (selectedDepartment !== 'all') {\n        filteredUsers = filteredUsers.filter(user => user.department === selectedDepartment);\n      }\n      return filteredUsers;\n    };\n    const filteredUsers = getFilteredUsers();\n    const criteria = [{\n      name: 'performance',\n      title: 'Hiệu quả công việc',\n      weight: 50,\n      description: 'Năng suất, chất lượng, tiến độ, linh hoạt',\n      maxScore: 100\n    }, {\n      name: 'discipline',\n      title: 'Kỷ luật & Tuân thủ',\n      weight: 30,\n      description: 'Giờ giấc, nội quy, an toàn, giữ gìn',\n      maxScore: 100\n    }, {\n      name: 'attitude',\n      title: 'Thái độ & Hợp tác',\n      weight: 20,\n      description: 'Trách nhiệm, hợp tác, học hỏi, chủ động',\n      maxScore: 100\n    }];\n    const handleScoreChange = (criteria, value) => {\n      setEvaluationData(prev => ({\n        ...prev,\n        [criteria]: parseInt(value) || 0\n      }));\n    };\n    const calculateTotalScore = () => {\n      let totalScore = 0;\n      let totalWeight = 0;\n      criteria.forEach(criterion => {\n        const score = evaluationData[criterion.name];\n        const weightedScore = score * criterion.weight / 100;\n        totalScore += weightedScore;\n        totalWeight += criterion.weight;\n      });\n      return Math.round(totalScore);\n    };\n    const getScoreLevel = score => {\n      if (score >= 90) return {\n        level: 'Xuất sắc',\n        color: '#28a745'\n      };\n      if (score >= 80) return {\n        level: 'Tốt',\n        color: '#17a2b8'\n      };\n      if (score >= 70) return {\n        level: 'Khá',\n        color: '#6f42c1'\n      };\n      if (score >= 50) return {\n        level: 'Trung bình',\n        color: '#ffc107'\n      };\n      return {\n        level: 'Yếu',\n        color: '#dc3545'\n      };\n    };\n\n    // Calculate summary statistics\n    const calculateSummary = () => {\n      try {\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        console.log('🔍 Debug calculateSummary:', {\n          summaryPeriod,\n          today: today.toLocaleDateString('vi-VN'),\n          allEvaluationsLength: allEvaluations.length\n        });\n        let startDate, endDate;\n        const currentYear = today.getFullYear();\n        const currentMonth = today.getMonth(); // 0-indexed\n\n        switch (summaryPeriod) {\n          case 'week':\n            // Current week: from Monday to Sunday\n            startDate = new Date(today);\n            startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n            endDate = new Date(today);\n            endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n            break;\n          case 'month':\n            startDate = new Date(currentYear, currentMonth, 1);\n            endDate = new Date(currentYear, currentMonth + 1, 0);\n            break;\n          case 'quarter':\n            const quarter = Math.floor(currentMonth / 3);\n            startDate = new Date(currentYear, quarter * 3, 1);\n            endDate = new Date(currentYear, quarter * 3 + 3, 0);\n            break;\n          case 'year':\n            startDate = new Date(currentYear, 0, 1);\n            endDate = new Date(currentYear, 11, 31);\n            break;\n          // Specific weeks in current month - weeks end on Sunday\n          case 'week1':\n            startDate = new Date(currentYear, currentMonth, 1);\n            const firstDay = new Date(currentYear, currentMonth, 1);\n            const firstDayOfWeek = firstDay.getDay();\n            if (firstDayOfWeek === 0) {\n              endDate = new Date(currentYear, currentMonth, 1);\n            } else {\n              const daysToSunday = 7 - firstDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, 1 + daysToSunday);\n            }\n            break;\n          case 'week2':\n            // Start from day after week 1's Sunday\n            const week1End = new Date(currentYear, currentMonth, 1);\n            const week1EndDayOfWeek = week1End.getDay();\n            if (week1EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2);\n            } else {\n              const daysToFirstSunday = 7 - week1EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1);\n            }\n            const week2StartDayOfWeek = startDate.getDay();\n            if (week2StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week2StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            break;\n          case 'week3':\n            // Start from day after week 2's Sunday\n            const week2End = new Date(currentYear, currentMonth, 1);\n            const week2EndDayOfWeek = week2End.getDay();\n            if (week2EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2 + 7);\n            } else {\n              const daysToFirstSunday = 7 - week2EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 7);\n            }\n            const week3StartDayOfWeek = startDate.getDay();\n            if (week3StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week3StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            break;\n          case 'week4':\n            // Start from day after week 3's Sunday\n            const week3End = new Date(currentYear, currentMonth, 1);\n            const week3EndDayOfWeek = week3End.getDay();\n            if (week3EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2 + 14);\n            } else {\n              const daysToFirstSunday = 7 - week3EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 14);\n            }\n            const week4StartDayOfWeek = startDate.getDay();\n            if (week4StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week4StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            break;\n          case 'week5':\n            // Start from day after week 4's Sunday\n            const week4End = new Date(currentYear, currentMonth, 1);\n            const week4EndDayOfWeek = week4End.getDay();\n            if (week4EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2 + 21);\n            } else {\n              const daysToFirstSunday = 7 - week4EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 21);\n            }\n            const week5StartDayOfWeek = startDate.getDay();\n            if (week5StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week5StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            // Ensure week 5 doesn't exceed month boundaries\n            const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n            if (endDate.getDate() > monthEnd.getDate()) {\n              endDate = new Date(monthEnd);\n            }\n            break;\n          // Specific months in current year\n          case 'month1':\n            startDate = new Date(currentYear, 0, 1);\n            endDate = new Date(currentYear, 0, 31);\n            break;\n          case 'month2':\n            startDate = new Date(currentYear, 1, 1);\n            endDate = new Date(currentYear, 1, 28); // February\n            break;\n          case 'month3':\n            startDate = new Date(currentYear, 2, 1);\n            endDate = new Date(currentYear, 2, 31);\n            break;\n          case 'month4':\n            startDate = new Date(currentYear, 3, 1);\n            endDate = new Date(currentYear, 3, 30);\n            break;\n          case 'month5':\n            startDate = new Date(currentYear, 4, 1);\n            endDate = new Date(currentYear, 4, 31);\n            break;\n          case 'month6':\n            startDate = new Date(currentYear, 5, 1);\n            endDate = new Date(currentYear, 5, 30);\n            break;\n          case 'month7':\n            startDate = new Date(currentYear, 6, 1);\n            endDate = new Date(currentYear, 6, 31);\n            break;\n          case 'month8':\n            startDate = new Date(currentYear, 7, 1);\n            endDate = new Date(currentYear, 7, 31);\n            break;\n          case 'month9':\n            startDate = new Date(currentYear, 8, 1);\n            endDate = new Date(currentYear, 8, 30);\n            break;\n          case 'month10':\n            startDate = new Date(currentYear, 9, 1);\n            endDate = new Date(currentYear, 9, 31);\n            break;\n          case 'month11':\n            startDate = new Date(currentYear, 10, 1);\n            endDate = new Date(currentYear, 10, 30);\n            break;\n          case 'month12':\n            startDate = new Date(currentYear, 11, 1);\n            endDate = new Date(currentYear, 11, 31);\n            break;\n          // Specific week in specific month\n          default:\n            if (summaryPeriod.includes('_week')) {\n              const [monthPart, weekPart] = summaryPeriod.split('_week');\n              const monthNum = parseInt(monthPart.replace('month', '')) - 1; // Convert to 0-indexed\n              const weekNum = parseInt(weekPart);\n              if (monthNum >= 0 && monthNum <= 11 && weekNum >= 1 && weekNum <= 5) {\n                const monthStart = new Date(currentYear, monthNum, 1);\n                const monthEnd = new Date(currentYear, monthNum + 1, 0);\n\n                // Calculate week boundaries - weeks end on Sunday\n                if (weekNum === 1) {\n                  // Week 1: From 1st day of month to next Sunday\n                  startDate = new Date(currentYear, monthNum, 1);\n\n                  // Find the first Sunday of the month\n                  const firstDay = new Date(currentYear, monthNum, 1);\n                  const firstDayOfWeek = firstDay.getDay(); // 0 = Sunday, 1 = Monday, etc.\n\n                  if (firstDayOfWeek === 0) {\n                    // If 1st is Sunday, week ends on same day\n                    endDate = new Date(currentYear, monthNum, 1);\n                  } else {\n                    // Find next Sunday\n                    const daysToSunday = 7 - firstDayOfWeek;\n                    endDate = new Date(currentYear, monthNum, 1 + daysToSunday);\n                  }\n                } else {\n                  // Week 2+: Start from day after previous week's Sunday\n                  const prevWeekEnd = new Date(currentYear, monthNum, 1);\n                  const firstDayOfWeek = prevWeekEnd.getDay();\n                  if (firstDayOfWeek === 0) {\n                    // If 1st is Sunday, week 2 starts on 2nd\n                    const weekStartDay = 1 + (weekNum - 1) * 7;\n                    startDate = new Date(currentYear, monthNum, weekStartDay);\n                  } else {\n                    // Calculate start of current week\n                    const daysToFirstSunday = 7 - firstDayOfWeek;\n                    const weekStartDay = 1 + daysToFirstSunday + (weekNum - 2) * 7;\n                    startDate = new Date(currentYear, monthNum, weekStartDay);\n                  }\n\n                  // Week ends on Sunday\n                  const weekStartDayOfWeek = startDate.getDay();\n                  if (weekStartDayOfWeek === 0) {\n                    // If week starts on Sunday, it ends same day\n                    endDate = new Date(startDate);\n                  } else {\n                    // Find next Sunday\n                    const daysToSunday = 7 - weekStartDayOfWeek;\n                    endDate = new Date(currentYear, monthNum, startDate.getDate() + daysToSunday);\n                  }\n                }\n\n                // Ensure dates don't exceed month boundaries\n                if (startDate.getMonth() !== monthNum) {\n                  startDate = new Date(currentYear, monthNum, 1);\n                }\n                if (endDate.getMonth() !== monthNum || endDate.getDate() > monthEnd.getDate()) {\n                  endDate = new Date(monthEnd);\n                }\n\n                // Debug log for week calculation\n                console.log(`📅 ${summaryPeriod}: ${startDate.toLocaleDateString('vi-VN')} - ${endDate.toLocaleDateString('vi-VN')}`);\n              } else {\n                startDate = new Date(0);\n                endDate = new Date();\n              }\n            } else {\n              startDate = new Date(0);\n              endDate = new Date();\n            }\n            break;\n        }\n        const filteredEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= startDate && evalDate <= endDate;\n        });\n        if (filteredEvaluations.length === 0) {\n          return {\n            totalEvaluations: 0,\n            averageScore: 0,\n            topPerformers: [],\n            departmentStats: {},\n            scoreDistribution: {\n              excellent: 0,\n              good: 0,\n              average: 0,\n              poor: 0\n            }\n          };\n        }\n\n        // Calculate average score\n        const totalScore = filteredEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0);\n        const averageScore = Math.round(totalScore / filteredEvaluations.length);\n\n        // Top performers\n        const topPerformers = filteredEvaluations.sort((a, b) => b.totalScore - a.totalScore).slice(0, 5);\n\n        // Department statistics\n        const departmentStats = filteredEvaluations.reduce((acc, evaluation) => {\n          if (!acc[evaluation.department]) {\n            acc[evaluation.department] = {\n              count: 0,\n              totalScore: 0,\n              average: 0\n            };\n          }\n          acc[evaluation.department].count += 1;\n          acc[evaluation.department].totalScore += evaluation.totalScore;\n          acc[evaluation.department].average = Math.round(acc[evaluation.department].totalScore / acc[evaluation.department].count);\n          return acc;\n        }, {});\n\n        // Score distribution (A/B/C/D)\n        const scoreDistribution = filteredEvaluations.reduce((acc, evaluation) => {\n          if (evaluation.totalScore >= 90) acc.excellent += 1; // Xuất sắc\n          else if (evaluation.totalScore >= 80) acc.good += 1; // Tốt\n          else if (evaluation.totalScore >= 70) acc.average += 1; // Trung bình\n          else acc.poor += 1; // Cần cải thiện\n          return acc;\n        }, {\n          excellent: 0,\n          good: 0,\n          average: 0,\n          poor: 0\n        });\n\n        // Calculate monthly trends\n        const monthlyTrend = calculateMonthlyTrend();\n        const dailyKPI = calculateDailyKPI();\n        return {\n          totalEvaluations: filteredEvaluations.length,\n          averageScore,\n          topPerformers,\n          departmentStats,\n          scoreDistribution,\n          monthlyTrend,\n          dailyKPI\n        };\n      } catch (error) {\n        console.error('❌ Error in calculateSummary:', error);\n        return {\n          totalEvaluations: 0,\n          averageScore: 0,\n          topPerformers: [],\n          departmentStats: {},\n          scoreDistribution: {\n            excellent: 0,\n            good: 0,\n            average: 0,\n            poor: 0\n          },\n          monthlyTrend: [],\n          dailyKPI: []\n        };\n      }\n    };\n\n    // Calculate monthly trend\n    const calculateMonthlyTrend = () => {\n      const months = [];\n      const now = new Date();\n      for (let i = 5; i >= 0; i--) {\n        const monthStart = new Date(now.getFullYear(), now.getMonth() - i, 1);\n        const monthEnd = new Date(now.getFullYear(), now.getMonth() - i + 1, 0);\n        const monthEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= monthStart && evalDate <= monthEnd;\n        });\n\n        // Calculate average of 4 weeks in the month\n        const weeklyAverages = calculateWeeklyAveragesInMonth(monthStart, monthEnd);\n        const monthlyAverage = weeklyAverages.length > 0 ? Math.round(weeklyAverages.reduce((sum, avg) => sum + avg, 0) / weeklyAverages.length) : 0;\n        months.push({\n          month: `${monthStart.getMonth() + 1}/${monthStart.getFullYear()}`,\n          evaluations: monthEvaluations.length,\n          averageScore: monthlyAverage,\n          weeklyAverages: weeklyAverages,\n          date: monthStart\n        });\n      }\n      return months;\n    };\n\n    // Calculate daily KPI for all weeks in current month\n    const calculateDailyKPI = () => {\n      try {\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n\n        // Get first and last day of current month\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        const days = [];\n        const dayNames = ['Chủ nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7'];\n\n        // Generate all days in the current month\n        const current = new Date(monthStart);\n        while (current <= monthEnd) {\n          const dayStart = new Date(current);\n          dayStart.setHours(0, 0, 0, 0);\n          const dayEnd = new Date(current);\n          dayEnd.setHours(23, 59, 59, 999);\n          const dayEvaluations = allEvaluations.filter(evaluation => {\n            const evalDate = new Date(evaluation.date);\n            return evalDate >= dayStart && evalDate <= dayEnd;\n          });\n          const avgScore = dayEvaluations.length > 0 ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / dayEvaluations.length) : 0;\n          const dayName = dayNames[current.getDay()];\n\n          // Calculate week number - weeks always end on Sunday\n          const dayOfMonth = current.getDate();\n          const firstDayOfMonth = monthStart.getDay(); // 0=Sunday, 1=Monday, etc.\n\n          // Find the Sunday that ends the week containing this day\n          const dayOfWeek = current.getDay(); // 0=Sunday, 1=Monday, etc.\n          const daysToSunday = dayOfWeek === 0 ? 0 : 7 - dayOfWeek;\n          const weekEndingSunday = new Date(current);\n          weekEndingSunday.setDate(current.getDate() + daysToSunday);\n\n          // Calculate week number based on which Sunday this week ends on\n          let weekNumber;\n          if (firstDayOfMonth === 0) {\n            // Month starts on Sunday\n            weekNumber = Math.ceil(dayOfMonth / 7);\n          } else {\n            // Find the first Sunday of the month\n            const firstSunday = new Date(monthStart);\n            if (firstDayOfMonth === 0) {\n              // Already Sunday\n            } else {\n              firstSunday.setDate(1 + (7 - firstDayOfMonth));\n            }\n\n            // Calculate week number based on which Sunday this week ends on\n            const daysDiff = Math.floor((weekEndingSunday - firstSunday) / (1000 * 60 * 60 * 24));\n            weekNumber = Math.floor(daysDiff / 7) + 1;\n\n            // If this day is before the first Sunday, it's week 1\n            if (current < firstSunday) {\n              weekNumber = 1;\n            }\n          }\n          days.push({\n            day: dayName,\n            date: current.toLocaleDateString('vi-VN'),\n            evaluationsCount: dayEvaluations.length,\n            averageScore: avgScore,\n            evaluations: dayEvaluations,\n            weekNumber: weekNumber\n          });\n          current.setDate(current.getDate() + 1);\n        }\n        return days;\n      } catch (error) {\n        console.error('❌ Error in calculateDailyKPI:', error);\n        return [];\n      }\n    };\n\n    // Calculate weekly averages in a month\n    const calculateWeeklyAveragesInMonth = (monthStart, monthEnd) => {\n      const weeklyAverages = [];\n      const current = new Date(monthStart);\n      while (current <= monthEnd) {\n        const weekStart = new Date(current);\n        const weekEnd = new Date(current);\n        weekEnd.setDate(current.getDate() + 6);\n\n        // Adjust if week goes beyond month\n        if (weekEnd > monthEnd) {\n          weekEnd.setTime(monthEnd.getTime());\n        }\n        const weekEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= weekStart && evalDate <= weekEnd;\n        });\n        const weekAvg = weekEvaluations.length > 0 ? Math.round(weekEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / weekEvaluations.length) : 0;\n        weeklyAverages.push(weekAvg);\n\n        // Move to next week\n        current.setDate(current.getDate() + 7);\n      }\n      return weeklyAverages;\n    };\n\n    // Export Daily KPI to Excel\n    const exportDailyKPIExcel = dailyData => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Ngày,Thứ,Đánh giá,Điểm trung bình\\n\";\n        dailyData.forEach(day => {\n          csvContent += `${day.date},${day.day},${day.evaluationsCount},${day.averageScore}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_ngay_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert('✅ Đã xuất báo cáo KPI theo ngày thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Monthly KPI to Excel\n    const exportMonthlyKPIExcel = monthlyData => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Tháng,Đánh giá,Điểm trung bình,Điểm TB tuần 1,Điểm TB tuần 2,Điểm TB tuần 3,Điểm TB tuần 4\\n\";\n        monthlyData.forEach(month => {\n          const weeklyAvgs = month.weeklyAverages || [];\n          csvContent += `${month.month},${month.evaluations},${month.averageScore},${weeklyAvgs[0] || 0},${weeklyAvgs[1] || 0},${weeklyAvgs[2] || 0},${weeklyAvgs[3] || 0}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_thang_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert('✅ Đã xuất báo cáo KPI theo tháng thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Department KPI to Excel\n    const exportDepartmentKPIExcel = departmentStats => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Bộ phận,Số đánh giá,Điểm trung bình\\n\";\n        Object.entries(departmentStats).forEach(([dept, stats]) => {\n          csvContent += `${dept},${stats.count},${stats.average}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_bo_phan_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert('✅ Đã xuất báo cáo KPI theo bộ phận thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (with current filters)\n    const exportAllEvaluationsExcel = () => {\n      try {\n        // Get filtered evaluations - use the same logic as display\n        const filteredEvaluations = allEvaluations.filter(evaluation => {\n          // Filter by department\n          if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n            return false;\n          }\n\n          // Filter by time period\n          const evalDate = new Date(evaluation.date);\n          const today = new Date();\n          let startDate;\n          switch (summaryPeriod) {\n            case 'week':\n              // Current week: from Monday to Sunday\n              startDate = new Date(today);\n              startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n              const endDate = new Date(today);\n              endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n              return evalDate >= startDate && evalDate <= endDate;\n            case 'month':\n              startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n              break;\n            case 'quarter':\n              const quarter = Math.floor(today.getMonth() / 3);\n              startDate = new Date(today.getFullYear(), quarter * 3, 1);\n              break;\n            case 'year':\n              startDate = new Date(today.getFullYear(), 0, 1);\n              break;\n            default:\n              // Show all evaluations when no specific period is selected\n              return true;\n          }\n          return evalDate >= startDate && evalDate <= today;\n        });\n        exportEvaluationsToCSV(filteredEvaluations, 'Danh_sach_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (without filters)\n    const exportAllEvaluationsExcelUnfiltered = () => {\n      try {\n        exportEvaluationsToCSV(allEvaluations, 'Tat_ca_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Helper function to export evaluations to CSV\n    const exportEvaluationsToCSV = (evaluations, filenamePrefix) => {\n      try {\n        // Debug log\n        console.log('Export Debug:');\n        console.log('- Evaluations to export:', evaluations.length);\n        console.log('- Data:', evaluations);\n\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Ngày đánh giá,Hiệu quả,Kỷ luật,Thái độ,Tổng điểm,Xếp loại\\n\";\n        evaluations.forEach((evaluation, index) => {\n          csvContent += `${index + 1},${evaluation.userName},${evaluation.department},${new Date(evaluation.date).toLocaleDateString('vi-VN')},${evaluation.scores.performance},${evaluation.scores.discipline},${evaluation.scores.attitude},${evaluation.totalScore},${evaluation.level}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert(`✅ Đã xuất ${evaluations.length} đánh giá KPI thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export weekly summaries to CSV\n    const exportWeeklySummariesToCSV = (weeklySummaries, filenamePrefix) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Tuần từ,Tuần đến,Số đánh giá ngày,Điểm TB hiệu quả,Điểm TB kỷ luật,Điểm TB thái độ,Điểm TB tổng,Xếp loại tuần\\n\";\n        weeklySummaries.forEach((summary, index) => {\n          csvContent += `${index + 1},${summary.userName},${summary.department},${new Date(summary.weekStart).toLocaleDateString('vi-VN')},${new Date(summary.weekEnd).toLocaleDateString('vi-VN')},${summary.totalDailyEvaluations},${summary.averageScores.performance},${summary.averageScores.discipline},${summary.averageScores.attitude},${summary.averageTotalScore},${summary.weeklyLevel}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert(`✅ Đã xuất ${weeklySummaries.length} báo cáo tổng hợp tuần thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Calculate weekly summary from daily evaluations\n    const calculateWeeklySummary = (userId, weekStart, weekNumber) => {\n      const currentMonth = new Date().getMonth();\n      const currentYear = new Date().getFullYear();\n      const monthStart = new Date(currentYear, currentMonth, 1);\n      const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n\n      // Calculate week end (Sunday of the week)\n      const weekEnd = new Date(weekStart);\n      weekEnd.setDate(weekStart.getDate() + 6);\n      weekEnd.setHours(23, 59, 59, 999);\n\n      // Ensure week end doesn't exceed month end\n      if (weekEnd > monthEnd) {\n        weekEnd.setTime(monthEnd.getTime());\n        weekEnd.setHours(23, 59, 59, 999);\n      }\n\n      // Get all daily evaluations for this user in this week (within month)\n      const weeklyEvaluations = allEvaluations.filter(evaluation => {\n        const evalDate = new Date(evaluation.date);\n        return evaluation.userId === userId && evalDate >= weekStart && evalDate <= weekEnd && evalDate >= monthStart && evalDate <= monthEnd;\n      });\n      if (weeklyEvaluations.length === 0) return null;\n\n      // Calculate averages\n      const totalEvaluations = weeklyEvaluations.length;\n      const avgPerformance = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.performance, 0) / totalEvaluations;\n      const avgDiscipline = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.discipline, 0) / totalEvaluations;\n      const avgAttitude = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.attitude, 0) / totalEvaluations;\n      const avgTotalScore = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations;\n\n      // Determine weekly level based on average score\n      let weeklyLevel;\n      if (avgTotalScore >= 90) weeklyLevel = 'Xuất sắc';else if (avgTotalScore >= 80) weeklyLevel = 'Tốt';else if (avgTotalScore >= 70) weeklyLevel = 'Trung bình';else weeklyLevel = 'Cần cải thiện';\n      return {\n        userId: userId,\n        userName: weeklyEvaluations[0].userName,\n        department: weeklyEvaluations[0].department,\n        weekStart: weekStart.toISOString().split('T')[0],\n        weekEnd: weekEnd.toISOString().split('T')[0],\n        weekNumber: weekNumber,\n        totalDailyEvaluations: totalEvaluations,\n        averageScores: {\n          performance: Math.round(avgPerformance * 100) / 100,\n          discipline: Math.round(avgDiscipline * 100) / 100,\n          attitude: Math.round(avgAttitude * 100) / 100\n        },\n        averageTotalScore: Math.round(avgTotalScore * 100) / 100,\n        weeklyLevel: weeklyLevel,\n        dailyEvaluations: weeklyEvaluations,\n        createdAt: new Date().toISOString()\n      };\n    };\n\n    // Filter weekly summaries based on time and department\n    const getFilteredWeeklySummaries = () => {\n      const allSummaries = generateWeeklySummaries();\n      return allSummaries.filter(summary => {\n        // Filter by department\n        if (weeklyDepartmentFilter !== 'all' && summary.department !== weeklyDepartmentFilter) {\n          return false;\n        }\n\n        // Filter by time\n        if (weeklyTimeFilter !== 'all') {\n          const summaryDate = new Date(summary.weekStart);\n          const today = new Date();\n          switch (weeklyTimeFilter) {\n            case 'week1':\n              return summary.weekNumber === 1;\n            case 'week2':\n              return summary.weekNumber === 2;\n            case 'week3':\n              return summary.weekNumber === 3;\n            case 'week4':\n              return summary.weekNumber === 4;\n            case 'week5':\n              return summary.weekNumber === 5;\n            case 'current':\n              // Current week (this week)\n              const currentWeekStart = new Date(today);\n              const currentDay = today.getDay();\n              const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay;\n              currentWeekStart.setDate(today.getDate() + daysToMonday);\n              currentWeekStart.setHours(0, 0, 0, 0);\n              const currentWeekEnd = new Date(currentWeekStart);\n              currentWeekEnd.setDate(currentWeekStart.getDate() + 6);\n              currentWeekEnd.setHours(23, 59, 59, 999);\n              return summaryDate >= currentWeekStart && summaryDate <= currentWeekEnd;\n            default:\n              return true;\n          }\n        }\n        return true;\n      });\n    };\n\n    // Generate weekly summaries for all users (monthly-based weeks)\n    const generateWeeklySummaries = () => {\n      try {\n        const today = new Date();\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n        console.log('🔍 Debug - Today:', today.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Current month:', currentMonth + 1);\n\n        // Get current month boundaries\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        monthEnd.setHours(23, 59, 59, 999);\n        console.log('🔍 Debug - Month start:', monthStart.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Month end:', monthEnd.toISOString().split('T')[0]);\n\n        // Calculate weeks in month (Week 1 starts from 1st day of month)\n        const weeksInMonth = [];\n        let weekNumber = 1;\n\n        // Week 1 always starts from the 1st day of the month\n        let weekStart = new Date(currentYear, currentMonth, 1);\n        weekStart.setHours(0, 0, 0, 0);\n        console.log('🔍 Debug - Week 1 start:', weekStart.toISOString().split('T')[0]);\n\n        // Generate all weeks that have at least one day in the current month\n        while (weekStart <= monthEnd) {\n          let weekEnd;\n          if (weekNumber === 1) {\n            // Week 1: from 1st day to Sunday of that week\n            const firstDayOfWeek = weekStart.getDay();\n            const daysToSunday = firstDayOfWeek === 0 ? 0 : 7 - firstDayOfWeek;\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + daysToSunday);\n          } else {\n            // Other weeks: Monday to Sunday\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n          }\n          weekEnd.setHours(23, 59, 59, 999);\n\n          // Only include weeks that have at least one day in the current month\n          if (weekEnd >= monthStart && weekStart <= monthEnd) {\n            const actualWeekStart = new Date(Math.max(weekStart, monthStart));\n            const actualWeekEnd = new Date(Math.min(weekEnd, monthEnd));\n            actualWeekStart.setHours(0, 0, 0, 0);\n            actualWeekEnd.setHours(23, 59, 59, 999);\n            console.log(`🔍 Debug - Week ${weekNumber}: ${actualWeekStart.toISOString().split('T')[0]} to ${actualWeekEnd.toISOString().split('T')[0]}`);\n            weeksInMonth.push({\n              start: actualWeekStart,\n              end: actualWeekEnd,\n              weekNumber: weekNumber\n            });\n            weekNumber++;\n          }\n\n          // Move to next week\n          if (weekNumber === 2) {\n            // Week 2 starts from Monday after Week 1's Sunday\n            weekStart = new Date(weekEnd);\n            weekStart.setDate(weekEnd.getDate() + 1);\n            weekStart.setHours(0, 0, 0, 0);\n          } else {\n            // Other weeks: move to next Monday\n            weekStart = new Date(weekStart);\n            weekStart.setDate(weekStart.getDate() + 7);\n            weekStart.setHours(0, 0, 0, 0);\n          }\n        }\n        console.log('🔍 Debug - Total weeks:', weeksInMonth.length);\n\n        // Get unique users who have evaluations\n        const uniqueUsers = [...new Set(allEvaluations.map(evaluation => evaluation.userId))];\n        const weeklySummaries = [];\n\n        // For each week in the month, calculate summaries for all users\n        weeksInMonth.forEach(week => {\n          uniqueUsers.forEach(userId => {\n            const summary = calculateWeeklySummary(userId, week.start, week.weekNumber);\n            if (summary) {\n              weeklySummaries.push(summary);\n            }\n          });\n        });\n        return weeklySummaries;\n      } catch (error) {\n        console.error('❌ Error in generateWeeklySummaries:', error);\n        return [];\n      }\n    };\n\n    // Toggle expanded user details\n    const toggleUserDetails = userId => {\n      setExpandedUser(expandedUser === userId ? null : userId);\n    };\n\n    // Filter history evaluations\n    const getFilteredHistory = () => {\n      return evaluationHistory.filter(evaluation => {\n        // Quản lý xem tất cả, các cấp khác chỉ xem bộ phận mình\n        if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý') {\n          if (evaluation.department !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department)) {\n            return false;\n          }\n        }\n\n        // Filter by department (nếu có bộ lọc)\n        if (historyDepartmentFilter !== 'all' && evaluation.department !== historyDepartmentFilter) {\n          return false;\n        }\n\n        // Filter by specific date if provided\n        if (historyDateFilter) {\n          const evalDate = new Date(evaluation.date);\n          const filterDate = new Date(historyDateFilter);\n          return evalDate.toDateString() === filterDate.toDateString();\n        }\n\n        // Filter by time period\n        const evalDate = new Date(evaluation.date);\n        const today = new Date();\n        let startDate;\n        switch (historyTimeFilter) {\n          case 'today':\n            startDate = new Date(today);\n            startDate.setHours(0, 0, 0, 0);\n            break;\n          case 'week':\n            // Current week: from Monday to Sunday\n            startDate = new Date(today);\n            startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n            const endDate = new Date(today);\n            endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n            return evalDate >= startDate && evalDate <= endDate;\n          case 'month':\n            startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n            break;\n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            startDate = new Date(today.getFullYear(), quarter * 3, 1);\n            break;\n          case 'year':\n            startDate = new Date(today.getFullYear(), 0, 1);\n            break;\n          default:\n            return true;\n        }\n        return evalDate >= startDate && evalDate <= today;\n      });\n    };\n\n    // Calculate daily KPI report for current week\n    const calculateDailyKPIReport = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n\n      // Calculate current week: Monday to Sunday\n      const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday\n      const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay; // Monday is start of week\n\n      const currentWeekStart = new Date(today);\n      currentWeekStart.setDate(today.getDate() + daysToMonday);\n      const currentWeekEnd = new Date(currentWeekStart);\n      currentWeekEnd.setDate(currentWeekStart.getDate() + 6); // Sunday\n\n      const dailyReports = [];\n      const dayNames = ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];\n\n      // Generate days for the current week\n      const daysInWeek = Math.ceil((currentWeekEnd - currentWeekStart) / (1000 * 60 * 60 * 24)) + 1;\n      for (let i = 0; i < daysInWeek; i++) {\n        const dayStart = new Date(currentWeekStart);\n        dayStart.setDate(currentWeekStart.getDate() + i);\n        const dayEnd = new Date(dayStart);\n        dayEnd.setHours(23, 59, 59, 999);\n        const dayEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= dayStart && evalDate <= dayEnd;\n        });\n\n        // Calculate department-wise statistics for this day\n        const departmentStats = {};\n        dayEvaluations.forEach(evaluation => {\n          if (!departmentStats[evaluation.department]) {\n            departmentStats[evaluation.department] = {\n              evaluations: [],\n              totalScore: 0,\n              count: 0,\n              averageScore: 0\n            };\n          }\n          departmentStats[evaluation.department].evaluations.push(evaluation);\n          departmentStats[evaluation.department].totalScore += evaluation.totalScore;\n          departmentStats[evaluation.department].count += 1;\n        });\n\n        // Calculate average scores for each department\n        Object.keys(departmentStats).forEach(dept => {\n          const stats = departmentStats[dept];\n          stats.averageScore = stats.count > 0 ? Math.round(stats.totalScore / stats.count) : 0;\n        });\n        const totalEvaluations = dayEvaluations.length;\n        const overallAverage = totalEvaluations > 0 ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations) : 0;\n        dailyReports.push({\n          dayName: dayNames[i],\n          date: dayStart,\n          dateString: dayStart.toLocaleDateString('vi-VN'),\n          totalEvaluations,\n          overallAverage,\n          departmentStats,\n          evaluations: dayEvaluations\n        });\n      }\n      return dailyReports;\n    };\n    const handleStartEvaluation = user => {\n      setSelectedUser(user);\n      setIsEvaluating(true);\n      setEvaluationData({\n        performance: 0,\n        discipline: 0,\n        attitude: 0\n      });\n    };\n    const handleSaveEvaluation = async () => {\n      const totalScore = calculateTotalScore();\n      const scoreLevel = getScoreLevel(totalScore);\n      const newEvaluation = {\n        id: Date.now(),\n        userId: selectedUser.id,\n        userName: selectedUser.fullName,\n        department: selectedUser.department,\n        date: evaluationDate,\n        scores: evaluationData,\n        totalScore: totalScore,\n        level: scoreLevel.level,\n        evaluatedBy: currentUser.fullName,\n        evaluatorRole: currentUser.role === 'admin' ? 'Quản lý' : currentUser.position,\n        createdAt: new Date().toISOString()\n      };\n      const updatedEvaluations = [newEvaluation, ...allEvaluations];\n      setEvaluationHistory(updatedEvaluations);\n      setAllEvaluations(updatedEvaluations);\n\n      // Save to server\n      await saveKpiEvaluations(updatedEvaluations);\n      alert(`Đánh giá KPI cho ${selectedUser.fullName} ngày ${evaluationDate}:\\nĐiểm tổng: ${totalScore}/100\\nXếp loại: ${scoreLevel.level}`);\n      setIsEvaluating(false);\n      setSelectedUser(null);\n    };\n\n    // Delete evaluation function\n    const handleDeleteEvaluation = async evaluationId => {\n      if (!window.confirm('Bạn có chắc chắn muốn xóa đánh giá này? Hành động này không thể hoàn tác.')) {\n        return;\n      }\n      try {\n        // Gọi API để xóa đánh giá\n        const response = await fetch(`${window.API_BASE || API_BASE}/api/kpi-evaluations/${evaluationId}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const result = await response.json();\n        if (result.success) {\n          // Cập nhật state local\n          const updatedEvaluations = allEvaluations.filter(evaluation => evaluation.id !== evaluationId);\n          setEvaluationHistory(updatedEvaluations);\n          setAllEvaluations(updatedEvaluations);\n          alert('✅ Đã xóa đánh giá thành công!');\n        } else {\n          alert(`❌ Lỗi: ${result.error}`);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi khi xóa đánh giá:', error);\n        alert('❌ Lỗi khi xóa đánh giá. Vui lòng thử lại.');\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kpi-evaluation\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kpi-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCA \\u0110\\xE1nh gi\\xE1 KPI nh\\xE2n s\\u1EF1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1ED9 ti\\xEAu ch\\xED 360\\xB0 - \\u01AFu ti\\xEAn hi\\u1EC7u qu\\u1EA3 \\u2013 tu\\xE2n th\\u1EE7 \\u2013 ph\\xE1t tri\\u1EC3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCC5 Ng\\xE0y \\u0111\\xE1nh gi\\xE1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: evaluationDate,\n              onChange: e => setEvaluationDate(e.target.value),\n              className: \"date-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-mode\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'evaluate' ? 'active' : ''}`,\n              onClick: () => setViewMode('evaluate'),\n              children: \"\\uD83D\\uDCDD \\u0110\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'history' ? 'active' : ''}`,\n              onClick: () => setViewMode('history'),\n              children: \"\\uD83D\\uDCCA L\\u1ECBch s\\u1EED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2507,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'summary' ? 'active' : ''}`,\n              onClick: () => setViewMode('summary'),\n              children: \"\\uD83D\\uDCC8 T\\u1ED5ng h\\u1EE3p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2513,\n              columnNumber: 15\n            }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'all-evaluations' ? 'active' : ''}`,\n              onClick: () => setViewMode('all-evaluations'),\n              children: \"\\uD83D\\uDC65 T\\u1EA5t c\\u1EA3 \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2520,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2500,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2487,\n        columnNumber: 9\n      }, this), viewMode === 'summary' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evaluation-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCC8 T\\u1ED5ng h\\u1EE3p \\u0111\\xE1nh gi\\xE1 KPI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: () => exportDailyKPIExcel(calculateDailyKPIReport()),\n                title: \"Xu\\u1EA5t b\\xE1o c\\xE1o KPI theo ng\\xE0y\",\n                children: \"\\uD83D\\uDCC5 Xu\\u1EA5t theo ng\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2537,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: () => exportMonthlyKPIExcel(calculateMonthlyKPIReport()),\n                title: \"Xu\\u1EA5t b\\xE1o c\\xE1o KPI theo th\\xE1ng\",\n                children: \"\\uD83D\\uDCCA Xu\\u1EA5t theo th\\xE1ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2544,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2536,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2534,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"period-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Kho\\u1EA3ng th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2554,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: summaryPeriod,\n              onChange: e => setSummaryPeriod(e.target.value),\n              className: \"period-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Tu\\u1EA7n n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2560,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Th\\xE1ng n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2561,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quarter\",\n                children: \"Qu\\xFD n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2562,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"N\\u0103m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2563,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"\\uD83D\\uDCC5 Theo tu\\u1EA7n\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week1\",\n                  children: \"Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2565,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week2\",\n                  children: \"Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2566,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week3\",\n                  children: \"Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2567,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week4\",\n                  children: \"Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2568,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week5\",\n                  children: \"Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2569,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2564,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"\\uD83D\\uDCC6 Theo th\\xE1ng\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1\",\n                  children: \"Th\\xE1ng 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2572,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2\",\n                  children: \"Th\\xE1ng 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2573,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3\",\n                  children: \"Th\\xE1ng 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2574,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4\",\n                  children: \"Th\\xE1ng 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2575,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5\",\n                  children: \"Th\\xE1ng 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2576,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6\",\n                  children: \"Th\\xE1ng 6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2577,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7\",\n                  children: \"Th\\xE1ng 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2578,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8\",\n                  children: \"Th\\xE1ng 8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2579,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9\",\n                  children: \"Th\\xE1ng 9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2580,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10\",\n                  children: \"Th\\xE1ng 10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2581,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11\",\n                  children: \"Th\\xE1ng 11\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2582,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12\",\n                  children: \"Th\\xE1ng 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2583,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"\\uD83D\\uDDD3\\uFE0F Tu\\u1EA7n trong th\\xE1ng c\\u1EE5 th\\u1EC3\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week1\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2586,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week2\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2587,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week3\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2588,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week4\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2589,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week5\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2590,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week1\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2591,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week2\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2592,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week3\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2593,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week4\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2594,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week1\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2595,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week2\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2596,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week3\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2597,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week4\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2598,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week5\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2599,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week1\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2600,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week2\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2601,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week3\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2602,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week4\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2603,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week1\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2604,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week2\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2605,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week3\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2606,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week4\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2607,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week5\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2608,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week1\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2609,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week2\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2610,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week3\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2611,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week4\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2612,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week1\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2613,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week2\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2614,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week3\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2615,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week4\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2616,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week5\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2617,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week1\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2618,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week2\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2619,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week3\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2620,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week4\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2621,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week5\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2622,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week1\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2623,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week2\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2624,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week3\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2625,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week4\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2626,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week1\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2627,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week2\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2628,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week3\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2629,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week4\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2630,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week5\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2631,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week1\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2632,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week2\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2633,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week3\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2634,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week4\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2635,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week1\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2636,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week2\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2637,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week3\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2638,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week4\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2639,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week5\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2640,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2585,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2555,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2553,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2533,\n          columnNumber: 13\n        }, this), (() => {\n          const summary = calculateSummary();\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"T\\u1ED5ng \\u0111\\xE1nh gi\\xE1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2652,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.totalEvaluations\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2653,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2651,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\u0110i\\u1EC3m trung b\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2656,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: [summary.averageScore, \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2657,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2655,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Xu\\u1EA5t s\\u1EAFc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2660,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.excellent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2661,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2659,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"T\\u1ED1t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2664,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.good\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2665,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2663,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Trung b\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2668,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.average\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2669,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2667,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"C\\u1EA7n c\\u1EA3i thi\\u1EC7n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2672,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.poor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2673,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2671,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2650,\n              columnNumber: 19\n            }, this), summary.topPerformers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top-performers\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uD83C\\uDFC6 Top 5 nh\\xE2n vi\\xEAn xu\\u1EA5t s\\u1EAFc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2679,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"performers-list\",\n                children: summary.topPerformers.map((performer, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"performer-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rank\",\n                    children: [\"#\", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2683,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"performer-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"name\",\n                      children: performer.userName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2685,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"department\",\n                      children: performer.department\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2686,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2684,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"score\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"score-value\",\n                      style: {\n                        color: getScoreLevel(performer.totalScore).color\n                      },\n                      children: [performer.totalScore, \"/100\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2689,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"level\",\n                      children: performer.level\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2695,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2688,\n                    columnNumber: 29\n                  }, this)]\n                }, performer.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2682,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2680,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2678,\n              columnNumber: 21\n            }, this), Object.keys(summary.departmentStats).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"department-performance\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCCA N\\u0103ng su\\u1EA5t theo b\\u1ED9 ph\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2706,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export-excel-btn\",\n                  onClick: () => exportDepartmentKPIExcel(summary.departmentStats),\n                  title: \"Xu\\u1EA5t b\\xE1o c\\xE1o Excel\",\n                  children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2707,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2705,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"department-list\",\n                children: Object.entries(summary.departmentStats).map(([dept, stats]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"department-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dept-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2718,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dept-stats\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\u0110\\xE1nh gi\\xE1: \", stats.count]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2720,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Trung b\\xECnh: \", stats.average, \"/100\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2721,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2719,\n                    columnNumber: 29\n                  }, this)]\n                }, dept, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2717,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2715,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2704,\n              columnNumber: 21\n            }, this), summary.dailyKPI && summary.dailyKPI.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"trend-section daily-kpi\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCC5 B\\xE1o c\\xE1o KPI theo ng\\xE0y (Th\\xE1ng n\\xE0y)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2733,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export-excel-btn\",\n                  onClick: () => exportDailyKPIExcel(summary.dailyKPI),\n                  title: \"Xu\\u1EA5t b\\xE1o c\\xE1o Excel\",\n                  children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2734,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2732,\n                columnNumber: 23\n              }, this), (() => {\n                const weeks = {};\n                summary.dailyKPI.forEach(day => {\n                  const weekNum = day.weekNumber || 1;\n                  if (!weeks[weekNum]) {\n                    weeks[weekNum] = [];\n                  }\n                  weeks[weekNum].push(day);\n                });\n                return Object.keys(weeks).map(weekNum => {\n                  const weekDays = weeks[weekNum];\n                  const firstDay = weekDays[0];\n                  const lastDay = weekDays[weekDays.length - 1];\n                  const weekTitle = weekDays.length < 7 ? `📅 Tuần ${weekNum} (${firstDay.date} - ${lastDay.date})` : `📅 Tuần ${weekNum}`;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"week-section\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"week-title\",\n                      children: weekTitle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2763,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"daily-kpi-grid\",\n                      children: weekDays.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"daily-kpi-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"day-header\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"day-name\",\n                            children: day.day\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2768,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"day-date\",\n                            children: day.date\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2769,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2767,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"day-stats\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"day-stat\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-label\",\n                              children: \"\\u0110\\xE1nh gi\\xE1:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2773,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-value\",\n                              children: day.evaluationsCount\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2774,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2772,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"day-stat\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-label\",\n                              children: \"\\u0110i\\u1EC3m TB:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2777,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-value score\",\n                              children: [day.averageScore, \"/100\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2778,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2776,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2771,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"day-progress\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"progress-fill\",\n                            style: {\n                              width: `${day.averageScore}%`,\n                              backgroundColor: day.averageScore >= 80 ? '#28a745' : day.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2782,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2781,\n                          columnNumber: 35\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2766,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2764,\n                      columnNumber: 31\n                    }, this)]\n                  }, weekNum, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2762,\n                    columnNumber: 29\n                  }, this);\n                });\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2731,\n              columnNumber: 21\n            }, this), summary.monthlyTrend && summary.monthlyTrend.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"trend-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCCA Xu h\\u01B0\\u1EDBng theo th\\xE1ng (6 th\\xE1ng g\\u1EA7n nh\\u1EA5t)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2806,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export-excel-btn\",\n                  onClick: () => exportMonthlyKPIExcel(summary.monthlyTrend),\n                  title: \"Xu\\u1EA5t b\\xE1o c\\xE1o Excel\",\n                  children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2807,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2805,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"trend-chart monthly-trend\",\n                children: summary.monthlyTrend.map((month, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"trend-item monthly\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-header\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"trend-label\",\n                      children: month.month\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2819,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2818,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-stats\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"trend-stat\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-label\",\n                        children: \"\\u0110\\xE1nh gi\\xE1:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2823,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-value\",\n                        children: month.evaluations\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2824,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2822,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"trend-stat\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-label\",\n                        children: \"\\u0110i\\u1EC3m TB:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2827,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-value score\",\n                        children: [month.averageScore, \"/100\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2828,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2826,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2821,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-bar\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"trend-fill\",\n                      style: {\n                        width: `${month.averageScore}%`,\n                        backgroundColor: month.averageScore >= 80 ? '#28a745' : month.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2832,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2831,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2817,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2815,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2804,\n              columnNumber: 21\n            }, this), summary.totalEvaluations === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-data\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u \\u0111\\xE1nh gi\\xE1 trong kho\\u1EA3ng th\\u1EDDi gian n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2849,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2848,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '30px',\n                padding: '15px',\n                background: 'linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)',\n                borderRadius: '8px',\n                border: '1px solid #ffc107'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0 0 15px 0',\n                  color: '#856404',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: \"\\uD83D\\uDCCA B\\xE1o c\\xE1o t\\u1ED5ng h\\u1EE3p tu\\u1EA7n trong th\\xE1ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2855,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '15px',\n                  marginBottom: '15px',\n                  flexWrap: 'wrap'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      color: '#856404',\n                      fontWeight: '600'\n                    },\n                    children: \"\\uD83D\\uDCC5 Tu\\u1EA7n:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2862,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: weeklyTimeFilter,\n                    onChange: e => setWeeklyTimeFilter(e.target.value),\n                    style: {\n                      padding: '6px 10px',\n                      borderRadius: '6px',\n                      border: '1px solid #ffc107',\n                      backgroundColor: 'white',\n                      color: '#495057'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"all\",\n                      children: \"T\\u1EA5t c\\u1EA3 tu\\u1EA7n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2874,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"current\",\n                      children: \"Tu\\u1EA7n hi\\u1EC7n t\\u1EA1i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2875,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week1\",\n                      children: \"Tu\\u1EA7n 1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2876,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week2\",\n                      children: \"Tu\\u1EA7n 2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2877,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week3\",\n                      children: \"Tu\\u1EA7n 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2878,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week4\",\n                      children: \"Tu\\u1EA7n 4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2879,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week5\",\n                      children: \"Tu\\u1EA7n 5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2880,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2863,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2861,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      color: '#856404',\n                      fontWeight: '600'\n                    },\n                    children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2885,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: weeklyDepartmentFilter,\n                    onChange: e => setWeeklyDepartmentFilter(e.target.value),\n                    style: {\n                      padding: '6px 10px',\n                      borderRadius: '6px',\n                      border: '1px solid #ffc107',\n                      backgroundColor: 'white',\n                      color: '#495057'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"all\",\n                      children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2897,\n                      columnNumber: 27\n                    }, this), Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: dept,\n                      children: dept\n                    }, dept, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2899,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2886,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2884,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2860,\n                columnNumber: 21\n              }, this), (() => {\n                const weeklySummaries = getFilteredWeeklySummaries();\n                if (weeklySummaries.length === 0) {\n                  return /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      color: '#856404'\n                    },\n                    children: \"\\uD83D\\uDCED Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2908,\n                    columnNumber: 32\n                  }, this);\n                }\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: '0 0 10px 0',\n                      color: '#856404'\n                    },\n                    children: [\"\\uD83D\\uDCC8 T\\u1ED5ng h\\u1EE3p t\\u1EEB \", weeklySummaries.reduce((sum, s) => sum + s.totalDailyEvaluations, 0), \" \\u0111\\xE1nh gi\\xE1 h\\xE0ng ng\\xE0y c\\u1EE7a \", weeklySummaries.length, \" nh\\xE2n vi\\xEAn\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2913,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      background: 'white',\n                      borderRadius: '8px',\n                      border: '1px solid #dee2e6',\n                      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n                      overflow: 'hidden'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'grid',\n                        gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr',\n                        gap: '1px',\n                        background: '#f8f9fa',\n                        borderBottom: '2px solid #dee2e6'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2931,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCC5 Tu\\u1EA7n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2932,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2933,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCC5 T\\u1EEB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2934,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCC5 \\u0110\\u1EBFn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2935,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCCA S\\u1ED1 \\u0111\\xE1nh gi\\xE1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2936,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\u26A1 Hi\\u1EC7u qu\\u1EA3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2937,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2938,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83E\\uDDE1 Th\\xE1i \\u0111\\u1ED9\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2939,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83C\\uDFAF T\\u1ED5ng \\u0111i\\u1EC3m\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2940,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCCA X\\u1EBFp lo\\u1EA1i\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2941,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2924,\n                      columnNumber: 29\n                    }, this), weeklySummaries.map((summary, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'grid',\n                          gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr',\n                          gap: '1px',\n                          borderBottom: index < weeklySummaries.length - 1 ? '1px solid #dee2e6' : 'none',\n                          background: index % 2 === 0 ? 'white' : '#f8f9fa',\n                          cursor: 'pointer',\n                          transition: 'all 0.3s ease'\n                        },\n                        onClick: () => toggleUserDetails(summary.userId),\n                        onMouseEnter: e => {\n                          e.currentTarget.style.background = '#e3f2fd';\n                        },\n                        onMouseLeave: e => {\n                          e.currentTarget.style.background = index % 2 === 0 ? 'white' : '#f8f9fa';\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'left',\n                            fontWeight: '500',\n                            color: '#333'\n                          },\n                          children: [\"\\uD83D\\uDC64 \", summary.userName]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2964,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: [\"Tu\\u1EA7n \", summary.weekNumber]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2967,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: summary.department\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2970,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: summary.weekNumber === 1 ? '01/10/2025' : new Date(summary.weekStart).toLocaleDateString('vi-VN')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2973,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: summary.weekNumber === 1 ? '05/10/2025' : new Date(summary.weekEnd).toLocaleDateString('vi-VN')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2976,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#1976d2',\n                            fontWeight: '500',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease'\n                          },\n                          onClick: e => {\n                            e.stopPropagation();\n                            toggleUserDetails(summary.userId);\n                          },\n                          onMouseEnter: e => {\n                            e.target.style.background = '#e3f2fd';\n                            e.target.style.borderRadius = '4px';\n                          },\n                          onMouseLeave: e => {\n                            e.target.style.background = 'transparent';\n                          },\n                          title: \"Click \\u0111\\u1EC3 xem chi ti\\u1EBFt \\u0111\\xE1nh gi\\xE1\",\n                          children: summary.totalDailyEvaluations\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2979,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#2e7d32',\n                            fontWeight: '500'\n                          },\n                          children: summary.averageScores.performance\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3002,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#ef6c00',\n                            fontWeight: '500'\n                          },\n                          children: summary.averageScores.discipline\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3005,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#c2185b',\n                            fontWeight: '500'\n                          },\n                          children: summary.averageScores.attitude\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3008,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#6f42c1',\n                            fontWeight: '600'\n                          },\n                          children: summary.averageTotalScore\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3011,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            fontWeight: '600',\n                            background: summary.weeklyLevel === 'Xuất sắc' ? '#e8f5e8' : summary.weeklyLevel === 'Tốt' ? '#e3f2fd' : summary.weeklyLevel === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                            color: summary.weeklyLevel === 'Xuất sắc' ? '#2e7d32' : summary.weeklyLevel === 'Tốt' ? '#1976d2' : summary.weeklyLevel === 'Trung bình' ? '#f57c00' : '#d32f2f',\n                            borderRadius: '4px',\n                            margin: '4px'\n                          },\n                          children: summary.weeklyLevel\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3014,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2947,\n                        columnNumber: 33\n                      }, this), expandedUser === summary.userId && /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          gridColumn: '1 / -1',\n                          // Span across all columns\n                          marginTop: '0',\n                          padding: '15px',\n                          background: '#f8f9fa',\n                          borderRadius: '0 0 8px 8px',\n                          border: '1px solid #dee2e6',\n                          borderTop: 'none'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          style: {\n                            margin: '0 0 10px 0',\n                            color: '#333',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '8px'\n                          },\n                          children: \"\\uD83D\\uDCCB Chi ti\\u1EBFt \\u0111\\xE1nh gi\\xE1 h\\xE0ng ng\\xE0y\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3042,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'grid',\n                            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                            gap: '10px'\n                          },\n                          children: summary.dailyEvaluations.map((evaluation, evalIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              background: 'white',\n                              padding: '12px',\n                              borderRadius: '6px',\n                              border: '1px solid #e9ecef',\n                              fontSize: '0.8rem'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                display: 'flex',\n                                justifyContent: 'space-between',\n                                alignItems: 'center',\n                                marginBottom: '8px'\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                style: {\n                                  fontWeight: '600',\n                                  color: '#333'\n                                },\n                                children: [\"\\uD83D\\uDCC5 \", new Date(evaluation.date).toLocaleDateString('vi-VN')]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3071,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                style: {\n                                  padding: '2px 8px',\n                                  borderRadius: '12px',\n                                  fontSize: '0.7rem',\n                                  fontWeight: '600',\n                                  background: evaluation.level === 'Xuất sắc' ? '#e8f5e8' : evaluation.level === 'Tốt' ? '#e3f2fd' : evaluation.level === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                                  color: evaluation.level === 'Xuất sắc' ? '#2e7d32' : evaluation.level === 'Tốt' ? '#1976d2' : evaluation.level === 'Trung bình' ? '#f57c00' : '#d32f2f'\n                                },\n                                children: evaluation.level\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3074,\n                                columnNumber: 45\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3065,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                display: 'grid',\n                                gridTemplateColumns: '1fr 1fr',\n                                gap: '5px'\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#666'\n                                },\n                                children: [\"\\u26A1 Hi\\u1EC7u qu\\u1EA3: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.scores.performance\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3092,\n                                  columnNumber: 59\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3091,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#666'\n                                },\n                                children: [\"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.scores.discipline\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3095,\n                                  columnNumber: 59\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3094,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#666'\n                                },\n                                children: [\"\\uD83E\\uDD1D Th\\xE1i \\u0111\\u1ED9: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.scores.attitude\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3098,\n                                  columnNumber: 59\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3097,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#333',\n                                  fontWeight: '600'\n                                },\n                                children: [\"\\uD83C\\uDFAF T\\u1ED5ng: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.totalScore\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3101,\n                                  columnNumber: 56\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3100,\n                                columnNumber: 45\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3090,\n                              columnNumber: 43\n                            }, this)]\n                          }, evalIndex, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3058,\n                            columnNumber: 41\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3052,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            marginTop: '10px',\n                            padding: '8px',\n                            background: '#e3f2fd',\n                            borderRadius: '4px',\n                            fontSize: '0.8rem',\n                            color: '#1976d2',\n                            textAlign: 'center'\n                          },\n                          children: [\"\\uD83D\\uDCCA T\\u1ED5ng c\\u1ED9ng: \", summary.totalDailyEvaluations, \" \\u0111\\xE1nh gi\\xE1 | \\u0110i\\u1EC3m TB: \", summary.averageTotalScore, \" | X\\u1EBFp lo\\u1EA1i: \", summary.weeklyLevel]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3108,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3033,\n                        columnNumber: 35\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2946,\n                      columnNumber: 31\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2916,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2912,\n                  columnNumber: 25\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2854,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2649,\n            columnNumber: 17\n          }, this);\n        })()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2532,\n        columnNumber: 11\n      }, this) : viewMode === 'history' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evaluation-history\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCCA L\\u1ECBch s\\u1EED \\u0111\\xE1nh gi\\xE1 KPI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-filters\",\n            style: {\n              display: 'flex',\n              gap: '15px',\n              marginBottom: '20px',\n              flexWrap: 'wrap',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  color: '#333',\n                  marginRight: '8px'\n                },\n                children: \"\\uD83D\\uDCC5 Th\\u1EDDi gian:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3146,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: historyTimeFilter,\n                onChange: e => setHistoryTimeFilter(e.target.value),\n                style: {\n                  padding: '8px 12px',\n                  borderRadius: '6px',\n                  border: '1px solid #ddd',\n                  fontSize: '0.9rem',\n                  background: 'white'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3160,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"today\",\n                  children: \"H\\xF4m nay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3161,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week\",\n                  children: \"7 ng\\xE0y qua\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month\",\n                  children: \"Th\\xE1ng n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"quarter\",\n                  children: \"Qu\\xFD n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"year\",\n                  children: \"N\\u0103m n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3165,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  color: '#333',\n                  marginRight: '8px'\n                },\n                children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: historyDepartmentFilter,\n                onChange: e => setHistoryDepartmentFilter(e.target.value),\n                style: {\n                  padding: '8px 12px',\n                  borderRadius: '6px',\n                  border: '1px solid #ddd',\n                  fontSize: '0.9rem',\n                  background: 'white'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3184,\n                  columnNumber: 21\n                }, this), getHistoryDepartments().map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3186,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  color: '#333',\n                  marginRight: '8px'\n                },\n                children: \"\\uD83D\\uDCC5 Ng\\xE0y c\\u1EE5 th\\u1EC3:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: historyDateFilter,\n                onChange: e => {\n                  setHistoryDateFilter(e.target.value);\n                  if (e.target.value) {\n                    setHistoryTimeFilter('all'); // Reset time filter when date is selected\n                  }\n                },\n                style: {\n                  padding: '8px 12px',\n                  borderRadius: '6px',\n                  border: '1px solid #ddd',\n                  fontSize: '0.9rem',\n                  background: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3195,\n                columnNumber: 19\n              }, this), historyDateFilter && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setHistoryDateFilter(''),\n                style: {\n                  marginLeft: '8px',\n                  padding: '4px 8px',\n                  borderRadius: '4px',\n                  border: '1px solid #dc3545',\n                  background: '#dc3545',\n                  color: 'white',\n                  fontSize: '0.8rem',\n                  cursor: 'pointer'\n                },\n                children: \"\\u2715 X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3213,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '8px 12px',\n                background: '#f8f9fa',\n                borderRadius: '6px',\n                fontSize: '0.9rem',\n                color: '#666',\n                border: '1px solid #e9ecef'\n              },\n              children: [\"\\uD83D\\uDCCA Hi\\u1EC3n th\\u1ECB: \", getFilteredHistory().length, \" / \", evaluationHistory.length, \" \\u0111\\xE1nh gi\\xE1\", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#28a745',\n                  fontWeight: 'bold'\n                },\n                children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3241,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3138,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3134,\n          columnNumber: 13\n        }, this), evaluationHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-history\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o \\u0111\\u01B0\\u1EE3c l\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3249,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3248,\n          columnNumber: 15\n        }, this) : getFilteredHistory().length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-history\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Kh\\xF4ng c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc \\u0111\\xE3 ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3253,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3252,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3259,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3260,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDCC5 Ng\\xE0y \\u0111\\xE1nh gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3261,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDCCA Hi\\u1EC7u qu\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3262,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3263,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83E\\uDD1D Th\\xE1i \\u0111\\u1ED9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83C\\uDFAF T\\u1ED5ng \\u0111i\\u1EC3m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3265,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83C\\uDFC6 X\\u1EBFp lo\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3266,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Ng\\u01B0\\u1EDDi \\u0111\\xE1nh gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3267,\n                columnNumber: 21\n              }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2699\\uFE0F Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3269,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3258,\n              columnNumber: 19\n            }, this), getFilteredHistory().map(evaluation => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name\",\n                  children: evaluation.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3276,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3275,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"department\",\n                children: evaluation.department\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3278,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date\",\n                children: new Date(evaluation.date).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3279,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score performance\",\n                style: {\n                  color: '#28a745'\n                },\n                children: evaluation.scores.performance\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3280,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score discipline\",\n                style: {\n                  color: '#ffc107'\n                },\n                children: evaluation.scores.discipline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3283,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score attitude\",\n                style: {\n                  color: '#dc3545'\n                },\n                children: evaluation.scores.attitude\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3286,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-score\",\n                style: {\n                  color: '#6f42c1',\n                  fontWeight: 'bold'\n                },\n                children: evaluation.totalScore\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3289,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"level\",\n                style: {\n                  color: getScoreLevel(evaluation.totalScore).color,\n                  fontWeight: '600'\n                },\n                children: evaluation.level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3292,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evaluator\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-name\",\n                  children: evaluation.evaluatedBy || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3302,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-role\",\n                  children: evaluation.evaluatorRole || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3305,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3301,\n                columnNumber: 23\n              }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-btn\",\n                  onClick: () => handleDeleteEvaluation(evaluation.id),\n                  title: \"X\\xF3a \\u0111\\xE1nh gi\\xE1\",\n                  style: {\n                    padding: '6px 12px',\n                    borderRadius: '4px',\n                    border: '1px solid #dc3545',\n                    background: '#dc3545',\n                    color: 'white',\n                    fontSize: '0.8rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease'\n                  },\n                  onMouseOver: e => {\n                    e.target.style.background = '#c82333';\n                    e.target.style.borderColor = '#c82333';\n                  },\n                  onMouseOut: e => {\n                    e.target.style.background = '#dc3545';\n                    e.target.style.borderColor = '#dc3545';\n                  },\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3311,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3310,\n                columnNumber: 25\n              }, this)]\n            }, evaluation.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3274,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3257,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3256,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3133,\n        columnNumber: 11\n      }, this) : viewMode === 'all-evaluations' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-evaluations\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"all-evaluations-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDC65 T\\u1EA5t c\\u1EA3 \\u0111\\xE1nh gi\\xE1 KPI trong h\\u1EC7 th\\u1ED1ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3348,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: exportAllEvaluationsExcel,\n                title: \"Xu\\u1EA5t danh s\\xE1ch \\u0111\\xE1nh gi\\xE1 theo filter hi\\u1EC7n t\\u1EA1i\",\n                children: \"\\uD83D\\uDCC4 Xu\\u1EA5t theo filter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: exportAllEvaluationsExcelUnfiltered,\n                title: \"Xu\\u1EA5t t\\u1EA5t c\\u1EA3 \\u0111\\xE1nh gi\\xE1 kh\\xF4ng b\\u1ECB filter\",\n                style: {\n                  background: 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)'\n                },\n                children: \"\\uD83D\\uDCCB Xu\\u1EA5t t\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: () => {\n                  const weeklySummaries = getFilteredWeeklySummaries();\n                  if (weeklySummaries.length > 0) {\n                    const filterSuffix = weeklyTimeFilter !== 'all' || weeklyDepartmentFilter !== 'all' ? `_${weeklyTimeFilter}_${weeklyDepartmentFilter}` : '';\n                    exportWeeklySummariesToCSV(weeklySummaries, `Bao_cao_tong_hop_tuan${filterSuffix}`);\n                  } else {\n                    alert('📭 Chưa có đánh giá nào phù hợp với bộ lọc để tổng hợp');\n                  }\n                },\n                title: \"Xu\\u1EA5t b\\xE1o c\\xE1o t\\u1ED5ng h\\u1EE3p tu\\u1EA7n theo b\\u1ED9 l\\u1ECDc\",\n                style: {\n                  background: 'linear-gradient(135deg, #fd7e14 0%, #e8590c 100%)'\n                },\n                children: \"\\uD83D\\uDCCA T\\u1ED5ng h\\u1EE3p tu\\u1EA7n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3365,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3349,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evaluations-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"T\\u1ED5ng \\u0111\\xE1nh gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Xuất sắc').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Xu\\u1EA5t s\\u1EAFc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3394,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Tốt').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"T\\u1ED1t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3400,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Trung bình').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Trung b\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3402,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Cần cải thiện').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3409,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"C\\u1EA7n c\\u1EA3i thi\\u1EC7n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3412,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3408,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3385,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluations-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3419,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedDepartment,\n              onChange: e => setSelectedDepartment(e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3425,\n                columnNumber: 19\n              }, this), Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: dept,\n                children: dept\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3427,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3420,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCC5 Kho\\u1EA3ng th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: summaryPeriod,\n              onChange: e => setSummaryPeriod(e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Tu\\u1EA7n n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Th\\xE1ng n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3439,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quarter\",\n                children: \"Qu\\xFD n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3440,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"N\\u0103m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3442,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3433,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3431,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluations-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDCC5 Ng\\xE0y \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3451,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDCCA Hi\\u1EC7u qu\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3452,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3453,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83E\\uDD1D Th\\xE1i \\u0111\\u1ED9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83C\\uDFAF T\\u1ED5ng \\u0111i\\u1EC3m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83C\\uDFC6 X\\u1EBFp lo\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3456,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Ng\\u01B0\\u1EDDi \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3457,\n              columnNumber: 17\n            }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\u2699\\uFE0F Thao t\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3459,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-info\",\n            style: {\n              marginBottom: '15px',\n              padding: '10px',\n              background: '#f8f9fa',\n              borderRadius: '8px',\n              fontSize: '0.9rem'\n            },\n            children: [\"\\uD83D\\uDCCA Hi\\u1EC3n th\\u1ECB: \", allEvaluations.filter(evaluation => {\n              // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n              if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý') {\n                if (evaluation.evaluatedBy !== currentUser.fullName) {\n                  return false;\n                }\n              }\n              if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                return false;\n              }\n              const evalDate = new Date(evaluation.date);\n              const today = new Date();\n              let startDate;\n              switch (summaryPeriod) {\n                case 'week':\n                  // Current week: from Monday to Sunday\n                  startDate = new Date(today);\n                  startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                  const endDate = new Date(today);\n                  endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                  return evalDate >= startDate && evalDate <= endDate;\n                case 'month':\n                  startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                  break;\n                case 'quarter':\n                  const quarter = Math.floor(today.getMonth() / 3);\n                  startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                  break;\n                case 'year':\n                  startDate = new Date(today.getFullYear(), 0, 1);\n                  break;\n                default:\n                  return true;\n              }\n              return evalDate >= startDate && evalDate <= today;\n            }).length, \" / \", allEvaluations.length, \" \\u0111\\xE1nh gi\\xE1\", ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#28a745',\n                fontWeight: 'bold'\n              },\n              children: \" (Qu\\u1EA3n l\\xFD xem t\\u1EA5t c\\u1EA3)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3503,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3463,\n            columnNumber: 15\n          }, this), (() => {\n            const filteredEvaluations = allEvaluations.filter(evaluation => {\n              // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n              if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý') {\n                if (evaluation.evaluatedBy !== currentUser.fullName) {\n                  return false;\n                }\n              }\n\n              // Filter by department\n              if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                return false;\n              }\n\n              // Filter by time period\n              const evalDate = new Date(evaluation.date);\n              const today = new Date();\n              let startDate;\n              switch (summaryPeriod) {\n                case 'week':\n                  // Current week: from Monday to Sunday\n                  startDate = new Date(today);\n                  startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                  const endDate = new Date(today);\n                  endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                  return evalDate >= startDate && evalDate <= endDate;\n                case 'month':\n                  startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                  break;\n                case 'quarter':\n                  const quarter = Math.floor(today.getMonth() / 3);\n                  startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                  break;\n                case 'year':\n                  startDate = new Date(today.getFullYear(), 0, 1);\n                  return evalDate >= startDate && evalDate <= today;\n                case 'all':\n                  // Show all evaluations\n                  return true;\n                default:\n                  // Show all evaluations when no specific period is selected\n                  return true;\n              }\n            }).sort((a, b) => new Date(b.date) - new Date(a.date));\n\n            // Debug log\n            console.log('Total evaluations:', allEvaluations.length);\n            console.log('Filtered evaluations:', filteredEvaluations.length);\n            console.log('Selected department:', selectedDepartment);\n            console.log('Summary period:', summaryPeriod);\n            return filteredEvaluations.map(evaluation => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evaluation-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name\",\n                  children: evaluation.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3566,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3565,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"department\",\n                children: evaluation.department\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3568,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date\",\n                children: new Date(evaluation.date).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3569,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score performance\",\n                children: [evaluation.scores.performance, \"/100\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3572,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score discipline\",\n                children: [evaluation.scores.discipline, \"/100\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3575,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score attitude\",\n                children: [evaluation.scores.attitude, \"/100\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3578,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-score\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [evaluation.totalScore, \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3582,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3581,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"level\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"level-badge\",\n                  style: {\n                    backgroundColor: evaluation.level === 'Xuất sắc' ? '#28a745' : evaluation.level === 'Tốt' ? '#17a2b8' : evaluation.level === 'Trung bình' ? '#ffc107' : '#dc3545'\n                  },\n                  children: evaluation.level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3585,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3584,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evaluator\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-name\",\n                  children: evaluation.evaluatedBy || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3598,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-role\",\n                  children: evaluation.evaluatorRole || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3601,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3597,\n                columnNumber: 21\n              }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-btn\",\n                  onClick: () => handleDeleteEvaluation(evaluation.id),\n                  title: \"X\\xF3a \\u0111\\xE1nh gi\\xE1\",\n                  style: {\n                    padding: '6px 12px',\n                    borderRadius: '4px',\n                    border: '1px solid #dc3545',\n                    background: '#dc3545',\n                    color: 'white',\n                    fontSize: '0.8rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease'\n                  },\n                  onMouseOver: e => {\n                    e.target.style.background = '#c82333';\n                    e.target.style.borderColor = '#c82333';\n                  },\n                  onMouseOut: e => {\n                    e.target.style.background = '#dc3545';\n                    e.target.style.borderColor = '#dc3545';\n                  },\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3607,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3606,\n                columnNumber: 23\n              }, this)]\n            }, evaluation.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3564,\n              columnNumber: 19\n            }, this));\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3447,\n          columnNumber: 13\n        }, this), allEvaluations.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-evaluations\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCED Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 KPI n\\xE0o trong h\\u1EC7 th\\u1ED1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3641,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3640,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3345,\n        columnNumber: 11\n      }, this) : !isEvaluating ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-selection\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDC65 Ch\\u1ECDn nh\\xE2n vi\\xEAn \\u0111\\u1EC3 \\u0111\\xE1nh gi\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3647,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-permission-info\",\n          children: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý' ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Qu\\u1EA3n l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3652,\n              columnNumber: 23\n            }, this), \" \\u0111\\xE1nh gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 tr\\u01B0\\u1EDFng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3652,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3652,\n            columnNumber: 17\n          }, this) : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng' ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 tr\\u01B0\\u1EDFng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3654,\n              columnNumber: 23\n            }, this), \" \\u0111\\xE1nh gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 ph\\xF3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3654,\n              columnNumber: 59\n            }, this), \" v\\xE0 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nh\\xE2n vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3654,\n              columnNumber: 86\n            }, this), \" trong b\\u1ED9 ph\\u1EADn \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: currentUser.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3654,\n              columnNumber: 127\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3654,\n            columnNumber: 17\n          }, this) : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó' ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 ph\\xF3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3656,\n              columnNumber: 23\n            }, this), \" \\u0111\\xE1nh gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nh\\xE2n vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3656,\n              columnNumber: 56\n            }, this), \" trong b\\u1ED9 ph\\u1EADn \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: currentUser.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3656,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3656,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u274C B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n \\u0111\\xE1nh gi\\xE1 KPI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3658,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3650,\n          columnNumber: 13\n        }, this), departments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"department-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `dept-tab ${selectedDepartment === 'all' ? 'active' : ''}`,\n            onClick: () => setSelectedDepartment('all'),\n            children: \"\\uD83C\\uDFE2 T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3665,\n            columnNumber: 17\n          }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `dept-tab ${selectedDepartment === dept ? 'active' : ''}`,\n            onClick: () => setSelectedDepartment(dept),\n            children: [\"\\uD83C\\uDFE2 \", dept]\n          }, dept, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3672,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3664,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-grid\",\n          children: filteredUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-users\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Kh\\xF4ng c\\xF3 nh\\xE2n vi\\xEAn n\\xE0o trong b\\u1ED9 ph\\u1EADn n\\xE0y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3687,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3686,\n            columnNumber: 17\n          }, this) : filteredUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: user.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3693,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [user.department, \" - \", user.position]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3694,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3692,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStartEvaluation(user),\n              className: \"evaluate-btn\",\n              children: \"\\uD83D\\uDCDD \\u0110\\xE1nh gi\\xE1 KPI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3696,\n              columnNumber: 21\n            }, this)]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3691,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3684,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3646,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evaluation-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDCDD \\u0110\\xE1nh gi\\xE1 KPI cho: \", selectedUser.fullName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3710,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evaluation-date-display\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDCC5 Ng\\xE0y: \", evaluationDate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3712,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3711,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evaluation-weights\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Thang \\u0111i\\u1EC3m: 0-100 \\u0111i\\u1EC3m cho m\\u1ED7i ti\\xEAu ch\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3715,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3714,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3709,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"criteria-list\",\n          children: criteria.map(criterion => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"criterion-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"criterion-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [criterion.title, \" (\", criterion.weight, \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3723,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: criterion.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3724,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3722,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evaluation-inputs\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evaluator-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"\\u0110i\\u1EC3m \\u0111\\xE1nh gi\\xE1: \", evaluationData[criterion.name], \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3729,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0\",\n                  max: \"100\",\n                  value: evaluationData[criterion.name],\n                  onChange: e => handleScoreChange(criterion.name, e.target.value),\n                  className: \"score-slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3730,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"slider-labels\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3739,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3740,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3741,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"75\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3742,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"100\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3743,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3738,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3728,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3727,\n              columnNumber: 19\n            }, this)]\n          }, criterion.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3721,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3719,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-summary\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-score\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"\\u0110i\\u1EC3m t\\u1ED5ng KPI: \", calculateTotalScore(), \"/100\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3753,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"score-level\",\n              style: {\n                color: getScoreLevel(calculateTotalScore()).color\n              },\n              children: getScoreLevel(calculateTotalScore()).level\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3754,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3752,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3751,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveEvaluation,\n            className: \"save-evaluation-btn\",\n            children: \"\\uD83D\\uDCBE L\\u01B0u \\u0111\\xE1nh gi\\xE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3764,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsEvaluating(false),\n            className: \"cancel-evaluation-btn\",\n            children: \"\\u274C H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3767,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3763,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3708,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2486,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Job Management Component\n  _s3(KPIEvaluation, \"26gQ0jSTv2D+5SpiKeEX7I4vxAY=\");\n  const JobManagement = ({\n    jobs,\n    onUpdateJobs,\n    currentUser\n  }) => {\n    _s4();\n    const [newJob, setNewJob] = useState({\n      deliveryDate: '',\n      department: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) || '',\n      description: '',\n      completionTime: '',\n      status: '',\n      jobType: 'management',\n      assignee: '',\n      assigner: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || '',\n      completionEvidence: [] // Array of uploaded files\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [filters, setFilters] = useState({\n      department: '',\n      status: '',\n      search: '',\n      timeRange: 'all' // all, week, month, quarter, year\n    });\n    const [uploadingFiles, setUploadingFiles] = useState({});\n    const [showEvidenceModal, setShowEvidenceModal] = useState(false);\n    const [selectedJob, setSelectedJob] = useState(null);\n\n    // Lọc jobs theo bộ phận của user (trừ admin)\n    const getFilteredJobsByDepartment = () => {\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin') {\n        return jobs; // Admin thấy tất cả\n      }\n\n      // Tổ trưởng: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n        return jobs.filter(job => job.department === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) && (job.assignee === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || !job.assignee));\n      }\n\n      // Tổ phó và nhân viên: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Nhân viên') {\n        return jobs.filter(job => job.department === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) && (job.assignee === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || !job.assignee));\n      }\n      return jobs;\n    };\n    const departments = ['Kho Phôi', 'Sản Xuất', 'Đóng gói', 'Kho & Trải Cắt', 'Quản lý'];\n    const statusOptions = ['nhận việc', 'đang xử lý', 'chờ duyệt', 'thành công', 'thất bại'];\n\n    // Filter jobs based on current filters (sau khi đã lọc theo bộ phận)\n    const departmentFilteredJobs = getFilteredJobsByDepartment();\n\n    // Filter by time range\n    const getTimeFilteredJobs = jobs => {\n      if (filters.timeRange === 'all') return jobs;\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      return jobs.filter(job => {\n        if (!job.deliveryDate) return false;\n        const jobDate = new Date(job.deliveryDate);\n        const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n        switch (filters.timeRange) {\n          case 'week':\n            const weekStart = new Date(today);\n            weekStart.setDate(today.getDate() - today.getDay());\n            const weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n          case 'month':\n            const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n            const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n            const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n          case 'year':\n            const yearStart = new Date(today.getFullYear(), 0, 1);\n            const yearEnd = new Date(today.getFullYear(), 11, 31);\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n          default:\n            return true;\n        }\n      });\n    };\n    const timeFilteredJobs = getTimeFilteredJobs(departmentFilteredJobs);\n    const filteredJobs = timeFilteredJobs.filter(job => {\n      const matchesDepartment = !filters.department || job.department === filters.department;\n      const matchesStatus = !filters.status || job.status === filters.status;\n      const matchesSearch = !filters.search || job.description.toLowerCase().includes(filters.search.toLowerCase()) || job.department.toLowerCase().includes(filters.search.toLowerCase());\n      return matchesDepartment && matchesStatus && matchesSearch;\n    });\n    const handleFilterChange = (filterType, value) => {\n      setFilters(prev => ({\n        ...prev,\n        [filterType]: value\n      }));\n    };\n    const clearFilters = () => {\n      setFilters({\n        department: '',\n        status: '',\n        search: '',\n        timeRange: 'all'\n      });\n    };\n\n    // File upload functions\n    const handleFileUpload = async (jobId, files) => {\n      const job = jobs.find(j => j.id === jobId);\n      if (!job) {\n        console.error('❌ Không tìm thấy công việc với ID:', jobId);\n        alert('❌ Không tìm thấy công việc. Vui lòng thử lại.');\n        return;\n      }\n      if (!files || files.length === 0) {\n        console.error('❌ Không có file nào được chọn');\n        alert('❌ Vui lòng chọn file để upload.');\n        return;\n      }\n      setUploadingFiles(prev => ({\n        ...prev,\n        [jobId]: true\n      }));\n      try {\n        console.log(`📤 Bắt đầu upload ${files.length} file(s) cho công việc ${jobId}`);\n\n        // Test server connection first\n        const serverOk = await testServerConnection();\n        if (!serverOk) {\n          throw new Error('Không thể kết nối đến server. Vui lòng kiểm tra server có đang chạy không.');\n        }\n\n        // Validate file types and sizes\n        const maxFileSize = 50 * 1024 * 1024; // 50MB (phù hợp với server limit)\n        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/bmp', 'video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm', 'video/mkv'];\n        for (let file of files) {\n          if (file.size > maxFileSize) {\n            throw new Error(`File ${file.name} quá lớn (tối đa 50MB)`);\n          }\n          if (!allowedTypes.includes(file.type)) {\n            throw new Error(`File ${file.name} không được hỗ trợ. Chỉ chấp nhận hình ảnh và video.`);\n          }\n        }\n\n        // Convert files to base64 for storage\n        const filePromises = Array.from(files).map((file, index) => {\n          return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = () => {\n              console.log(`✅ Đã đọc file ${index + 1}/${files.length}: ${file.name}`);\n              resolve({\n                name: file.name,\n                type: file.type,\n                size: file.size,\n                data: reader.result,\n                uploadDate: new Date().toISOString()\n              });\n            };\n            reader.onerror = error => {\n              console.error(`❌ Lỗi đọc file ${file.name}:`, error);\n              reject(new Error(`Lỗi đọc file ${file.name}`));\n            };\n            reader.readAsDataURL(file);\n          });\n        });\n        const uploadedFiles = await Promise.all(filePromises);\n        console.log(`✅ Đã convert ${uploadedFiles.length} file(s) thành base64`);\n\n        // Update job with new evidence\n        const updatedJobs = jobs.map(j => j.id === jobId ? {\n          ...j,\n          completionEvidence: [...(j.completionEvidence || []), ...uploadedFiles],\n          status: 'thành công' // Auto-complete when evidence is uploaded\n        } : j);\n        console.log('💾 Đang lưu dữ liệu vào server...');\n\n        // Save to server\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          const result = await response.json();\n          console.log('✅ Server response:', result);\n          onUpdateJobs(updatedJobs);\n          alert(`✅ Đã upload ${uploadedFiles.length} file(s) và cập nhật trạng thái thành \"thành công\"`);\n        } else {\n          const errorText = await response.text();\n          console.error('❌ Server error response:', response.status, errorText);\n          throw new Error(`Server trả về lỗi ${response.status}: ${errorText}`);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi upload file chi tiết:', error);\n        alert(`❌ Lỗi khi upload file: ${error.message || 'Vui lòng thử lại.'}`);\n      } finally {\n        setUploadingFiles(prev => ({\n          ...prev,\n          [jobId]: false\n        }));\n      }\n    };\n    const removeEvidence = async (jobId, evidenceIndex) => {\n      try {\n        const updatedJobs = jobs.map(job => job.id === jobId ? {\n          ...job,\n          completionEvidence: job.completionEvidence.filter((_, index) => index !== evidenceIndex)\n        } : job);\n\n        // Save to server\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          onUpdateJobs(updatedJobs);\n          alert('✅ Đã xóa bằng chứng thành công');\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi xóa bằng chứng:', error);\n        alert('❌ Lỗi khi xóa bằng chứng. Vui lòng thử lại.');\n      }\n    };\n    const openEvidenceModal = job => {\n      setSelectedJob(job);\n      setShowEvidenceModal(true);\n    };\n    const handleAddJob = async () => {\n      if (!newJob.description || !newJob.deliveryDate || !newJob.assignee) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n      try {\n        const job = {\n          id: Date.now(),\n          ...newJob\n        };\n        const updatedJobs = [...jobs, job];\n\n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          onUpdateJobs(updatedJobs);\n          alert('✅ Đã thêm công việc thành công');\n          setNewJob({\n            deliveryDate: '',\n            department: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) || '',\n            description: '',\n            completionTime: '',\n            status: '',\n            jobType: 'management',\n            assignee: '',\n            assigner: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || '',\n            completionEvidence: []\n          });\n          setIsAdding(false);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi thêm công việc:', error);\n        alert('❌ Lỗi khi thêm công việc. Vui lòng thử lại.');\n      }\n    };\n    const handleDeleteJob = async id => {\n      // Chỉ Admin mới được xóa công việc\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin') {\n        alert('Chỉ Quản lý mới có quyền xóa công việc!');\n        return;\n      }\n      if (confirm('Bạn có chắc muốn xóa công việc này?')) {\n        try {\n          const updatedJobs = jobs.filter(job => job.id !== id);\n\n          // Save to server\n          const response = await fetch(`${API_BASE}/api/jobs`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              jobs: updatedJobs\n            })\n          });\n          if (response.ok) {\n            onUpdateJobs(updatedJobs);\n            alert('✅ Đã xóa công việc thành công');\n          } else {\n            throw new Error('Lỗi khi lưu dữ liệu vào server');\n          }\n        } catch (error) {\n          console.error('❌ Lỗi xóa công việc:', error);\n          alert('❌ Lỗi khi xóa công việc. Vui lòng thử lại.');\n        }\n      }\n    };\n    const handleUpdateJob = async (id, field, value) => {\n      const job = jobs.find(j => j.id === id);\n\n      // Không cho phép chỉnh sửa công việc đã hoàn thành\n      if (job && job.status === 'thành công') {\n        alert('Không thể chỉnh sửa công việc đã hoàn thành!');\n        return;\n      }\n\n      // Chỉ cho phép thay đổi trạng thái nếu không phải admin hoặc tổ trưởng\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Tổ trưởng' && field !== 'status') {\n        alert('Bạn chỉ được phép thay đổi trạng thái công việc!');\n        return;\n      }\n      try {\n        const updatedJobs = jobs.map(job => job.id === id ? {\n          ...job,\n          [field]: value\n        } : job);\n\n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          onUpdateJobs(updatedJobs);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi cập nhật công việc:', error);\n        alert('❌ Lỗi khi cập nhật công việc. Vui lòng thử lại.');\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"job-management\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"job-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCB Qu\\u1EA3n l\\xFD c\\xF4ng vi\\u1EC7c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: testServerConnection,\n            className: \"test-connection-btn\",\n            title: \"Ki\\u1EC3m tra k\\u1EBFt n\\u1ED1i server\",\n            children: \"\\uD83D\\uDD0D Test Server\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"check-overdue-btn\",\n            onClick: checkAndUpdateOverdueJobs,\n            children: \"\\u26A0\\uFE0F Ki\\u1EC3m tra tr\\u1EC5 h\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4189,\n            columnNumber: 13\n          }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            onClick: () => setIsAdding(true),\n            children: \"\\u2795 Th\\xEAm c\\xF4ng vi\\u1EC7c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quick-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'week' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'week'),\n          children: \"\\uD83D\\uDCC5 Tu\\u1EA7n n\\xE0y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'month' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'month'),\n          children: \"\\uD83D\\uDCC6 Th\\xE1ng n\\xE0y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'quarter' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'quarter'),\n          children: \"\\uD83D\\uDCCA Qu\\xFD n\\xE0y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'all' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'all'),\n          children: \"\\uD83D\\uDDD3\\uFE0F T\\u1EA5t c\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDD0D T\\xECm ki\\u1EBFm:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Nh\\u1EADp t\\u1EEB kh\\xF3a...\",\n              value: filters.search,\n              onChange: e => handleFilterChange('search', e.target.value),\n              className: \"filter-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.department,\n              onChange: e => handleFilterChange('department', e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4252,\n                columnNumber: 17\n              }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: dept,\n                children: dept\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4254,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCCA Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.status,\n              onChange: e => handleFilterChange('status', e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4266,\n                columnNumber: 17\n              }, this), statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: status,\n                children: status\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4268,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCC5 Th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.timeRange,\n              onChange: e => handleFilterChange('timeRange', e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3 th\\u1EDDi gian\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Tu\\u1EA7n n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Th\\xE1ng n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4282,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quarter\",\n                children: \"Qu\\xFD n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"N\\u0103m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4284,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearFilters,\n              className: \"clear-filters-btn\",\n              children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a b\\u1ED9 l\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"filter-count\",\n              children: [\"Hi\\u1EC3n th\\u1ECB: \", filteredJobs.length, \"/\", timeFilteredJobs.length, \" c\\xF4ng vi\\u1EC7c\", filters.timeRange !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"time-info\",\n                children: [filters.timeRange === 'week' && ' (Tuần này)', filters.timeRange === 'month' && ' (Tháng này)', filters.timeRange === 'quarter' && ' (Quý này)', filters.timeRange === 'year' && ' (Năm này)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4298,\n                columnNumber: 15\n              }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"department-info\",\n                children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4306,\n                columnNumber: 15\n              }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Nhân viên' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"permission-info\",\n                children: \" - Ch\\u1EC9 th\\u1EA5y c\\xF4ng vi\\u1EC7c \\u0111\\u01B0\\u1EE3c giao cho m\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4309,\n                columnNumber: 15\n              }, this) : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"permission-info\",\n                children: \" - Ch\\u1EC9 th\\u1EA5y c\\xF4ng vi\\u1EC7c \\u0111\\u01B0\\u1EE3c giao cho m\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4311,\n                columnNumber: 15\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4295,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4232,\n        columnNumber: 9\n      }, this), isAdding && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-job-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Th\\xEAm c\\xF4ng vi\\u1EC7c m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Ng\\xE0y giao vi\\u1EC7c\",\n            value: newJob.deliveryDate,\n            onChange: e => setNewJob({\n              ...newJob,\n              deliveryDate: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newJob.department,\n            onChange: e => setNewJob({\n              ...newJob,\n              department: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn b\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4332,\n              columnNumber: 17\n            }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4334,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"M\\xF4 t\\u1EA3 c\\xF4ng vi\\u1EC7c\",\n            value: newJob.description,\n            onChange: e => setNewJob({\n              ...newJob,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newJob.assignee,\n            onChange: e => setNewJob({\n              ...newJob,\n              assignee: e.target.value\n            }),\n            className: \"job-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn ng\\u01B0\\u1EDDi nh\\u1EADn vi\\u1EC7c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4350,\n              columnNumber: 17\n            }, this), users.filter(user => user.department === newJob.department).map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: user.fullName,\n              children: [user.fullName, \" (\", user.position, \")\"]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4352,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4345,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Th\\u1EDDi gian ho\\xE0n th\\xE0nh\",\n            value: newJob.completionTime,\n            onChange: e => setNewJob({\n              ...newJob,\n              completionTime: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4359,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newJob.status,\n            onChange: e => setNewJob({\n              ...newJob,\n              status: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4371,\n              columnNumber: 17\n            }, this), statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: status,\n              children: status\n            }, status, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4373,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4367,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4366,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddJob,\n            className: \"save-btn\",\n            children: \"\\uD83D\\uDCBE L\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsAdding(false),\n            className: \"cancel-btn\",\n            children: \"\\u274C H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4381,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4377,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"job-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"job-item header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCC5 Ng\\xE0y giao\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCDD M\\xF4 t\\u1EA3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDC64 Ng\\u01B0\\u1EDDi giao\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83C\\uDFAF Ng\\u01B0\\u1EDDi nh\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u23F0 Th\\u1EDDi gian\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCCA Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCCE B\\u1EB1ng ch\\u1EE9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u2699\\uFE0F Thao t\\xE1c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4398,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4389,\n          columnNumber: 11\n        }, this), filteredJobs.map(job => {\n          const isCompleted = job.status === 'thành công';\n          const canDelete = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin';\n          const canEdit = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `job-item ${isCompleted ? 'completed' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Ng\\xE0y giao\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: job.deliveryDate,\n                onChange: e => handleUpdateJob(job.id, 'deliveryDate', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4408,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4407,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1ED9 ph\\u1EADn\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: job.department,\n                onChange: e => handleUpdateJob(job.id, 'department', e.target.value),\n                className: \"job-select\",\n                disabled: isCompleted || !canEdit,\n                children: departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4424,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4417,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"M\\xF4 t\\u1EA3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: job.description,\n                onChange: e => handleUpdateJob(job.id, 'description', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4429,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Ng\\u01B0\\u1EDDi giao\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: job.assigner || '',\n                onChange: e => handleUpdateJob(job.id, 'assigner', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit,\n                placeholder: \"Ng\\u01B0\\u1EDDi giao vi\\u1EC7c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4438,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Ng\\u01B0\\u1EDDi nh\\u1EADn\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: job.assignee || '',\n                onChange: e => handleUpdateJob(job.id, 'assignee', e.target.value),\n                className: \"job-select\",\n                disabled: isCompleted || !canEdit,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn ng\\u01B0\\u1EDDi nh\\u1EADn vi\\u1EC7c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4454,\n                  columnNumber: 21\n                }, this), users.filter(user => user.department === job.department).map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: user.fullName,\n                  children: [user.fullName, \" (\", user.position, \")\"]\n                }, user.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4456,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4448,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Th\\u1EDDi gian\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: job.completionTime,\n                onChange: e => handleUpdateJob(job.id, 'completionTime', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4463,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Tr\\u1EA1ng th\\xE1i\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: job.status,\n                onChange: e => handleUpdateJob(job.id, 'status', e.target.value),\n                className: \"job-select\",\n                disabled: isCompleted,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4478,\n                  columnNumber: 21\n                }, this), statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: status,\n                  children: status === 'nhận việc' ? '📋 Nhận việc' : status === 'đang xử lý' ? '⏳ Đang xử lý' : status === 'chờ duyệt' ? '⏸️ Chờ duyệt' : status === 'thành công' ? '✅ Thành công' : status === 'thất bại' ? '❌ Thất bại' : status\n                }, status, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4480,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4472,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4471,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1EB1ng ch\\u1EE9ng\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evidence-section\",\n                children: job.completionEvidence && job.completionEvidence.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-preview\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"evidence-count\",\n                    children: [\"\\uD83D\\uDCCE \", job.completionEvidence.length, \" file(s)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4494,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"view-evidence-btn\",\n                    onClick: () => openEvidenceModal(job),\n                    title: \"Xem b\\u1EB1ng ch\\u1EE9ng\",\n                    children: \"\\uD83D\\uDC41\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4497,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4493,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"upload-section\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    id: `upload-${job.id}`,\n                    multiple: true,\n                    accept: \"image/*,video/*\",\n                    onChange: e => handleFileUpload(job.id, e.target.files),\n                    className: \"file-input\",\n                    disabled: uploadingFiles[job.id],\n                    title: \"Ch\\u1ECDn h\\xECnh \\u1EA3nh ho\\u1EB7c video (t\\u1ED1i \\u0111a 50MB m\\u1ED7i file)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4507,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `upload-${job.id}`,\n                    className: `upload-btn ${uploadingFiles[job.id] ? 'uploading' : ''}`,\n                    children: uploadingFiles[job.id] ? '⏳ Uploading...' : '📤 Upload'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4517,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4506,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4491,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4490,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Thao t\\xE1c\",\n              children: canDelete ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteJob(job.id),\n                className: \"delete-btn\",\n                children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4529,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"no-permission\",\n                children: \"\\u274C Kh\\xF4ng c\\xF3 quy\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4536,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4527,\n              columnNumber: 17\n            }, this)]\n          }, job.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4406,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4388,\n        columnNumber: 9\n      }, this), showEvidenceModal && selectedJob && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setShowEvidenceModal(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content evidence-modal\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"\\uD83D\\uDCCE B\\u1EB1ng ch\\u1EE9ng ho\\xE0n th\\xE0nh: \", selectedJob.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4549,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-btn\",\n              onClick: () => setShowEvidenceModal(false),\n              children: \"\\u274C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4550,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"job-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"B\\u1ED9 ph\\u1EADn:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4560,\n                  columnNumber: 20\n                }, this), \" \", selectedJob.department]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4560,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\u01B0\\u1EDDi th\\u1EF1c hi\\u1EC7n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4561,\n                  columnNumber: 20\n                }, this), \" \", selectedJob.assignee]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4561,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\xE0y giao:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4562,\n                  columnNumber: 20\n                }, this), \" \", new Date(selectedJob.deliveryDate).toLocaleDateString('vi-VN')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4562,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"H\\u1EA1n ho\\xE0n th\\xE0nh:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4563,\n                  columnNumber: 20\n                }, this), \" \", selectedJob.completionTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4563,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4559,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evidence-gallery\",\n              children: selectedJob.completionEvidence && selectedJob.completionEvidence.length > 0 ? selectedJob.completionEvidence.map((evidence, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evidence-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"evidence-name\",\n                    children: evidence.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4571,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evidence-actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"evidence-size\",\n                      children: [(evidence.size / 1024 / 1024).toFixed(2), \" MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4573,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"remove-evidence-btn\",\n                      onClick: () => removeEvidence(selectedJob.id, index),\n                      title: \"X\\xF3a file\",\n                      children: \"\\uD83D\\uDDD1\\uFE0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4576,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4572,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4570,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-preview\",\n                  children: evidence.type.startsWith('image/') ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: evidence.data,\n                    alt: evidence.name,\n                    className: \"evidence-image\",\n                    onClick: () => window.open(evidence.data, '_blank')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4588,\n                    columnNumber: 27\n                  }, this) : evidence.type.startsWith('video/') ? /*#__PURE__*/_jsxDEV(\"video\", {\n                    src: evidence.data,\n                    controls: true,\n                    className: \"evidence-video\",\n                    children: \"Tr\\xECnh duy\\u1EC7t kh\\xF4ng h\\u1ED7 tr\\u1EE3 video\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4595,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evidence-file\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-icon\",\n                      children: \"\\uD83D\\uDCC4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4604,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-name\",\n                      children: evidence.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4605,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: evidence.data,\n                      download: evidence.name,\n                      className: \"download-btn\",\n                      children: \"\\uD83D\\uDCE5 T\\u1EA3i xu\\u1ED1ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4606,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4603,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4586,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-meta\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"upload-date\",\n                    children: [\"\\uD83D\\uDCC5 \", new Date(evidence.uploadDate).toLocaleString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4618,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4617,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4569,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-evidence\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uD83D\\uDCED Ch\\u01B0a c\\xF3 b\\u1EB1ng ch\\u1EE9ng n\\xE0o \\u0111\\u01B0\\u1EE3c upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4626,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4625,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"modal-upload\",\n                multiple: true,\n                accept: \"image/*,video/*\",\n                onChange: e => {\n                  handleFileUpload(selectedJob.id, e.target.files);\n                  e.target.value = ''; // Reset input\n                },\n                className: \"file-input\",\n                disabled: uploadingFiles[selectedJob.id],\n                title: \"Ch\\u1ECDn h\\xECnh \\u1EA3nh ho\\u1EB7c video (t\\u1ED1i \\u0111a 50MB m\\u1ED7i file)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4632,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"modal-upload\",\n                className: `upload-btn modal-upload-btn ${uploadingFiles[selectedJob.id] ? 'uploading' : ''}`,\n                children: uploadingFiles[selectedJob.id] ? '⏳ Đang upload...' : '📤 Thêm bằng chứng'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4645,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4631,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4558,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4547,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4546,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4178,\n      columnNumber: 7\n    }, this);\n  };\n\n  // User Management Component\n  _s4(JobManagement, \"ex3npJ/0RV0LXxrSx9mWc3/+wrI=\");\n  const UserManagement = ({\n    users,\n    onUpdateUsers,\n    currentUser\n  }) => {\n    _s5();\n    const [newUser, setNewUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) || '',\n      position: '',\n      role: 'user'\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [editingUser, setEditingUser] = useState(null);\n    const [editUser, setEditUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: '',\n      position: '',\n      role: 'user'\n    });\n    const [searchTerm, setSearchTerm] = useState('');\n    const [departmentFilter, setDepartmentFilter] = useState('');\n    const [showPasswords, setShowPasswords] = useState({});\n\n    // Lọc users theo bộ phận của user (trừ admin)\n    const getFilteredUsersByDepartment = () => {\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin') {\n        return users; // Admin thấy tất cả\n      }\n      return users.filter(user => user.department === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department));\n    };\n    const departments = ['Kho Phôi', 'Sản Xuất', 'Đóng gói', 'Kho & Trải Cắt', 'Quản lý'];\n    const positions = ['Quản lý', 'Tổ trưởng', 'Tổ phó', 'Nhân viên'];\n\n    // Filter users based on search and department (sau khi đã lọc theo bộ phận)\n    const departmentFilteredUsers = getFilteredUsersByDepartment();\n    const filteredUsers = departmentFilteredUsers.filter(user => {\n      const matchesSearch = !searchTerm || user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) || user.username.toLowerCase().includes(searchTerm.toLowerCase()) || user.department.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesDepartment = !departmentFilter || user.department === departmentFilter;\n      return matchesSearch && matchesDepartment;\n    });\n    const totalUsers = departmentFilteredUsers.length;\n    const filteredCount = filteredUsers.length;\n    const togglePasswordVisibility = userId => {\n      setShowPasswords(prev => ({\n        ...prev,\n        [userId]: !prev[userId]\n      }));\n    };\n    const handleAddUser = () => {\n      if (!newUser.username || !newUser.password || !newUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n      const user = {\n        id: Date.now(),\n        ...newUser\n      };\n      const updatedUsers = [...users, user];\n      onUpdateUsers(updatedUsers);\n      setNewUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n      setIsAdding(false);\n    };\n    const handleDeleteUser = id => {\n      if (id === currentUser.id) {\n        alert('Không thể xóa tài khoản đang đăng nhập');\n        return;\n      }\n      if (confirm('Bạn có chắc muốn xóa người dùng này?')) {\n        const updatedUsers = users.filter(user => user.id !== id);\n        onUpdateUsers(updatedUsers);\n      }\n    };\n    const handleEditUser = user => {\n      setEditingUser(user.id);\n      setEditUser({\n        username: user.username,\n        password: user.password,\n        fullName: user.fullName,\n        department: user.department,\n        position: user.position,\n        role: user.role\n      });\n    };\n    const handleSaveEdit = () => {\n      if (!editUser.username || !editUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n      const updatedUsers = users.map(user => user.id === editingUser ? {\n        ...user,\n        ...editUser\n      } : user);\n      onUpdateUsers(updatedUsers);\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n    const handleCancelEdit = () => {\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-management\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDC65 Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4808,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-users\",\n              children: [\"T\\u1ED5ng: \", totalUsers, \" ng\\u01B0\\u1EDDi d\\xF9ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4810,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"filtered-users\",\n              children: [\"Hi\\u1EC3n th\\u1ECB: \", filteredCount, \"/\", totalUsers]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4811,\n              columnNumber: 15\n            }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"department-info\",\n              children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4813,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4809,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4807,\n          columnNumber: 13\n        }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-btn\",\n          onClick: () => setIsAdding(true),\n          children: \"\\u2795 Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4818,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4806,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uD83D\\uDD0D T\\xECm ki\\u1EBFm:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4829,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Nh\\u1EADp t\\xEAn, username ho\\u1EB7c b\\u1ED9 ph\\u1EADn...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4830,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4828,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4840,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: departmentFilter,\n            onChange: e => setDepartmentFilter(e.target.value),\n            className: \"department-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4846,\n              columnNumber: 15\n            }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4848,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4841,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4839,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSearchTerm('');\n              setDepartmentFilter('');\n            },\n            className: \"clear-filters-btn\",\n            children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a b\\u1ED9 l\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4854,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4853,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4827,\n        columnNumber: 9\n      }, this), isAdding && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-user-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4868,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n            value: newUser.username,\n            onChange: e => setNewUser({\n              ...newUser,\n              username: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4870,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"M\\u1EADt kh\\u1EA9u\",\n            value: newUser.password,\n            onChange: e => setNewUser({\n              ...newUser,\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4876,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4869,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"H\\u1ECD t\\xEAn\",\n            value: newUser.fullName,\n            onChange: e => setNewUser({\n              ...newUser,\n              fullName: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4884,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newUser.department,\n            onChange: e => setNewUser({\n              ...newUser,\n              department: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn b\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4894,\n              columnNumber: 17\n            }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4896,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4890,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4883,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: newUser.position,\n            onChange: e => setNewUser({\n              ...newUser,\n              position: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn v\\u1ECB tr\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4905,\n              columnNumber: 17\n            }, this), positions.map(pos => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: pos,\n              children: pos\n            }, pos, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4907,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4901,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newUser.role,\n            onChange: e => setNewUser({\n              ...newUser,\n              role: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"user\",\n              children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4914,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"admin\",\n              children: \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4915,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4910,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4900,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddUser,\n            className: \"save-btn\",\n            children: \"\\uD83D\\uDCBE L\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4919,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsAdding(false),\n            className: \"cancel-btn\",\n            children: \"\\u274C H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4922,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4918,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4867,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-item header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"H\\u1ECD t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4931,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4932,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4933,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"B\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4934,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"V\\u1ECB tr\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4935,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Quy\\u1EC1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4936,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Thao t\\xE1c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4937,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4930,\n          columnNumber: 11\n        }, this), filteredUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-item\",\n          children: editingUser === user.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"H\\u1ECD t\\xEAn\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: editUser.fullName,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  fullName: e.target.value\n                }),\n                className: \"edit-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4944,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4943,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: editUser.username,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  username: e.target.value\n                }),\n                className: \"edit-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4952,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4951,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"M\\u1EADt kh\\u1EA9u\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: editUser.password,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  password: e.target.value\n                }),\n                className: \"edit-input\",\n                placeholder: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4960,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4959,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1ED9 ph\\u1EADn\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editUser.department,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  department: e.target.value\n                }),\n                className: \"edit-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn b\\u1ED9 ph\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4974,\n                  columnNumber: 23\n                }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4976,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4969,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4968,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"V\\u1ECB tr\\xED\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editUser.position,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  position: e.target.value\n                }),\n                className: \"edit-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn v\\u1ECB tr\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4986,\n                  columnNumber: 23\n                }, this), positions.map(pos => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: pos,\n                  children: pos\n                }, pos, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4988,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4981,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4980,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Quy\\u1EC1n\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editUser.role,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  role: e.target.value\n                }),\n                className: \"edit-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"user\",\n                  children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4998,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"admin\",\n                  children: \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4999,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4993,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4992,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Thao t\\xE1c\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveEdit,\n                className: \"save-btn\",\n                children: \"\\uD83D\\uDCBE L\\u01B0u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5003,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                className: \"cancel-btn\",\n                children: \"\\u274C H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5006,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5002,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"H\\u1ECD t\\xEAn\",\n              children: user.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5013,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5014,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"M\\u1EADt kh\\u1EA9u\",\n              className: \"password-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"password-text\",\n                children: showPasswords[user.id] ? user.password : '••••••••'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5016,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"password-toggle-btn\",\n                onClick: () => togglePasswordVisibility(user.id),\n                title: showPasswords[user.id] ? 'Ẩn mật khẩu' : 'Hiện mật khẩu',\n                children: showPasswords[user.id] ? '🙈' : '👁️'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5019,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5015,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1ED9 ph\\u1EADn\",\n              children: user.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5027,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"V\\u1ECB tr\\xED\",\n              children: user.position\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5028,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Quy\\u1EC1n\",\n              children: user.role === 'admin' ? 'Quản trị' : 'Người dùng'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5029,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Thao t\\xE1c\",\n              children: ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEditUser(user),\n                  className: \"edit-btn\",\n                  children: \"\\u270F\\uFE0F S\\u1EEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5033,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteUser(user.id),\n                  className: \"delete-btn\",\n                  disabled: user.id === currentUser.id,\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5039,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5030,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4940,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4929,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4805,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render\n  _s5(UserManagement, \"WWBYTmEoiCZqqSDovYSOK7VjVGQ=\");\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5060,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(MainApp, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5063,\n    columnNumber: 10\n  }, this);\n}\n_s6(App, \"/756oHYk3Eygr3GthDl2AP0moiA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","getApiBase","window","location","hostname","apiUrl","console","log","API_BASE","apiClient","request","endpoint","options","url","config","headers","response","fetch","data","json","ok","Error","error","status","login","username","password","method","body","JSON","stringify","success","getUsers","updateUsers","users","getJobs","updateJobs","jobs","App","_s6","_s","$RefreshSig$","_s2","_s3","_s4","_s5","currentUser","setCurrentUser","isAuthenticated","setIsAuthenticated","loginError","setLoginError","setUsers","setJobs","activeTab","setActiveTab","isLoading","setIsLoading","setError","handleLogin","user","localStorage","setItem","fullName","handleLogout","removeItem","loadUsers","usersData","Array","isArray","length","loadJobs","jobsData","handleUpdateUsers","updatedUsers","handleUpdateJobs","updatedJobs","savedUser","getItem","parse","hasAccessToCurrentTab","role","position","testServerConnection","urlsToTry","timeout","message","handleKeyPress","e","ctrlKey","metaKey","key","preventDefault","setIsAdding","searchInput","document","querySelector","focus","setEditingUser","addEventListener","removeEventListener","checkAndUpdateOverdueJobs","getUpcomingDeadlines","today","Date","tomorrow","setDate","getDate","filter","job","completionTime","department","completionDate","timeDiff","getTime","daysDiff","Math","ceil","overdueJobs","map","push","hasChanges","some","index","overdueList","description","join","alert","upcomingDeadlines","ReminderNotification","deadlines","getReminderMessage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","assigner","assignee","toLocaleDateString","id","LoginForm","setUsername","setPassword","handleSubmit","onSubmit","type","value","onChange","target","placeholder","required","MainApp","onClick","title","JobManagement","onUpdateJobs","Dashboard","KPIEvaluation","UserManagement","onUpdateUsers","timeFilter","setTimeFilter","departmentFilter","setDepartmentFilter","refreshKey","setRefreshKey","isRefreshing","setIsRefreshing","autoRefresh","setAutoRefresh","interval","setInterval","prev","clearInterval","handleRefresh","setTimeout","getFilteredJobs","now","getFullYear","getMonth","filteredJobs","deliveryDate","jobDate","jobDateOnly","weekStart","getDay","weekEnd","monthStart","monthEnd","quarter","floor","quarterStart","quarterEnd","yearStart","yearEnd","totalJobs","sampleJobs","slice","stats","completedJobs","pendingJobs","failedJobs","totalUsers","activeUsers","departmentStats","reduce","acc","total","completed","pending","failed","inProgress","waiting","percentage","avgCompletionTime","onTimeRate","overdue","round","statusStats","checked","from","Set","dept","style","padding","background","borderRadius","fontSize","color","border","Object","values","sum","keys","entries","width","count","sort","a","b","reverse","selectedUser","setSelectedUser","evaluationDate","setEvaluationDate","toISOString","split","evaluationData","setEvaluationData","performance","discipline","attitude","isEvaluating","setIsEvaluating","evaluationHistory","setEvaluationHistory","viewMode","setViewMode","summaryPeriod","setSummaryPeriod","selectedDepartment","setSelectedDepartment","allEvaluations","setAllEvaluations","expandedUser","setExpandedUser","historyTimeFilter","setHistoryTimeFilter","historyDepartmentFilter","setHistoryDepartmentFilter","historyDateFilter","setHistoryDateFilter","weeklyTimeFilter","setWeeklyTimeFilter","weeklyDepartmentFilter","setWeeklyDepartmentFilter","loadKpiEvaluations","currentApiBase","result","saveKpiEvaluations","evaluations","getAvailableDepartments","availableUsers","getHistoryDepartments","departments","getFilteredUsers","filteredUsers","criteria","name","weight","maxScore","handleScoreChange","parseInt","calculateTotalScore","totalScore","totalWeight","forEach","criterion","score","weightedScore","getScoreLevel","level","calculateSummary","allEvaluationsLength","startDate","endDate","currentYear","currentMonth","firstDay","firstDayOfWeek","daysToSunday","week1End","week1EndDayOfWeek","daysToFirstSunday","week2StartDayOfWeek","week2End","week2EndDayOfWeek","week3StartDayOfWeek","week3End","week3EndDayOfWeek","week4StartDayOfWeek","week4End","week4EndDayOfWeek","week5StartDayOfWeek","includes","monthPart","weekPart","monthNum","replace","weekNum","prevWeekEnd","weekStartDay","weekStartDayOfWeek","filteredEvaluations","evaluation","evalDate","date","totalEvaluations","averageScore","topPerformers","scoreDistribution","excellent","good","average","poor","monthlyTrend","calculateMonthlyTrend","dailyKPI","calculateDailyKPI","months","i","monthEvaluations","weeklyAverages","calculateWeeklyAveragesInMonth","monthlyAverage","avg","month","days","dayNames","current","dayStart","setHours","dayEnd","dayEvaluations","avgScore","dayName","dayOfMonth","firstDayOfMonth","dayOfWeek","weekEndingSunday","weekNumber","firstSunday","day","evaluationsCount","setTime","weekEvaluations","weekAvg","exportDailyKPIExcel","dailyData","csvContent","blob","Blob","link","createElement","URL","createObjectURL","setAttribute","visibility","appendChild","click","removeChild","exportMonthlyKPIExcel","monthlyData","weeklyAvgs","exportDepartmentKPIExcel","exportAllEvaluationsExcel","exportEvaluationsToCSV","exportAllEvaluationsExcelUnfiltered","filenamePrefix","userName","scores","exportWeeklySummariesToCSV","weeklySummaries","summary","totalDailyEvaluations","averageScores","averageTotalScore","weeklyLevel","calculateWeeklySummary","userId","weeklyEvaluations","avgPerformance","avgDiscipline","avgAttitude","avgTotalScore","dailyEvaluations","createdAt","getFilteredWeeklySummaries","allSummaries","generateWeeklySummaries","summaryDate","currentWeekStart","currentDay","daysToMonday","currentWeekEnd","weeksInMonth","actualWeekStart","max","actualWeekEnd","min","start","end","uniqueUsers","week","toggleUserDetails","getFilteredHistory","filterDate","toDateString","calculateDailyKPIReport","dailyReports","daysInWeek","overallAverage","dateString","handleStartEvaluation","handleSaveEvaluation","scoreLevel","newEvaluation","evaluatedBy","evaluatorRole","updatedEvaluations","handleDeleteEvaluation","evaluationId","confirm","display","gap","calculateMonthlyKPIReport","label","performer","weeks","weekDays","lastDay","weekTitle","backgroundColor","marginTop","margin","alignItems","marginBottom","flexWrap","fontWeight","s","boxShadow","overflow","gridTemplateColumns","borderBottom","textAlign","cursor","transition","onMouseEnter","currentTarget","onMouseLeave","stopPropagation","gridColumn","borderTop","evalIndex","justifyContent","marginRight","marginLeft","onMouseOver","borderColor","onMouseOut","filterSuffix","newJob","setNewJob","jobType","completionEvidence","isAdding","filters","setFilters","search","timeRange","uploadingFiles","setUploadingFiles","showEvidenceModal","setShowEvidenceModal","selectedJob","setSelectedJob","getFilteredJobsByDepartment","statusOptions","departmentFilteredJobs","getTimeFilteredJobs","timeFilteredJobs","matchesDepartment","matchesStatus","matchesSearch","toLowerCase","handleFilterChange","filterType","clearFilters","handleFileUpload","jobId","files","find","j","serverOk","maxFileSize","allowedTypes","file","size","filePromises","Promise","resolve","reject","reader","FileReader","onload","uploadDate","onerror","readAsDataURL","uploadedFiles","all","errorText","text","removeEvidence","evidenceIndex","_","openEvidenceModal","handleAddJob","handleDeleteJob","handleUpdateJob","field","isCompleted","canDelete","canEdit","disabled","multiple","accept","htmlFor","evidence","toFixed","startsWith","src","alt","open","controls","href","download","toLocaleString","newUser","setNewUser","editingUser","editUser","setEditUser","searchTerm","setSearchTerm","showPasswords","setShowPasswords","getFilteredUsersByDepartment","positions","departmentFilteredUsers","filteredCount","togglePasswordVisibility","handleAddUser","handleDeleteUser","handleEditUser","handleSaveEdit","handleCancelEdit","pos","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/Qly_CV/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport './App.css';\n\n// API Client - Tự động detect IP máy chủ\nconst getApiBase = () => {\n  // Nếu đang chạy trên localhost, sử dụng localhost\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:5001';\n  }\n  // Nếu truy cập từ IP khác, thử kết nối đến IP đó trước\n  // Nếu không được, fallback về localhost\n  const apiUrl = `http://${window.location.hostname}:5001`;\n  console.log('🔍 API Base URL:', apiUrl);\n  return apiUrl;\n};\n\nconst API_BASE = getApiBase();\n\nconst apiClient = {\n  async request(endpoint, options = {}) {\n    try {\n      const url = `${API_BASE}${endpoint}`;\n      const config = {\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        ...options\n      };\n\n      const response = await fetch(url, config);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP ${response.status}`);\n      }\n\n      return data;\n    } catch (error) {\n      console.error(`❌ API Error ${endpoint}:`, error);\n      throw error;\n    }\n  },\n\n  async login(username, password) {\n    try {\n      const response = await this.request('/api/login', {\n        method: 'POST',\n        body: JSON.stringify({ username, password })\n      });\n      return response;\n    } catch (error) {\n      return { success: false, error: 'Không thể kết nối server' };\n    }\n  },\n\n  async getUsers() {\n    try {\n      const response = await this.request('/api/users');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy users:', error);\n    return [];\n    }\n  },\n\n  async updateUsers(users) {\n    try {\n      const response = await this.request('/api/users', {\n        method: 'POST',\n        body: JSON.stringify({ users })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n        return false;\n      }\n  },\n\n  async getJobs() {\n    try {\n      const response = await this.request('/api/jobs');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy jobs:', error);\n    return [];\n    }\n  },\n\n  async updateJobs(jobs) {\n    try {\n      const response = await this.request('/api/jobs', {\n        method: 'POST',\n        body: JSON.stringify({ jobs })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n        return false;\n      }\n      }\n};\n\nfunction App() {\n  // Authentication state\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loginError, setLoginError] = useState('');\n  \n  // Data state\n  const [users, setUsers] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [activeTab, setActiveTab] = useState('list');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Authentication functions\n  const handleLogin = async (username, password) => {\n    try {\n      setLoginError('');\n      const response = await apiClient.login(username, password);\n      if (response.success) {\n        setCurrentUser(response.user);\n        setIsAuthenticated(true);\n        localStorage.setItem('currentUser', JSON.stringify(response.user));\n        console.log('✅ Đăng nhập thành công:', response.user.fullName);\n      } else {\n        setLoginError(response.error || 'Đăng nhập thất bại');\n      }\n    } catch (error) {\n      console.error('❌ Lỗi đăng nhập:', error);\n      setLoginError('Không thể kết nối server. Vui lòng thử lại.');\n    }\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setLoginError('');\n    localStorage.removeItem('currentUser');\n  };\n\n  // Load users\n  const loadUsers = useCallback(async () => {\n    try {\n      const usersData = await apiClient.getUsers();\n      if (Array.isArray(usersData)) {\n        setUsers(usersData);\n        console.log('✅ Đã tải users:', usersData.length, 'users');\n      } else {\n        setUsers([]);\n      }\n      } catch (error) {\n        console.error('❌ Lỗi khi tải users:', error);\n      setUsers([]);\n    }\n  }, []);\n\n  // Load jobs\n  const loadJobs = useCallback(async () => {\n    try {\n      const jobsData = await apiClient.getJobs();\n      if (Array.isArray(jobsData)) {\n        setJobs(jobsData);\n        console.log('✅ Đã tải jobs:', jobsData.length, 'jobs');\n      } else {\n        setJobs([]);\n      }\n    } catch (error) {\n      console.error('❌ Lỗi khi tải jobs:', error);\n      setJobs([]);\n    }\n  }, []);\n\n  // Update users\n  const handleUpdateUsers = async (updatedUsers) => {\n    try {\n      setUsers(updatedUsers);\n      await apiClient.updateUsers(updatedUsers);\n      console.log('✅ Đã cập nhật users');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n    }\n  };\n\n  // Update jobs\n  const handleUpdateJobs = async (updatedJobs) => {\n    try {\n    setJobs(updatedJobs);\n      await apiClient.updateJobs(updatedJobs);\n      console.log('✅ Đã cập nhật jobs');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n    }\n  };\n\n  // Check authentication on load\n  useEffect(() => {\n    const savedUser = localStorage.getItem('currentUser');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n        console.log('✅ Đã khôi phục phiên đăng nhập:', user.fullName);\n      } catch (error) {\n        localStorage.removeItem('currentUser');\n      }\n    }\n  }, []);\n\n  // Kiểm tra quyền truy cập tab khi user thay đổi\n  useEffect(() => {\n    if (currentUser) {\n      // Nếu user không có quyền truy cập tab hiện tại, chuyển về tab mặc định\n      const hasAccessToCurrentTab = () => {\n        switch (activeTab) {\n          case 'dashboard':\n          case 'salary':\n            return currentUser.role === 'admin' || currentUser.position === 'Tổ trưởng';\n          case 'users':\n            return currentUser.role === 'admin';\n          case 'list':\n          default:\n            return true; // Tất cả user đều có quyền truy cập tab công việc\n        }\n      };\n\n      if (!hasAccessToCurrentTab()) {\n        setActiveTab('list');\n      }\n    }\n  }, [currentUser, activeTab]);\n\n  // Test server connection with fallback\n  const testServerConnection = useCallback(async () => {\n    const urlsToTry = [\n      API_BASE,\n      'http://localhost:5001',\n      `http://${window.location.hostname}:5001`\n    ];\n    \n    for (const url of urlsToTry) {\n      try {\n        console.log(`🔍 Đang thử kết nối đến: ${url}`);\n        const response = await fetch(`${url}/api/health`, {\n          method: 'GET',\n          timeout: 5000\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          console.log('✅ Server đang hoạt động:', data);\n          // Update API_BASE to working URL\n          if (url !== API_BASE) {\n            console.log(`🔄 Cập nhật API_BASE từ ${API_BASE} thành ${url}`);\n            window.API_BASE = url;\n          }\n          return true;\n        }\n      } catch (error) {\n        console.log(`❌ Không thể kết nối đến ${url}:`, error.message);\n        continue;\n      }\n    }\n    \n    console.error('❌ Không thể kết nối đến server từ bất kỳ URL nào');\n    return false;\n  }, []);\n\n  // Load data on mount\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadUsers();\n      loadJobs();\n      // Test server connection on mount\n      testServerConnection();\n    }\n  }, [isAuthenticated, testServerConnection]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (!isAuthenticated) return;\n      \n      // Ctrl/Cmd + N: Thêm công việc mới\n      if ((e.ctrlKey || e.metaKey) && e.key === 'n') {\n        e.preventDefault();\n        if (currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') {\n          setIsAdding(true);\n        }\n      }\n      \n      // Ctrl/Cmd + F: Focus vào ô tìm kiếm\n      if ((e.ctrlKey || e.metaKey) && e.key === 'f') {\n        e.preventDefault();\n        const searchInput = document.querySelector('.filter-input');\n        if (searchInput) searchInput.focus();\n      }\n      \n      // Escape: Đóng form thêm/sửa\n      if (e.key === 'Escape') {\n        setIsAdding(false);\n        setEditingUser(null);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyPress);\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  }, [isAuthenticated, currentUser]);\n\n  // Tự động kiểm tra và cập nhật trạng thái công việc trễ hạn\n  useEffect(() => {\n    if (isAuthenticated && jobs.length > 0) {\n      checkAndUpdateOverdueJobs();\n    }\n  }, [isAuthenticated, jobs]);\n\n  // Kiểm tra deadline và hiển thị thông báo nhắc nhở\n  const getUpcomingDeadlines = () => {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(today.getDate() + 1);\n    \n    return jobs.filter(job => {\n      if (!job.completionTime || job.status === 'thành công') return false;\n      \n      // Lọc theo bộ phận của người dùng hiện tại\n      if (currentUser?.role !== 'admin' && job.department !== currentUser?.department) {\n        return false;\n      }\n      \n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      \n      // Nhắc nhở trước 1 ngày (0-1 ngày)\n      return daysDiff >= 0 && daysDiff <= 1;\n    });\n  };\n\n  // Hàm kiểm tra và cập nhật trạng thái công việc trễ hạn\n  const checkAndUpdateOverdueJobs = () => {\n    const today = new Date();\n    const overdueJobs = [];\n    \n    const updatedJobs = jobs.map(job => {\n      // Chỉ cập nhật nếu công việc chưa hoàn thành và có ngày hoàn thành\n      if (job.status !== 'thành công' && job.status !== 'thất bại' && job.completionTime) {\n        const completionDate = new Date(job.completionTime);\n        const timeDiff = completionDate.getTime() - today.getTime();\n        const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n        \n        // Nếu trễ hạn (ngày hoàn thành đã qua)\n        if (daysDiff < 0) {\n          overdueJobs.push(job);\n          return { ...job, status: 'thất bại' };\n        }\n      }\n      return job;\n    });\n    \n    // Cập nhật danh sách công việc nếu có thay đổi\n    const hasChanges = updatedJobs.some((job, index) => job.status !== jobs[index].status);\n    if (hasChanges) {\n      handleUpdateJobs(updatedJobs);\n      \n      // Hiển thị thông báo về các công việc trễ hạn\n      if (overdueJobs.length > 0) {\n        const overdueList = overdueJobs.map(job => `• ${job.description} (${job.department})`).join('\\n');\n        alert(`⚠️ CẢNH BÁO: ${overdueJobs.length} công việc đã trễ hạn và được tự động cập nhật thành \"thất bại\":\\n\\n${overdueList}`);\n      }\n    }\n  };\n\n  const upcomingDeadlines = getUpcomingDeadlines();\n\n  // Reminder Notification Component\n  const ReminderNotification = ({ deadlines }) => {\n    if (deadlines.length === 0) return null;\n\n    const getReminderMessage = (job) => {\n      const today = new Date();\n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      \n      if (daysDiff === 0) {\n        return `⚠️ Hôm nay là deadline: \"${job.description}\"`;\n      } else if (daysDiff === 1) {\n        return `⏰ Ngày mai deadline: \"${job.description}\"`;\n      }\n      return `📅 Còn ${daysDiff} ngày: \"${job.description}\"`;\n    };\n\n    return (\n      <div className=\"reminder-notification\">\n        <div className=\"reminder-header\">\n          <h3>🔔 Nhắc nhở deadline</h3>\n          <span className=\"reminder-count\">\n            {deadlines.length} công việc\n            {currentUser?.role !== 'admin' && (\n              <span className=\"department-info\"> (Bộ phận: {currentUser?.department})</span>\n            )}\n          </span>\n        </div>\n        <div className=\"reminder-list\">\n          {deadlines.map(job => (\n            <div key={job.id} className=\"reminder-item\">\n              <div className=\"reminder-message\">\n                {getReminderMessage(job)}\n              </div>\n              <div className=\"reminder-details\">\n                <span className=\"reminder-department\">🏢 {job.department}</span>\n                <span className=\"reminder-assignee\">👤 {job.assigner || 'Chưa giao'} → {job.assignee || 'Chưa giao'}</span>\n                <span className=\"reminder-date\">📅 {new Date(job.completionTime).toLocaleDateString('vi-VN')}</span>\n                <span className={`reminder-status status-${job.status}`}>\n                  {job.status === 'nhận việc' ? '📋 Nhận việc' :\n                   job.status === 'đang xử lý' ? '⏳ Đang xử lý' :\n                   job.status === 'chờ duyệt' ? '⏸️ Chờ duyệt' :\n                   job.status === 'thất bại' ? '❌ Thất bại' : '✅ Thành công'}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  // Login Form Component\n  const LoginForm = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (username && password) {\n        handleLogin(username, password);\n      } else {\n        setLoginError('Vui lòng nhập đầy đủ thông tin');\n      }\n    };\n\n    return (\n      <div className=\"login-container\">\n        <div className=\"login-form\">\n          <h2>🔐 Đăng nhập hệ thống</h2>\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Tên đăng nhập:</label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                placeholder=\"Nhập username\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Mật khẩu:</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Nhập password\"\n                required\n              />\n            </div>\n            \n            {loginError && (\n              <div className=\"error-message\">\n                ❌ {loginError}\n              </div>\n            )}\n            <button type=\"submit\" className=\"login-btn\">\n              🚀 Đăng nhập\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  // Main App Component\n  const MainApp = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <header className=\"header\">\n          <div className=\"header-content\">\n            <div className=\"header-info\">\n              <h1>📋 Danh sách việc làm</h1>\n              <p>Quản lý và theo dõi tiến độ công việc</p>\n            </div>\n            <div className=\"user-info\">\n              <div className=\"user-details\">\n                  <span className=\"user-name\">{currentUser?.fullName}</span>\n                  <span className=\"user-department\">{currentUser?.department}</span>\n                  <span className=\"user-position\">{currentUser?.position}</span>\n              </div>\n            <div className=\"user-actions\">\n                  <button onClick={handleLogout} className=\"logout-btn\">\n                    🚪 Đăng xuất\n                  </button>\n            </div>\n            </div>\n          </div>\n        </header>\n\n        <div className=\"tab-navigation\">\n          <button \n            className={`tab-btn ${activeTab === 'list' ? 'active' : ''}`}\n            onClick={() => setActiveTab('list')}\n            title=\"Ctrl+F: Tìm kiếm, Ctrl+N: Thêm mới\"\n          >\n            📋 Quản lý công việc\n          </button>\n          \n          {/* Dashboard - Admin, Quản lý, Tổ trưởng */}\n          {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý' || currentUser?.position === 'Tổ trưởng') && (\n            <button \n              className={`tab-btn ${activeTab === 'dashboard' ? 'active' : ''}`}\n              onClick={() => setActiveTab('dashboard')}\n            >\n              📊 Dashboard & Thống kê\n            </button>\n          )}\n          \n          {/* KPI Evaluation - Admin, Quản lý, Tổ trưởng, Tổ phó */}\n          {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý' || currentUser?.position === 'Tổ trưởng' || currentUser?.position === 'Tổ phó') && (\n            <button \n              className={`tab-btn ${activeTab === 'salary' ? 'active' : ''}`}\n              onClick={() => setActiveTab('salary')}\n            >\n              📊 Đánh giá KPI nhân sự\n            </button>\n          )}\n          \n          {/* User Management - Chỉ admin */}\n          {currentUser?.role === 'admin' && (\n            <button \n              className={`tab-btn ${activeTab === 'users' ? 'active' : ''}`}\n              onClick={() => setActiveTab('users')}\n            >\n              👥 Quản lý người dùng\n            </button>\n          )}\n        </div>\n\n        <div className=\"tab-content\">\n        {/* Hiển thị thông báo nhắc nhở ở đầu mọi tab */}\n        <ReminderNotification deadlines={upcomingDeadlines} />\n        \n        {activeTab === 'list' && (\n            <JobManagement \n              jobs={jobs}\n              onUpdateJobs={handleUpdateJobs}\n              currentUser={currentUser}\n            />\n        )}\n\n        {activeTab === 'dashboard' && (\n          <Dashboard \n            jobs={jobs}\n              users={users}\n            currentUser={currentUser}\n          />\n        )}\n\n          {activeTab === 'salary' && (\n            <KPIEvaluation \n              users={users}\n              jobs={jobs}\n            currentUser={currentUser}\n          />\n        )}\n\n        {activeTab === 'users' && (\n            <UserManagement \n            users={users}\n            onUpdateUsers={handleUpdateUsers}\n            currentUser={currentUser}\n          />\n        )}\n\n      </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Dashboard Component\n  const Dashboard = ({ jobs, users, currentUser }) => {\n    const [timeFilter, setTimeFilter] = useState('all'); // all, week, month, quarter, year\n    const [departmentFilter, setDepartmentFilter] = useState('all');\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [isRefreshing, setIsRefreshing] = useState(false);\n    const [autoRefresh, setAutoRefresh] = useState(true);\n    \n    // Auto refresh effect\n    useEffect(() => {\n      if (!autoRefresh) return;\n      \n      const interval = setInterval(() => {\n        setRefreshKey(prev => prev + 1);\n      }, 30000); // Refresh every 30 seconds\n      \n      return () => clearInterval(interval);\n    }, [autoRefresh]);\n    \n    // Manual refresh function\n    const handleRefresh = async () => {\n      setIsRefreshing(true);\n      setRefreshKey(prev => prev + 1);\n      setTimeout(() => setIsRefreshing(false), 1000);\n    };\n    \n    // Filter jobs by time period\n    const getFilteredJobs = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n      let filteredJobs = jobs;\n      \n      // Filter by time period\n      switch (timeFilter) {\n        case 'today':\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly.getTime() === today.getTime();\n          });\n          break;\n        case 'week':\n          const weekStart = new Date(today);\n          weekStart.setDate(today.getDate() - today.getDay());\n          const weekEnd = new Date(weekStart);\n          weekEnd.setDate(weekStart.getDate() + 6);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n          });\n          break;\n          \n        case 'month':\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n          const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n          });\n          break;\n          \n        case 'quarter':\n          const quarter = Math.floor(today.getMonth() / 3);\n          const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n          const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n          });\n          break;\n          \n        case 'year':\n          const yearStart = new Date(today.getFullYear(), 0, 1);\n          const yearEnd = new Date(today.getFullYear(), 11, 31);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n          });\n          break;\n          \n        default:\n          filteredJobs = jobs;\n      }\n      \n      // Filter by department\n      if (departmentFilter !== 'all') {\n        filteredJobs = filteredJobs.filter(job => job.department === departmentFilter);\n      }\n      \n      return filteredJobs;\n    };\n\n    const filteredJobs = getFilteredJobs();\n    \n    // Debug information\n    console.log('Dashboard Filter Debug:', {\n      timeFilter,\n      departmentFilter,\n      totalJobs: jobs.length,\n      filteredJobs: filteredJobs.length,\n      sampleJobs: jobs.slice(0, 3).map(job => ({\n        id: job.id,\n        deliveryDate: job.deliveryDate,\n        department: job.department,\n        status: job.status\n      }))\n    });\n    \n    const stats = {\n      totalJobs: filteredJobs.length,\n      completedJobs: filteredJobs.filter(job => job.status === 'thành công').length,\n      pendingJobs: filteredJobs.filter(job => job.status === 'nhận việc' || job.status === 'đang xử lý' || job.status === 'chờ duyệt').length,\n      failedJobs: filteredJobs.filter(job => job.status === 'thất bại').length,\n      totalUsers: users.length,\n      activeUsers: users.filter(user => user.role !== 'inactive').length\n    };\n\n    const departmentStats = filteredJobs.reduce((acc, job) => {\n      if (!acc[job.department]) {\n        acc[job.department] = { \n          total: 0, \n          completed: 0, \n          pending: 0,\n          failed: 0,\n          inProgress: 0,\n          waiting: 0,\n          percentage: 0,\n          avgCompletionTime: 0,\n          onTimeRate: 0,\n          overdue: 0\n        };\n      }\n      \n      acc[job.department].total += 1;\n      \n      // Count by status\n      switch (job.status) {\n        case 'thành công':\n        acc[job.department].completed += 1;\n          break;\n        case 'nhận việc':\n        case 'đang xử lý':\n        case 'chờ duyệt':\n          acc[job.department].pending += 1;\n          if (job.status === 'đang xử lý') acc[job.department].inProgress += 1;\n          if (job.status === 'chờ duyệt') acc[job.department].waiting += 1;\n          break;\n        case 'thất bại':\n          acc[job.department].failed += 1;\n          break;\n      }\n      \n      // Calculate completion time and overdue\n      if (job.completionTime && job.deliveryDate) {\n        const deliveryDate = new Date(job.deliveryDate);\n        const completionDate = new Date(job.completionTime);\n        const today = new Date();\n        \n        if (job.status === 'thành công') {\n          const completionTime = Math.ceil((completionDate - deliveryDate) / (1000 * 60 * 60 * 24));\n          acc[job.department].avgCompletionTime = (acc[job.department].avgCompletionTime + completionTime) / 2;\n        }\n        \n        // Check if overdue\n        if (job.status !== 'thành công' && job.status !== 'thất bại' && completionDate < today) {\n          acc[job.department].overdue += 1;\n        }\n      }\n      \n      acc[job.department].percentage = Math.round((acc[job.department].completed / acc[job.department].total) * 100);\n      acc[job.department].onTimeRate = Math.round(((acc[job.department].completed - acc[job.department].overdue) / acc[job.department].completed) * 100) || 0;\n      \n      return acc;\n    }, {});\n\n    const statusStats = filteredJobs.reduce((acc, job) => {\n      acc[job.status] = (acc[job.status] || 0) + 1;\n      return acc;\n    }, {});\n\n    return (\n      <div className=\"dashboard\">\n        <div className=\"dashboard-header\">\n          <div className=\"header-content\">\n            <div className=\"header-text\">\n              <h2>📊 Dashboard & Thống kê</h2>\n              <p>Xin chào {currentUser?.fullName}, đây là tổng quan hệ thống</p>\n              <div className=\"refresh-controls\">\n                <button \n                  className={`refresh-btn ${isRefreshing ? 'refreshing' : ''}`}\n                  onClick={handleRefresh}\n                  title=\"Làm mới dữ liệu\"\n                >\n                  {isRefreshing ? '🔄' : '🔄'} {isRefreshing ? 'Đang tải...' : 'Làm mới'}\n                </button>\n                <label className=\"auto-refresh-toggle\">\n                  <input\n                    type=\"checkbox\"\n                    checked={autoRefresh}\n                    onChange={(e) => setAutoRefresh(e.target.checked)}\n                  />\n                  <span className=\"toggle-label\">Tự động cập nhật (30s)</span>\n                </label>\n              </div>\n              <div className=\"filter-info\">\n                <span className=\"filter-badge\">\n                  📅 {timeFilter === 'all' ? 'Tất cả thời gian' : \n                       timeFilter === 'week' ? 'Tuần này' :\n                       timeFilter === 'month' ? 'Tháng này' :\n                       timeFilter === 'quarter' ? 'Quý này' :\n                       timeFilter === 'year' ? 'Năm này' : timeFilter}\n                </span>\n                {departmentFilter !== 'all' && (\n                  <span className=\"filter-badge\">\n                    🏢 {departmentFilter}\n                  </span>\n                )}\n                <span className=\"filter-badge\">\n                  📊 {filteredJobs.length} công việc\n                </span>\n              </div>\n            </div>\n            <div className=\"dashboard-filters\">\n              <div className=\"filter-group\">\n                <label>📅 Thời gian:</label>\n                <select \n                  value={timeFilter} \n                  onChange={(e) => setTimeFilter(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tất cả thời gian</option>\n                  <option value=\"today\">Hôm nay</option>\n                  <option value=\"week\">Tuần này</option>\n                  <option value=\"month\">Tháng này</option>\n                  <option value=\"quarter\">Quý này</option>\n                  <option value=\"year\">Năm này</option>\n                </select>\n              </div>\n              <div className=\"filter-group\">\n                <label>🏢 Bộ phận:</label>\n                <select \n                  value={departmentFilter}\n                  onChange={(e) => setDepartmentFilter(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tất cả bộ phận</option>\n                  {Array.from(new Set(jobs.map(job => job.department))).map(dept => (\n                    <option key={dept} value={dept}>{dept}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"filter-actions\">\n                <div className=\"filter-info\" style={{ \n                  padding: '8px 12px', \n                  background: 'rgba(255, 255, 255, 0.2)', \n                  borderRadius: '6px', \n                  fontSize: '0.9rem',\n                  color: 'white',\n                  border: '1px solid rgba(255, 255, 255, 0.3)'\n                }}>\n                  📊 Hiển thị: {getFilteredJobs().length} / {jobs.length} công việc\n                </div>\n                <button \n                  className=\"clear-filters-btn\"\n                  onClick={() => {\n                    setTimeFilter('all');\n                    setDepartmentFilter('all');\n                  }}\n                >\n                  🔄 Xóa bộ lọc\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"stats-grid\" key={refreshKey}>\n          <div className=\"stat-card animated\">\n            <div className=\"stat-icon\">📋</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.totalJobs}</h3>\n              <p>Tổng công việc</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator\">📊</span>\n                <span className=\"trend-text\">Tổng quan</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card success animated\">\n            <div className=\"stat-icon\">✅</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.completedJobs}</h3>\n              <p>Hoàn thành</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator success\">📈</span>\n                <span className=\"trend-text\">Hoàn thành tốt</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card warning animated\">\n            <div className=\"stat-icon\">⏳</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.pendingJobs}</h3>\n              <p>Đang xử lý</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator warning\">⏰</span>\n                <span className=\"trend-text\">Cần theo dõi</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card danger animated\">\n            <div className=\"stat-icon\">❌</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.failedJobs}</h3>\n              <p>Thất bại</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator danger\">⚠️</span>\n                <span className=\"trend-text\">Cần xử lý</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card info animated\">\n            <div className=\"stat-icon\">👥</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.totalUsers}</h3>\n              <p>Tổng người dùng</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator info\">👤</span>\n                <span className=\"trend-text\">Tổng nhân sự</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card primary\">\n            <div className=\"stat-icon\">🟢</div>\n            <div className=\"stat-content\">\n              <h3>{stats.activeUsers}</h3>\n              <p>Đang hoạt động</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card productivity\">\n            <div className=\"stat-icon\">📈</div>\n            <div className=\"stat-content\">\n              <h3>{stats.totalJobs > 0 ? Math.round((stats.completedJobs / stats.totalJobs) * 100) : 0}%</h3>\n              <p>Tổng năng suất</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card efficiency\">\n            <div className=\"stat-icon\">⚡</div>\n            <div className=\"stat-content\">\n              <h3>{Object.values(departmentStats).length > 0 ? \n                Math.round(Object.values(departmentStats).reduce((sum, dept) => sum + dept.onTimeRate, 0) / Object.values(departmentStats).length) : 0}%</h3>\n              <p>Tỷ lệ đúng hạn</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card departments\">\n            <div className=\"stat-icon\">🏢</div>\n            <div className=\"stat-content\">\n              <h3>{Object.keys(departmentStats).length}</h3>\n              <p>Bộ phận hoạt động</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"charts-grid\">\n          <div className=\"chart-card\">\n            <h3>📊 Năng suất theo bộ phận</h3>\n            <div className=\"chart-content\">\n              {Object.entries(departmentStats).map(([dept, data]) => (\n                <div key={dept} className=\"chart-bar enhanced\">\n                  <div className=\"bar-header\">\n                  <div className=\"bar-label\">{dept}</div>\n                    <div className=\"bar-status-indicators\">\n                      <span className=\"status-dot completed\" title=\"Hoàn thành\">●</span>\n                      <span className=\"status-dot pending\" title=\"Đang xử lý\">●</span>\n                      <span className=\"status-dot failed\" title=\"Thất bại\">●</span>\n                    </div>\n                  </div>\n                  <div className=\"bar-container\">\n                    <div \n                      className=\"bar-fill\" \n                      style={{ \n                        width: `${data.percentage}%`,\n                        background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' :\n                                   data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' :\n                                   'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                      }}\n                    ></div>\n                  </div>\n                  <div className=\"bar-value\">\n                    <div className=\"percentage\">{data.percentage}%</div>\n                    <div className=\"count\">({data.completed}/{data.total})</div>\n                  </div>\n                  <div className=\"bar-details\">\n                    <div className=\"detail-row\">\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">✅</span>\n                        {data.completed} hoàn thành\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">⏳</span>\n                        {data.pending} đang xử lý\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">❌</span>\n                        {data.failed} thất bại\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">⚡</span>\n                        {data.onTimeRate}% đúng hạn\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">📅</span>\n                        {data.avgCompletionTime > 0 ? `${Math.round(data.avgCompletionTime)} ngày` : 'N/A'}\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">⚠️</span>\n                        {data.overdue} trễ hạn\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"chart-card\">\n            <h3>📈 Thống kê theo trạng thái</h3>\n            <div className=\"chart-content\">\n              {Object.entries(statusStats).map(([status, count]) => (\n                <div key={status} className=\"chart-bar\">\n                  <div className=\"bar-label\">{status}</div>\n                  <div className=\"bar-container\">\n                    <div \n                      className=\"bar-fill\" \n                      style={{ width: `${(count / stats.totalJobs) * 100}%` }}\n                    ></div>\n                  </div>\n                  <div className=\"bar-value\">{count}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"productivity-summary\">\n          <h3>📊 Tổng quan năng suất</h3>\n          <div className=\"productivity-grid\">\n            {Object.entries(departmentStats).map(([dept, data]) => (\n              <div key={dept} className=\"productivity-card\">\n                <div className=\"productivity-header\">\n                  <h4>{dept}</h4>\n                  <div className=\"productivity-percentage\">\n                    {data.percentage}%\n                  </div>\n                </div>\n                <div className=\"productivity-bar\">\n                  <div \n                    className=\"productivity-fill\"\n                    style={{ \n                      width: `${data.percentage}%`,\n                      background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' :\n                                 data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' :\n                                 'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                    }}\n                  ></div>\n                </div>\n                <div className=\"productivity-details\">\n                  <span>Hoàn thành: {data.completed}/{data.total}</span>\n                  <span className={`productivity-status ${\n                    data.percentage >= 80 ? 'excellent' :\n                    data.percentage >= 60 ? 'good' : 'needs-improvement'\n                  }`}>\n                    {data.percentage >= 80 ? 'Xuất sắc' :\n                     data.percentage >= 60 ? 'Tốt' : 'Cần cải thiện'}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"performance-insights\">\n          <h3>🔍 Phân tích hiệu suất chi tiết</h3>\n          <div className=\"insights-grid\">\n            <div className=\"insight-card\">\n              <h4>📊 Top Bộ phận</h4>\n              <div className=\"insight-content\">\n                {Object.entries(departmentStats)\n                  .sort(([,a], [,b]) => b.percentage - a.percentage)\n                  .slice(0, 3)\n                  .map(([dept, data], index) => (\n                    <div key={dept} className=\"insight-item\">\n                      <div className=\"insight-rank\">#{index + 1}</div>\n                      <div className=\"insight-info\">\n                        <div className=\"insight-name\">{dept}</div>\n                        <div className=\"insight-stats\">\n                          {data.percentage}% • {data.completed}/{data.total} công việc\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n            \n            <div className=\"insight-card\">\n              <h4>⚡ Hiệu suất thời gian</h4>\n              <div className=\"insight-content\">\n                {Object.entries(departmentStats)\n                  .filter(([,data]) => data.avgCompletionTime > 0)\n                  .sort(([,a], [,b]) => a.avgCompletionTime - b.avgCompletionTime)\n                  .slice(0, 3)\n                  .map(([dept, data]) => (\n                    <div key={dept} className=\"insight-item\">\n                      <div className=\"insight-info\">\n                        <div className=\"insight-name\">{dept}</div>\n                        <div className=\"insight-stats\">\n                          {Math.round(data.avgCompletionTime)} ngày trung bình\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n            \n            <div className=\"insight-card\">\n              <h4>🎯 Tỷ lệ đúng hạn</h4>\n              <div className=\"insight-content\">\n                {Object.entries(departmentStats)\n                  .sort(([,a], [,b]) => b.onTimeRate - a.onTimeRate)\n                  .slice(0, 3)\n                  .map(([dept, data]) => (\n                    <div key={dept} className=\"insight-item\">\n                      <div className=\"insight-info\">\n                        <div className=\"insight-name\">{dept}</div>\n                        <div className=\"insight-stats\">\n                          {data.onTimeRate}% đúng hạn\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"recent-activity\">\n          <h3>🕒 Hoạt động gần đây</h3>\n          <div className=\"activity-list\">\n            {filteredJobs.slice(-5).reverse().map(job => (\n              <div key={job.id} className=\"activity-item\">\n                <div className=\"activity-icon\">\n                  {job.status === 'thành công' ? '✅' : \n                   job.status === 'thất bại' ? '❌' : \n                   job.status === 'đang xử lý' ? '⏳' : \n                   job.status === 'nhận việc' ? '📋' : '⏸️'}\n                </div>\n                <div className=\"activity-content\">\n                  <div className=\"activity-title\">{job.description}</div>\n                  <div className=\"activity-meta\">\n                    {job.department} • {job.assigner || 'Chưa giao'} → {job.assignee || 'Chưa giao'} • {new Date(job.deliveryDate).toLocaleDateString('vi-VN')} • {job.status}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // KPI Evaluation Component\n  const KPIEvaluation = ({ users, jobs, currentUser }) => {\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [evaluationDate, setEvaluationDate] = useState(new Date().toISOString().split('T')[0]);\n    const [evaluationData, setEvaluationData] = useState({\n      performance: 0,\n      discipline: 0,\n      attitude: 0\n    });\n    const [isEvaluating, setIsEvaluating] = useState(false);\n    const [evaluationHistory, setEvaluationHistory] = useState([]);\n    const [viewMode, setViewMode] = useState('evaluate'); // 'evaluate', 'history', 'all-evaluations'\n    const [summaryPeriod, setSummaryPeriod] = useState('week'); // 'week', 'month', 'quarter', 'year'\n    const [selectedDepartment, setSelectedDepartment] = useState('all'); // 'all' hoặc tên bộ phận\n    const [allEvaluations, setAllEvaluations] = useState([]); // Lưu tất cả đánh giá KPI\n    const [expandedUser, setExpandedUser] = useState(null); // Track which user's details are expanded\n    const [historyTimeFilter, setHistoryTimeFilter] = useState('all'); // Filter for history tab\n    const [historyDepartmentFilter, setHistoryDepartmentFilter] = useState('all'); // Department filter for history tab\n    const [historyDateFilter, setHistoryDateFilter] = useState(''); // Specific date filter for history tab\n    const [weeklyTimeFilter, setWeeklyTimeFilter] = useState('all'); // Filter for weekly summary\n    const [weeklyDepartmentFilter, setWeeklyDepartmentFilter] = useState('all'); // Department filter for weekly summary\n\n    // Load KPI evaluations from server\n    const loadKpiEvaluations = useCallback(async () => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`);\n        const result = await response.json();\n        if (result.success) {\n          setAllEvaluations(result.data || []);\n          setEvaluationHistory(result.data || []);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi load KPI evaluations:', error);\n      }\n    }, []);\n\n    // Save KPI evaluations to server\n    const saveKpiEvaluations = useCallback(async (evaluations) => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ evaluations }),\n        });\n        const result = await response.json();\n        if (!result.success) {\n          console.error('❌ Lỗi save KPI evaluations:', result.error);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi save KPI evaluations:', error);\n      }\n    }, []);\n\n    // Load evaluations when component mounts\n    useEffect(() => {\n      loadKpiEvaluations();\n    }, [loadKpiEvaluations]);\n\n\n    // Lấy danh sách bộ phận từ users có thể đánh giá\n    const getAvailableDepartments = () => {\n      let availableUsers = [];\n      \n      if (currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        availableUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Tổ trưởng'\n        );\n      } else if (currentUser?.position === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => \n          user.role !== 'admin' && \n          (user.position === 'Tổ phó' || user.position === 'Nhân viên') &&\n          user.department === currentUser.department\n        );\n      } else if (currentUser?.position === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Nhân viên' &&\n          user.department === currentUser.department\n        );\n      }\n      \n      return Array.from(new Set(availableUsers.map(user => user.department))).filter(dept => dept);\n    };\n\n    // Lấy danh sách bộ phận cho bộ lọc lịch sử\n    const getHistoryDepartments = () => {\n      if (currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') {\n        // Quản lý xem tất cả bộ phận\n        return Array.from(new Set(users.map(user => user.department))).filter(dept => dept);\n      } else {\n        // Các cấp khác chỉ xem bộ phận mình\n        return [currentUser?.department].filter(dept => dept);\n      }\n    };\n    \n    const departments = getAvailableDepartments();\n    \n    // Lọc users theo bộ phận và quyền đánh giá\n    const getFilteredUsers = () => {\n      let filteredUsers = [];\n      \n      // Quyền đánh giá theo cấp bậc\n      if (currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        filteredUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Tổ trưởng'\n        );\n      } else if (currentUser?.position === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => \n          user.role !== 'admin' && \n          (user.position === 'Tổ phó' || user.position === 'Nhân viên') &&\n          user.department === currentUser.department\n        );\n      } else if (currentUser?.position === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Nhân viên' &&\n          user.department === currentUser.department\n        );\n      }\n      \n      // Lọc theo bộ phận nếu được chọn\n      if (selectedDepartment !== 'all') {\n        filteredUsers = filteredUsers.filter(user => user.department === selectedDepartment);\n      }\n      \n      return filteredUsers;\n    };\n\n    const filteredUsers = getFilteredUsers();\n\n    const criteria = [\n      {\n        name: 'performance',\n        title: 'Hiệu quả công việc',\n        weight: 50,\n        description: 'Năng suất, chất lượng, tiến độ, linh hoạt',\n        maxScore: 100\n      },\n      {\n        name: 'discipline',\n        title: 'Kỷ luật & Tuân thủ',\n        weight: 30,\n        description: 'Giờ giấc, nội quy, an toàn, giữ gìn',\n        maxScore: 100\n      },\n      {\n        name: 'attitude',\n        title: 'Thái độ & Hợp tác',\n        weight: 20,\n        description: 'Trách nhiệm, hợp tác, học hỏi, chủ động',\n        maxScore: 100\n      }\n    ];\n\n    const handleScoreChange = (criteria, value) => {\n      setEvaluationData(prev => ({\n        ...prev,\n        [criteria]: parseInt(value) || 0\n      }));\n    };\n\n    const calculateTotalScore = () => {\n      let totalScore = 0;\n      let totalWeight = 0;\n\n      criteria.forEach(criterion => {\n        const score = evaluationData[criterion.name];\n        const weightedScore = (score * criterion.weight) / 100;\n        totalScore += weightedScore;\n        totalWeight += criterion.weight;\n      });\n\n      return Math.round(totalScore);\n    };\n\n    const getScoreLevel = (score) => {\n      if (score >= 90) return { level: 'Xuất sắc', color: '#28a745' };\n      if (score >= 80) return { level: 'Tốt', color: '#17a2b8' };\n      if (score >= 70) return { level: 'Khá', color: '#6f42c1' };\n      if (score >= 50) return { level: 'Trung bình', color: '#ffc107' };\n      return { level: 'Yếu', color: '#dc3545' };\n    };\n\n    // Calculate summary statistics\n    const calculateSummary = () => {\n      try {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n        console.log('🔍 Debug calculateSummary:', {\n          summaryPeriod,\n          today: today.toLocaleDateString('vi-VN'),\n          allEvaluationsLength: allEvaluations.length\n        });\n        \n        let startDate, endDate;\n        const currentYear = today.getFullYear();\n        const currentMonth = today.getMonth(); // 0-indexed\n      \n      switch (summaryPeriod) {\n        case 'week':\n          // Current week: from Monday to Sunday\n          startDate = new Date(today);\n          startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n          endDate = new Date(today);\n          endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n          break;\n        case 'month':\n          startDate = new Date(currentYear, currentMonth, 1);\n          endDate = new Date(currentYear, currentMonth + 1, 0);\n          break;\n        case 'quarter':\n          const quarter = Math.floor(currentMonth / 3);\n          startDate = new Date(currentYear, quarter * 3, 1);\n          endDate = new Date(currentYear, quarter * 3 + 3, 0);\n          break;\n        case 'year':\n          startDate = new Date(currentYear, 0, 1);\n          endDate = new Date(currentYear, 11, 31);\n          break;\n        // Specific weeks in current month - weeks end on Sunday\n        case 'week1':\n          startDate = new Date(currentYear, currentMonth, 1);\n          const firstDay = new Date(currentYear, currentMonth, 1);\n          const firstDayOfWeek = firstDay.getDay();\n          if (firstDayOfWeek === 0) {\n            endDate = new Date(currentYear, currentMonth, 1);\n          } else {\n            const daysToSunday = 7 - firstDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, 1 + daysToSunday);\n          }\n          break;\n        case 'week2':\n          // Start from day after week 1's Sunday\n          const week1End = new Date(currentYear, currentMonth, 1);\n          const week1EndDayOfWeek = week1End.getDay();\n          if (week1EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2);\n          } else {\n            const daysToFirstSunday = 7 - week1EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1);\n          }\n          const week2StartDayOfWeek = startDate.getDay();\n          if (week2StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week2StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          break;\n        case 'week3':\n          // Start from day after week 2's Sunday\n          const week2End = new Date(currentYear, currentMonth, 1);\n          const week2EndDayOfWeek = week2End.getDay();\n          if (week2EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2 + 7);\n          } else {\n            const daysToFirstSunday = 7 - week2EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 7);\n          }\n          const week3StartDayOfWeek = startDate.getDay();\n          if (week3StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week3StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          break;\n        case 'week4':\n          // Start from day after week 3's Sunday\n          const week3End = new Date(currentYear, currentMonth, 1);\n          const week3EndDayOfWeek = week3End.getDay();\n          if (week3EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2 + 14);\n          } else {\n            const daysToFirstSunday = 7 - week3EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 14);\n          }\n          const week4StartDayOfWeek = startDate.getDay();\n          if (week4StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week4StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          break;\n        case 'week5':\n          // Start from day after week 4's Sunday\n          const week4End = new Date(currentYear, currentMonth, 1);\n          const week4EndDayOfWeek = week4End.getDay();\n          if (week4EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2 + 21);\n          } else {\n            const daysToFirstSunday = 7 - week4EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 21);\n          }\n          const week5StartDayOfWeek = startDate.getDay();\n          if (week5StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week5StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          // Ensure week 5 doesn't exceed month boundaries\n          const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n          if (endDate.getDate() > monthEnd.getDate()) {\n            endDate = new Date(monthEnd);\n          }\n          break;\n        // Specific months in current year\n        case 'month1':\n          startDate = new Date(currentYear, 0, 1);\n          endDate = new Date(currentYear, 0, 31);\n          break;\n        case 'month2':\n          startDate = new Date(currentYear, 1, 1);\n          endDate = new Date(currentYear, 1, 28); // February\n          break;\n        case 'month3':\n          startDate = new Date(currentYear, 2, 1);\n          endDate = new Date(currentYear, 2, 31);\n          break;\n        case 'month4':\n          startDate = new Date(currentYear, 3, 1);\n          endDate = new Date(currentYear, 3, 30);\n          break;\n        case 'month5':\n          startDate = new Date(currentYear, 4, 1);\n          endDate = new Date(currentYear, 4, 31);\n          break;\n        case 'month6':\n          startDate = new Date(currentYear, 5, 1);\n          endDate = new Date(currentYear, 5, 30);\n          break;\n        case 'month7':\n          startDate = new Date(currentYear, 6, 1);\n          endDate = new Date(currentYear, 6, 31);\n          break;\n        case 'month8':\n          startDate = new Date(currentYear, 7, 1);\n          endDate = new Date(currentYear, 7, 31);\n          break;\n        case 'month9':\n          startDate = new Date(currentYear, 8, 1);\n          endDate = new Date(currentYear, 8, 30);\n          break;\n        case 'month10':\n          startDate = new Date(currentYear, 9, 1);\n          endDate = new Date(currentYear, 9, 31);\n          break;\n        case 'month11':\n          startDate = new Date(currentYear, 10, 1);\n          endDate = new Date(currentYear, 10, 30);\n          break;\n        case 'month12':\n          startDate = new Date(currentYear, 11, 1);\n          endDate = new Date(currentYear, 11, 31);\n          break;\n        // Specific week in specific month\n        default:\n          if (summaryPeriod.includes('_week')) {\n            const [monthPart, weekPart] = summaryPeriod.split('_week');\n            const monthNum = parseInt(monthPart.replace('month', '')) - 1; // Convert to 0-indexed\n            const weekNum = parseInt(weekPart);\n            \n            if (monthNum >= 0 && monthNum <= 11 && weekNum >= 1 && weekNum <= 5) {\n              const monthStart = new Date(currentYear, monthNum, 1);\n              const monthEnd = new Date(currentYear, monthNum + 1, 0);\n              \n              // Calculate week boundaries - weeks end on Sunday\n              if (weekNum === 1) {\n                // Week 1: From 1st day of month to next Sunday\n                startDate = new Date(currentYear, monthNum, 1);\n                \n                // Find the first Sunday of the month\n                const firstDay = new Date(currentYear, monthNum, 1);\n                const firstDayOfWeek = firstDay.getDay(); // 0 = Sunday, 1 = Monday, etc.\n                \n                if (firstDayOfWeek === 0) {\n                  // If 1st is Sunday, week ends on same day\n                  endDate = new Date(currentYear, monthNum, 1);\n                } else {\n                  // Find next Sunday\n                  const daysToSunday = 7 - firstDayOfWeek;\n                  endDate = new Date(currentYear, monthNum, 1 + daysToSunday);\n                }\n              } else {\n                // Week 2+: Start from day after previous week's Sunday\n                const prevWeekEnd = new Date(currentYear, monthNum, 1);\n                const firstDayOfWeek = prevWeekEnd.getDay();\n                \n                if (firstDayOfWeek === 0) {\n                  // If 1st is Sunday, week 2 starts on 2nd\n                  const weekStartDay = 1 + (weekNum - 1) * 7;\n                  startDate = new Date(currentYear, monthNum, weekStartDay);\n                } else {\n                  // Calculate start of current week\n                  const daysToFirstSunday = 7 - firstDayOfWeek;\n                  const weekStartDay = 1 + daysToFirstSunday + (weekNum - 2) * 7;\n                  startDate = new Date(currentYear, monthNum, weekStartDay);\n                }\n                \n                // Week ends on Sunday\n                const weekStartDayOfWeek = startDate.getDay();\n                if (weekStartDayOfWeek === 0) {\n                  // If week starts on Sunday, it ends same day\n                  endDate = new Date(startDate);\n                } else {\n                  // Find next Sunday\n                  const daysToSunday = 7 - weekStartDayOfWeek;\n                  endDate = new Date(currentYear, monthNum, startDate.getDate() + daysToSunday);\n                }\n              }\n              \n              // Ensure dates don't exceed month boundaries\n              if (startDate.getMonth() !== monthNum) {\n                startDate = new Date(currentYear, monthNum, 1);\n              }\n              if (endDate.getMonth() !== monthNum || endDate.getDate() > monthEnd.getDate()) {\n                endDate = new Date(monthEnd);\n              }\n              \n              // Debug log for week calculation\n              console.log(`📅 ${summaryPeriod}: ${startDate.toLocaleDateString('vi-VN')} - ${endDate.toLocaleDateString('vi-VN')}`);\n              \n            } else {\n          startDate = new Date(0);\n              endDate = new Date();\n            }\n          } else {\n            startDate = new Date(0);\n            endDate = new Date();\n          }\n          break;\n      }\n\n      const filteredEvaluations = allEvaluations.filter(evaluation => {\n        const evalDate = new Date(evaluation.date);\n        return evalDate >= startDate && evalDate <= endDate;\n      });\n\n      if (filteredEvaluations.length === 0) {\n        return {\n          totalEvaluations: 0,\n          averageScore: 0,\n          topPerformers: [],\n          departmentStats: {},\n          scoreDistribution: { excellent: 0, good: 0, average: 0, poor: 0 }\n        };\n      }\n\n      // Calculate average score\n      const totalScore = filteredEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0);\n      const averageScore = Math.round(totalScore / filteredEvaluations.length);\n\n      // Top performers\n      const topPerformers = filteredEvaluations\n        .sort((a, b) => b.totalScore - a.totalScore)\n        .slice(0, 5);\n\n      // Department statistics\n      const departmentStats = filteredEvaluations.reduce((acc, evaluation) => {\n        if (!acc[evaluation.department]) {\n          acc[evaluation.department] = { count: 0, totalScore: 0, average: 0 };\n        }\n        acc[evaluation.department].count += 1;\n        acc[evaluation.department].totalScore += evaluation.totalScore;\n        acc[evaluation.department].average = Math.round(acc[evaluation.department].totalScore / acc[evaluation.department].count);\n        return acc;\n      }, {});\n\n      // Score distribution (A/B/C/D)\n      const scoreDistribution = filteredEvaluations.reduce((acc, evaluation) => {\n        if (evaluation.totalScore >= 90) acc.excellent += 1; // Xuất sắc\n        else if (evaluation.totalScore >= 80) acc.good += 1; // Tốt\n        else if (evaluation.totalScore >= 70) acc.average += 1; // Trung bình\n        else acc.poor += 1; // Cần cải thiện\n        return acc;\n      }, { excellent: 0, good: 0, average: 0, poor: 0 });\n\n      // Calculate monthly trends\n      const monthlyTrend = calculateMonthlyTrend();\n      const dailyKPI = calculateDailyKPI();\n\n      return {\n        totalEvaluations: filteredEvaluations.length,\n        averageScore,\n        topPerformers,\n        departmentStats,\n        scoreDistribution,\n        monthlyTrend,\n        dailyKPI\n      };\n      } catch (error) {\n        console.error('❌ Error in calculateSummary:', error);\n        return {\n          totalEvaluations: 0,\n          averageScore: 0,\n          topPerformers: [],\n          departmentStats: {},\n          scoreDistribution: { excellent: 0, good: 0, average: 0, poor: 0 },\n          monthlyTrend: [],\n          dailyKPI: []\n        };\n      }\n    };\n\n\n    // Calculate monthly trend\n    const calculateMonthlyTrend = () => {\n      const months = [];\n      const now = new Date();\n      \n      for (let i = 5; i >= 0; i--) {\n        const monthStart = new Date(now.getFullYear(), now.getMonth() - i, 1);\n        const monthEnd = new Date(now.getFullYear(), now.getMonth() - i + 1, 0);\n        \n        const monthEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= monthStart && evalDate <= monthEnd;\n        });\n        \n        // Calculate average of 4 weeks in the month\n        const weeklyAverages = calculateWeeklyAveragesInMonth(monthStart, monthEnd);\n        const monthlyAverage = weeklyAverages.length > 0 \n          ? Math.round(weeklyAverages.reduce((sum, avg) => sum + avg, 0) / weeklyAverages.length)\n          : 0;\n        \n        months.push({\n          month: `${monthStart.getMonth() + 1}/${monthStart.getFullYear()}`,\n          evaluations: monthEvaluations.length,\n          averageScore: monthlyAverage,\n          weeklyAverages: weeklyAverages,\n          date: monthStart\n        });\n      }\n      \n      return months;\n    };\n\n    // Calculate daily KPI for all weeks in current month\n    const calculateDailyKPI = () => {\n      try {\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n        \n        // Get first and last day of current month\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        \n        const days = [];\n        const dayNames = ['Chủ nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7'];\n        \n        // Generate all days in the current month\n        const current = new Date(monthStart);\n        while (current <= monthEnd) {\n          const dayStart = new Date(current);\n          dayStart.setHours(0, 0, 0, 0);\n          const dayEnd = new Date(current);\n          dayEnd.setHours(23, 59, 59, 999);\n          \n          const dayEvaluations = allEvaluations.filter(evaluation => {\n            const evalDate = new Date(evaluation.date);\n            return evalDate >= dayStart && evalDate <= dayEnd;\n          });\n          \n          const avgScore = dayEvaluations.length > 0 \n            ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / dayEvaluations.length)\n            : 0;\n          \n          const dayName = dayNames[current.getDay()];\n          \n          // Calculate week number - weeks always end on Sunday\n          const dayOfMonth = current.getDate();\n          const firstDayOfMonth = monthStart.getDay(); // 0=Sunday, 1=Monday, etc.\n          \n          // Find the Sunday that ends the week containing this day\n          const dayOfWeek = current.getDay(); // 0=Sunday, 1=Monday, etc.\n          const daysToSunday = dayOfWeek === 0 ? 0 : 7 - dayOfWeek;\n          const weekEndingSunday = new Date(current);\n          weekEndingSunday.setDate(current.getDate() + daysToSunday);\n          \n          // Calculate week number based on which Sunday this week ends on\n          let weekNumber;\n          if (firstDayOfMonth === 0) { // Month starts on Sunday\n            weekNumber = Math.ceil(dayOfMonth / 7);\n          } else {\n            // Find the first Sunday of the month\n            const firstSunday = new Date(monthStart);\n            if (firstDayOfMonth === 0) {\n              // Already Sunday\n            } else {\n              firstSunday.setDate(1 + (7 - firstDayOfMonth));\n            }\n            \n            // Calculate week number based on which Sunday this week ends on\n            const daysDiff = Math.floor((weekEndingSunday - firstSunday) / (1000 * 60 * 60 * 24));\n            weekNumber = Math.floor(daysDiff / 7) + 1;\n            \n            // If this day is before the first Sunday, it's week 1\n            if (current < firstSunday) {\n              weekNumber = 1;\n            }\n          }\n          \n          days.push({\n            day: dayName,\n            date: current.toLocaleDateString('vi-VN'),\n            evaluationsCount: dayEvaluations.length,\n            averageScore: avgScore,\n            evaluations: dayEvaluations,\n            weekNumber: weekNumber\n          });\n          \n          current.setDate(current.getDate() + 1);\n        }\n        \n        return days;\n      } catch (error) {\n        console.error('❌ Error in calculateDailyKPI:', error);\n        return [];\n      }\n    };\n\n    // Calculate weekly averages in a month\n    const calculateWeeklyAveragesInMonth = (monthStart, monthEnd) => {\n      const weeklyAverages = [];\n      const current = new Date(monthStart);\n      \n      while (current <= monthEnd) {\n        const weekStart = new Date(current);\n        const weekEnd = new Date(current);\n        weekEnd.setDate(current.getDate() + 6);\n        \n        // Adjust if week goes beyond month\n        if (weekEnd > monthEnd) {\n          weekEnd.setTime(monthEnd.getTime());\n        }\n        \n        const weekEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= weekStart && evalDate <= weekEnd;\n        });\n        \n        const weekAvg = weekEvaluations.length > 0 \n          ? Math.round(weekEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / weekEvaluations.length)\n          : 0;\n        \n        weeklyAverages.push(weekAvg);\n        \n        // Move to next week\n        current.setDate(current.getDate() + 7);\n      }\n      \n      return weeklyAverages;\n    };\n\n    // Export Daily KPI to Excel\n    const exportDailyKPIExcel = (dailyData) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Ngày,Thứ,Đánh giá,Điểm trung bình\\n\";\n        \n        dailyData.forEach(day => {\n          csvContent += `${day.date},${day.day},${day.evaluationsCount},${day.averageScore}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_ngay_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert('✅ Đã xuất báo cáo KPI theo ngày thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Monthly KPI to Excel\n    const exportMonthlyKPIExcel = (monthlyData) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Tháng,Đánh giá,Điểm trung bình,Điểm TB tuần 1,Điểm TB tuần 2,Điểm TB tuần 3,Điểm TB tuần 4\\n\";\n        \n        monthlyData.forEach(month => {\n          const weeklyAvgs = month.weeklyAverages || [];\n          csvContent += `${month.month},${month.evaluations},${month.averageScore},${weeklyAvgs[0] || 0},${weeklyAvgs[1] || 0},${weeklyAvgs[2] || 0},${weeklyAvgs[3] || 0}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_thang_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert('✅ Đã xuất báo cáo KPI theo tháng thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Department KPI to Excel\n    const exportDepartmentKPIExcel = (departmentStats) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Bộ phận,Số đánh giá,Điểm trung bình\\n\";\n        \n        Object.entries(departmentStats).forEach(([dept, stats]) => {\n          csvContent += `${dept},${stats.count},${stats.average}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_bo_phan_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert('✅ Đã xuất báo cáo KPI theo bộ phận thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (with current filters)\n    const exportAllEvaluationsExcel = () => {\n      try {\n        // Get filtered evaluations - use the same logic as display\n        const filteredEvaluations = allEvaluations.filter(evaluation => {\n          // Filter by department\n          if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n            return false;\n          }\n          \n          // Filter by time period\n          const evalDate = new Date(evaluation.date);\n          const today = new Date();\n          let startDate;\n          \n          switch (summaryPeriod) {\n            case 'week':\n              // Current week: from Monday to Sunday\n              startDate = new Date(today);\n              startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n              const endDate = new Date(today);\n              endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n              return evalDate >= startDate && evalDate <= endDate;\n            case 'month':\n              startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n              break;\n            case 'quarter':\n              const quarter = Math.floor(today.getMonth() / 3);\n              startDate = new Date(today.getFullYear(), quarter * 3, 1);\n              break;\n            case 'year':\n              startDate = new Date(today.getFullYear(), 0, 1);\n              break;\n            default:\n              // Show all evaluations when no specific period is selected\n              return true;\n          }\n          \n          return evalDate >= startDate && evalDate <= today;\n        });\n\n        exportEvaluationsToCSV(filteredEvaluations, 'Danh_sach_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (without filters)\n    const exportAllEvaluationsExcelUnfiltered = () => {\n      try {\n        exportEvaluationsToCSV(allEvaluations, 'Tat_ca_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Helper function to export evaluations to CSV\n    const exportEvaluationsToCSV = (evaluations, filenamePrefix) => {\n      try {\n        // Debug log\n        console.log('Export Debug:');\n        console.log('- Evaluations to export:', evaluations.length);\n        console.log('- Data:', evaluations);\n\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Ngày đánh giá,Hiệu quả,Kỷ luật,Thái độ,Tổng điểm,Xếp loại\\n\";\n        \n        evaluations.forEach((evaluation, index) => {\n          csvContent += `${index + 1},${evaluation.userName},${evaluation.department},${new Date(evaluation.date).toLocaleDateString('vi-VN')},${evaluation.scores.performance},${evaluation.scores.discipline},${evaluation.scores.attitude},${evaluation.totalScore},${evaluation.level}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert(`✅ Đã xuất ${evaluations.length} đánh giá KPI thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export weekly summaries to CSV\n    const exportWeeklySummariesToCSV = (weeklySummaries, filenamePrefix) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Tuần từ,Tuần đến,Số đánh giá ngày,Điểm TB hiệu quả,Điểm TB kỷ luật,Điểm TB thái độ,Điểm TB tổng,Xếp loại tuần\\n\";\n        \n        weeklySummaries.forEach((summary, index) => {\n          csvContent += `${index + 1},${summary.userName},${summary.department},${new Date(summary.weekStart).toLocaleDateString('vi-VN')},${new Date(summary.weekEnd).toLocaleDateString('vi-VN')},${summary.totalDailyEvaluations},${summary.averageScores.performance},${summary.averageScores.discipline},${summary.averageScores.attitude},${summary.averageTotalScore},${summary.weeklyLevel}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert(`✅ Đã xuất ${weeklySummaries.length} báo cáo tổng hợp tuần thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Calculate weekly summary from daily evaluations\n    const calculateWeeklySummary = (userId, weekStart, weekNumber) => {\n      const currentMonth = new Date().getMonth();\n      const currentYear = new Date().getFullYear();\n      const monthStart = new Date(currentYear, currentMonth, 1);\n      const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n      \n      // Calculate week end (Sunday of the week)\n      const weekEnd = new Date(weekStart);\n      weekEnd.setDate(weekStart.getDate() + 6);\n      weekEnd.setHours(23, 59, 59, 999);\n      \n      // Ensure week end doesn't exceed month end\n      if (weekEnd > monthEnd) {\n        weekEnd.setTime(monthEnd.getTime());\n        weekEnd.setHours(23, 59, 59, 999);\n      }\n      \n      // Get all daily evaluations for this user in this week (within month)\n      const weeklyEvaluations = allEvaluations.filter(evaluation => {\n        const evalDate = new Date(evaluation.date);\n        return evaluation.userId === userId && \n               evalDate >= weekStart && \n               evalDate <= weekEnd &&\n               evalDate >= monthStart &&\n               evalDate <= monthEnd;\n      });\n      \n      if (weeklyEvaluations.length === 0) return null;\n      \n      // Calculate averages\n      const totalEvaluations = weeklyEvaluations.length;\n      const avgPerformance = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.performance, 0) / totalEvaluations;\n      const avgDiscipline = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.discipline, 0) / totalEvaluations;\n      const avgAttitude = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.attitude, 0) / totalEvaluations;\n      const avgTotalScore = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations;\n      \n      // Determine weekly level based on average score\n      let weeklyLevel;\n      if (avgTotalScore >= 90) weeklyLevel = 'Xuất sắc';\n      else if (avgTotalScore >= 80) weeklyLevel = 'Tốt';\n      else if (avgTotalScore >= 70) weeklyLevel = 'Trung bình';\n      else weeklyLevel = 'Cần cải thiện';\n      \n      return {\n        userId: userId,\n        userName: weeklyEvaluations[0].userName,\n        department: weeklyEvaluations[0].department,\n        weekStart: weekStart.toISOString().split('T')[0],\n        weekEnd: weekEnd.toISOString().split('T')[0],\n        weekNumber: weekNumber,\n        totalDailyEvaluations: totalEvaluations,\n        averageScores: {\n          performance: Math.round(avgPerformance * 100) / 100,\n          discipline: Math.round(avgDiscipline * 100) / 100,\n          attitude: Math.round(avgAttitude * 100) / 100\n        },\n        averageTotalScore: Math.round(avgTotalScore * 100) / 100,\n        weeklyLevel: weeklyLevel,\n        dailyEvaluations: weeklyEvaluations,\n        createdAt: new Date().toISOString()\n      };\n    };\n\n    // Filter weekly summaries based on time and department\n    const getFilteredWeeklySummaries = () => {\n      const allSummaries = generateWeeklySummaries();\n      \n      return allSummaries.filter(summary => {\n        // Filter by department\n        if (weeklyDepartmentFilter !== 'all' && summary.department !== weeklyDepartmentFilter) {\n          return false;\n        }\n        \n        // Filter by time\n        if (weeklyTimeFilter !== 'all') {\n          const summaryDate = new Date(summary.weekStart);\n          const today = new Date();\n          \n          switch (weeklyTimeFilter) {\n            case 'week1':\n              return summary.weekNumber === 1;\n            case 'week2':\n              return summary.weekNumber === 2;\n            case 'week3':\n              return summary.weekNumber === 3;\n            case 'week4':\n              return summary.weekNumber === 4;\n            case 'week5':\n              return summary.weekNumber === 5;\n            case 'current':\n              // Current week (this week)\n              const currentWeekStart = new Date(today);\n              const currentDay = today.getDay();\n              const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay;\n              currentWeekStart.setDate(today.getDate() + daysToMonday);\n              currentWeekStart.setHours(0, 0, 0, 0);\n              \n              const currentWeekEnd = new Date(currentWeekStart);\n              currentWeekEnd.setDate(currentWeekStart.getDate() + 6);\n              currentWeekEnd.setHours(23, 59, 59, 999);\n              \n              return summaryDate >= currentWeekStart && summaryDate <= currentWeekEnd;\n            default:\n              return true;\n          }\n        }\n        \n        return true;\n      });\n    };\n\n    // Generate weekly summaries for all users (monthly-based weeks)\n    const generateWeeklySummaries = () => {\n      try {\n        const today = new Date();\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n        \n        console.log('🔍 Debug - Today:', today.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Current month:', currentMonth + 1);\n        \n        // Get current month boundaries\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        monthEnd.setHours(23, 59, 59, 999);\n        \n        console.log('🔍 Debug - Month start:', monthStart.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Month end:', monthEnd.toISOString().split('T')[0]);\n        \n        // Calculate weeks in month (Week 1 starts from 1st day of month)\n        const weeksInMonth = [];\n        let weekNumber = 1;\n        \n        // Week 1 always starts from the 1st day of the month\n        let weekStart = new Date(currentYear, currentMonth, 1);\n        weekStart.setHours(0, 0, 0, 0);\n        \n        console.log('🔍 Debug - Week 1 start:', weekStart.toISOString().split('T')[0]);\n        \n        // Generate all weeks that have at least one day in the current month\n        while (weekStart <= monthEnd) {\n          let weekEnd;\n          \n          if (weekNumber === 1) {\n            // Week 1: from 1st day to Sunday of that week\n            const firstDayOfWeek = weekStart.getDay();\n            const daysToSunday = firstDayOfWeek === 0 ? 0 : 7 - firstDayOfWeek;\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + daysToSunday);\n          } else {\n            // Other weeks: Monday to Sunday\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n          }\n          weekEnd.setHours(23, 59, 59, 999);\n          \n          // Only include weeks that have at least one day in the current month\n          if (weekEnd >= monthStart && weekStart <= monthEnd) {\n            const actualWeekStart = new Date(Math.max(weekStart, monthStart));\n            const actualWeekEnd = new Date(Math.min(weekEnd, monthEnd));\n            actualWeekStart.setHours(0, 0, 0, 0);\n            actualWeekEnd.setHours(23, 59, 59, 999);\n            \n            console.log(`🔍 Debug - Week ${weekNumber}: ${actualWeekStart.toISOString().split('T')[0]} to ${actualWeekEnd.toISOString().split('T')[0]}`);\n            \n            weeksInMonth.push({ \n              start: actualWeekStart, \n              end: actualWeekEnd, \n              weekNumber: weekNumber \n            });\n            weekNumber++;\n          }\n          \n          // Move to next week\n          if (weekNumber === 2) {\n            // Week 2 starts from Monday after Week 1's Sunday\n            weekStart = new Date(weekEnd);\n            weekStart.setDate(weekEnd.getDate() + 1);\n            weekStart.setHours(0, 0, 0, 0);\n          } else {\n            // Other weeks: move to next Monday\n            weekStart = new Date(weekStart);\n            weekStart.setDate(weekStart.getDate() + 7);\n            weekStart.setHours(0, 0, 0, 0);\n          }\n        }\n        \n        console.log('🔍 Debug - Total weeks:', weeksInMonth.length);\n        \n        // Get unique users who have evaluations\n        const uniqueUsers = [...new Set(allEvaluations.map(evaluation => evaluation.userId))];\n      \n      const weeklySummaries = [];\n      \n      // For each week in the month, calculate summaries for all users\n      weeksInMonth.forEach(week => {\n        uniqueUsers.forEach(userId => {\n          const summary = calculateWeeklySummary(userId, week.start, week.weekNumber);\n          if (summary) {\n            weeklySummaries.push(summary);\n          }\n        });\n      });\n      \n        return weeklySummaries;\n      } catch (error) {\n        console.error('❌ Error in generateWeeklySummaries:', error);\n        return [];\n      }\n    };\n\n    // Toggle expanded user details\n    const toggleUserDetails = (userId) => {\n      setExpandedUser(expandedUser === userId ? null : userId);\n    };\n\n    // Filter history evaluations\n    const getFilteredHistory = () => {\n      return evaluationHistory.filter(evaluation => {\n        // Quản lý xem tất cả, các cấp khác chỉ xem bộ phận mình\n        if (currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý') {\n          if (evaluation.department !== currentUser?.department) {\n            return false;\n          }\n        }\n        \n        // Filter by department (nếu có bộ lọc)\n        if (historyDepartmentFilter !== 'all' && evaluation.department !== historyDepartmentFilter) {\n          return false;\n        }\n        \n        // Filter by specific date if provided\n        if (historyDateFilter) {\n          const evalDate = new Date(evaluation.date);\n          const filterDate = new Date(historyDateFilter);\n          return evalDate.toDateString() === filterDate.toDateString();\n        }\n        \n        // Filter by time period\n        const evalDate = new Date(evaluation.date);\n        const today = new Date();\n        let startDate;\n        \n        switch (historyTimeFilter) {\n          case 'today':\n            startDate = new Date(today);\n            startDate.setHours(0, 0, 0, 0);\n            break;\n          case 'week':\n            // Current week: from Monday to Sunday\n            startDate = new Date(today);\n            startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n            const endDate = new Date(today);\n            endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n            return evalDate >= startDate && evalDate <= endDate;\n          case 'month':\n            startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n            break;\n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            startDate = new Date(today.getFullYear(), quarter * 3, 1);\n            break;\n          case 'year':\n            startDate = new Date(today.getFullYear(), 0, 1);\n            break;\n          default:\n            return true;\n        }\n        \n        return evalDate >= startDate && evalDate <= today;\n      });\n    };\n\n\n    // Calculate daily KPI report for current week\n    const calculateDailyKPIReport = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n      // Calculate current week: Monday to Sunday\n      const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday\n      const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay; // Monday is start of week\n      \n      const currentWeekStart = new Date(today);\n      currentWeekStart.setDate(today.getDate() + daysToMonday);\n      \n      const currentWeekEnd = new Date(currentWeekStart);\n      currentWeekEnd.setDate(currentWeekStart.getDate() + 6); // Sunday\n      \n      const dailyReports = [];\n      const dayNames = ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];\n      \n      // Generate days for the current week\n      const daysInWeek = Math.ceil((currentWeekEnd - currentWeekStart) / (1000 * 60 * 60 * 24)) + 1;\n      \n      for (let i = 0; i < daysInWeek; i++) {\n        const dayStart = new Date(currentWeekStart);\n        dayStart.setDate(currentWeekStart.getDate() + i);\n        const dayEnd = new Date(dayStart);\n        dayEnd.setHours(23, 59, 59, 999);\n        \n        const dayEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= dayStart && evalDate <= dayEnd;\n        });\n        \n        // Calculate department-wise statistics for this day\n        const departmentStats = {};\n        dayEvaluations.forEach(evaluation => {\n          if (!departmentStats[evaluation.department]) {\n            departmentStats[evaluation.department] = {\n              evaluations: [],\n              totalScore: 0,\n              count: 0,\n              averageScore: 0\n            };\n          }\n          departmentStats[evaluation.department].evaluations.push(evaluation);\n          departmentStats[evaluation.department].totalScore += evaluation.totalScore;\n          departmentStats[evaluation.department].count += 1;\n        });\n        \n        // Calculate average scores for each department\n        Object.keys(departmentStats).forEach(dept => {\n          const stats = departmentStats[dept];\n          stats.averageScore = stats.count > 0 ? Math.round(stats.totalScore / stats.count) : 0;\n        });\n        \n        const totalEvaluations = dayEvaluations.length;\n        const overallAverage = totalEvaluations > 0 \n          ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations)\n          : 0;\n        \n        dailyReports.push({\n          dayName: dayNames[i],\n          date: dayStart,\n          dateString: dayStart.toLocaleDateString('vi-VN'),\n          totalEvaluations,\n          overallAverage,\n          departmentStats,\n          evaluations: dayEvaluations\n        });\n      }\n      \n      return dailyReports;\n    };\n\n    const handleStartEvaluation = (user) => {\n      setSelectedUser(user);\n      setIsEvaluating(true);\n      setEvaluationData({\n        performance: 0,\n        discipline: 0,\n        attitude: 0\n      });\n    };\n\n    const handleSaveEvaluation = async () => {\n      const totalScore = calculateTotalScore();\n      const scoreLevel = getScoreLevel(totalScore);\n      \n      const newEvaluation = {\n        id: Date.now(),\n        userId: selectedUser.id,\n        userName: selectedUser.fullName,\n        department: selectedUser.department,\n        date: evaluationDate,\n        scores: evaluationData,\n        totalScore: totalScore,\n        level: scoreLevel.level,\n        evaluatedBy: currentUser.fullName,\n        evaluatorRole: currentUser.role === 'admin' ? 'Quản lý' : currentUser.position,\n        createdAt: new Date().toISOString()\n      };\n      \n      const updatedEvaluations = [newEvaluation, ...allEvaluations];\n      setEvaluationHistory(updatedEvaluations);\n      setAllEvaluations(updatedEvaluations);\n      \n      // Save to server\n      await saveKpiEvaluations(updatedEvaluations);\n      \n      alert(`Đánh giá KPI cho ${selectedUser.fullName} ngày ${evaluationDate}:\\nĐiểm tổng: ${totalScore}/100\\nXếp loại: ${scoreLevel.level}`);\n      \n      setIsEvaluating(false);\n      setSelectedUser(null);\n    };\n\n    // Delete evaluation function\n    const handleDeleteEvaluation = async (evaluationId) => {\n      if (!window.confirm('Bạn có chắc chắn muốn xóa đánh giá này? Hành động này không thể hoàn tác.')) {\n        return;\n      }\n      \n      try {\n        // Gọi API để xóa đánh giá\n        const response = await fetch(`${window.API_BASE || API_BASE}/api/kpi-evaluations/${evaluationId}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        const result = await response.json();\n        \n        if (result.success) {\n          // Cập nhật state local\n          const updatedEvaluations = allEvaluations.filter(evaluation => evaluation.id !== evaluationId);\n          setEvaluationHistory(updatedEvaluations);\n          setAllEvaluations(updatedEvaluations);\n          \n          alert('✅ Đã xóa đánh giá thành công!');\n        } else {\n          alert(`❌ Lỗi: ${result.error}`);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi khi xóa đánh giá:', error);\n        alert('❌ Lỗi khi xóa đánh giá. Vui lòng thử lại.');\n      }\n    };\n\n    return (\n      <div className=\"kpi-evaluation\">\n        <div className=\"kpi-header\">\n          <h2>📊 Đánh giá KPI nhân sự</h2>\n          <p>Bộ tiêu chí 360° - Ưu tiên hiệu quả – tuân thủ – phát triển</p>\n          <div className=\"kpi-controls\">\n            <div className=\"date-selector\">\n              <label>📅 Ngày đánh giá:</label>\n              <input\n                type=\"date\"\n                value={evaluationDate}\n                onChange={(e) => setEvaluationDate(e.target.value)}\n                className=\"date-input\"\n              />\n            </div>\n            <div className=\"view-mode\">\n              <button\n                className={`mode-btn ${viewMode === 'evaluate' ? 'active' : ''}`}\n                onClick={() => setViewMode('evaluate')}\n              >\n                📝 Đánh giá\n              </button>\n              <button\n                className={`mode-btn ${viewMode === 'history' ? 'active' : ''}`}\n                onClick={() => setViewMode('history')}\n              >\n                📊 Lịch sử\n              </button>\n              <button\n                className={`mode-btn ${viewMode === 'summary' ? 'active' : ''}`}\n                onClick={() => setViewMode('summary')}\n              >\n                📈 Tổng hợp\n              </button>\n              {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n              <button\n                  className={`mode-btn ${viewMode === 'all-evaluations' ? 'active' : ''}`}\n                  onClick={() => setViewMode('all-evaluations')}\n              >\n                  👥 Tất cả đánh giá\n              </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {viewMode === 'summary' ? (\n          <div className=\"evaluation-summary\">\n            <div className=\"summary-header\">\n              <div className=\"section-header\">\n              <h3>📈 Tổng hợp đánh giá KPI</h3>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={() => exportDailyKPIExcel(calculateDailyKPIReport())}\n                    title=\"Xuất báo cáo KPI theo ngày\"\n                  >\n                    📅 Xuất theo ngày\n                  </button>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={() => exportMonthlyKPIExcel(calculateMonthlyKPIReport())}\n                    title=\"Xuất báo cáo KPI theo tháng\"\n                  >\n                    📊 Xuất theo tháng\n                  </button>\n                </div>\n              </div>\n              <div className=\"period-selector\">\n                <label>Khoảng thời gian:</label>\n                <select \n                  value={summaryPeriod} \n                  onChange={(e) => setSummaryPeriod(e.target.value)}\n                  className=\"period-select\"\n                >\n                  <option value=\"week\">Tuần này</option>\n                  <option value=\"month\">Tháng này</option>\n                  <option value=\"quarter\">Quý này</option>\n                  <option value=\"year\">Năm này</option>\n                  <optgroup label=\"📅 Theo tuần\">\n                    <option value=\"week1\">Tuần 1</option>\n                    <option value=\"week2\">Tuần 2</option>\n                    <option value=\"week3\">Tuần 3</option>\n                    <option value=\"week4\">Tuần 4</option>\n                    <option value=\"week5\">Tuần 5</option>\n                  </optgroup>\n                  <optgroup label=\"📆 Theo tháng\">\n                    <option value=\"month1\">Tháng 1</option>\n                    <option value=\"month2\">Tháng 2</option>\n                    <option value=\"month3\">Tháng 3</option>\n                    <option value=\"month4\">Tháng 4</option>\n                    <option value=\"month5\">Tháng 5</option>\n                    <option value=\"month6\">Tháng 6</option>\n                    <option value=\"month7\">Tháng 7</option>\n                    <option value=\"month8\">Tháng 8</option>\n                    <option value=\"month9\">Tháng 9</option>\n                    <option value=\"month10\">Tháng 10</option>\n                    <option value=\"month11\">Tháng 11</option>\n                    <option value=\"month12\">Tháng 12</option>\n                  </optgroup>\n                  <optgroup label=\"🗓️ Tuần trong tháng cụ thể\">\n                    <option value=\"month1_week1\">Tháng 1 - Tuần 1</option>\n                    <option value=\"month1_week2\">Tháng 1 - Tuần 2</option>\n                    <option value=\"month1_week3\">Tháng 1 - Tuần 3</option>\n                    <option value=\"month1_week4\">Tháng 1 - Tuần 4</option>\n                    <option value=\"month1_week5\">Tháng 1 - Tuần 5</option>\n                    <option value=\"month2_week1\">Tháng 2 - Tuần 1</option>\n                    <option value=\"month2_week2\">Tháng 2 - Tuần 2</option>\n                    <option value=\"month2_week3\">Tháng 2 - Tuần 3</option>\n                    <option value=\"month2_week4\">Tháng 2 - Tuần 4</option>\n                    <option value=\"month3_week1\">Tháng 3 - Tuần 1</option>\n                    <option value=\"month3_week2\">Tháng 3 - Tuần 2</option>\n                    <option value=\"month3_week3\">Tháng 3 - Tuần 3</option>\n                    <option value=\"month3_week4\">Tháng 3 - Tuần 4</option>\n                    <option value=\"month3_week5\">Tháng 3 - Tuần 5</option>\n                    <option value=\"month4_week1\">Tháng 4 - Tuần 1</option>\n                    <option value=\"month4_week2\">Tháng 4 - Tuần 2</option>\n                    <option value=\"month4_week3\">Tháng 4 - Tuần 3</option>\n                    <option value=\"month4_week4\">Tháng 4 - Tuần 4</option>\n                    <option value=\"month5_week1\">Tháng 5 - Tuần 1</option>\n                    <option value=\"month5_week2\">Tháng 5 - Tuần 2</option>\n                    <option value=\"month5_week3\">Tháng 5 - Tuần 3</option>\n                    <option value=\"month5_week4\">Tháng 5 - Tuần 4</option>\n                    <option value=\"month5_week5\">Tháng 5 - Tuần 5</option>\n                    <option value=\"month6_week1\">Tháng 6 - Tuần 1</option>\n                    <option value=\"month6_week2\">Tháng 6 - Tuần 2</option>\n                    <option value=\"month6_week3\">Tháng 6 - Tuần 3</option>\n                    <option value=\"month6_week4\">Tháng 6 - Tuần 4</option>\n                    <option value=\"month7_week1\">Tháng 7 - Tuần 1</option>\n                    <option value=\"month7_week2\">Tháng 7 - Tuần 2</option>\n                    <option value=\"month7_week3\">Tháng 7 - Tuần 3</option>\n                    <option value=\"month7_week4\">Tháng 7 - Tuần 4</option>\n                    <option value=\"month7_week5\">Tháng 7 - Tuần 5</option>\n                    <option value=\"month8_week1\">Tháng 8 - Tuần 1</option>\n                    <option value=\"month8_week2\">Tháng 8 - Tuần 2</option>\n                    <option value=\"month8_week3\">Tháng 8 - Tuần 3</option>\n                    <option value=\"month8_week4\">Tháng 8 - Tuần 4</option>\n                    <option value=\"month8_week5\">Tháng 8 - Tuần 5</option>\n                    <option value=\"month9_week1\">Tháng 9 - Tuần 1</option>\n                    <option value=\"month9_week2\">Tháng 9 - Tuần 2</option>\n                    <option value=\"month9_week3\">Tháng 9 - Tuần 3</option>\n                    <option value=\"month9_week4\">Tháng 9 - Tuần 4</option>\n                    <option value=\"month10_week1\">Tháng 10 - Tuần 1</option>\n                    <option value=\"month10_week2\">Tháng 10 - Tuần 2</option>\n                    <option value=\"month10_week3\">Tháng 10 - Tuần 3</option>\n                    <option value=\"month10_week4\">Tháng 10 - Tuần 4</option>\n                    <option value=\"month10_week5\">Tháng 10 - Tuần 5</option>\n                    <option value=\"month11_week1\">Tháng 11 - Tuần 1</option>\n                    <option value=\"month11_week2\">Tháng 11 - Tuần 2</option>\n                    <option value=\"month11_week3\">Tháng 11 - Tuần 3</option>\n                    <option value=\"month11_week4\">Tháng 11 - Tuần 4</option>\n                    <option value=\"month12_week1\">Tháng 12 - Tuần 1</option>\n                    <option value=\"month12_week2\">Tháng 12 - Tuần 2</option>\n                    <option value=\"month12_week3\">Tháng 12 - Tuần 3</option>\n                    <option value=\"month12_week4\">Tháng 12 - Tuần 4</option>\n                    <option value=\"month12_week5\">Tháng 12 - Tuần 5</option>\n                  </optgroup>\n                </select>\n              </div>\n            </div>\n            \n            {(() => {\n              const summary = calculateSummary();\n              return (\n                <div className=\"summary-content\">\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-card\">\n                      <h4>Tổng đánh giá</h4>\n                      <div className=\"stat-value\">{summary.totalEvaluations}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Điểm trung bình</h4>\n                      <div className=\"stat-value\">{summary.averageScore}/100</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Xuất sắc</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.excellent}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Tốt</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.good}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Trung bình</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.average}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Cần cải thiện</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.poor}</div>\n                    </div>\n                  </div>\n\n                  {summary.topPerformers.length > 0 && (\n                    <div className=\"top-performers\">\n                      <h4>🏆 Top 5 nhân viên xuất sắc</h4>\n                      <div className=\"performers-list\">\n                        {summary.topPerformers.map((performer, index) => (\n                          <div key={performer.id} className=\"performer-item\">\n                            <div className=\"rank\">#{index + 1}</div>\n                            <div className=\"performer-info\">\n                              <div className=\"name\">{performer.userName}</div>\n                              <div className=\"department\">{performer.department}</div>\n                            </div>\n                            <div className=\"score\">\n                              <span \n                                className=\"score-value\"\n                                style={{ color: getScoreLevel(performer.totalScore).color }}\n                              >\n                                {performer.totalScore}/100\n                              </span>\n                              <span className=\"level\">{performer.level}</span>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {Object.keys(summary.departmentStats).length > 0 && (\n                    <div className=\"department-performance\">\n                      <div className=\"section-header\">\n                      <h4>📊 Năng suất theo bộ phận</h4>\n                        <button \n                          className=\"export-excel-btn\"\n                          onClick={() => exportDepartmentKPIExcel(summary.departmentStats)}\n                          title=\"Xuất báo cáo Excel\"\n                        >\n                          📊 Xuất Excel\n                        </button>\n                      </div>\n                      <div className=\"department-list\">\n                        {Object.entries(summary.departmentStats).map(([dept, stats]) => (\n                          <div key={dept} className=\"department-item\">\n                            <div className=\"dept-name\">{dept}</div>\n                            <div className=\"dept-stats\">\n                              <span>Đánh giá: {stats.count}</span>\n                              <span>Trung bình: {stats.average}/100</span>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Daily KPI */}\n                  {summary.dailyKPI && summary.dailyKPI.length > 0 && (\n                    <div className=\"trend-section daily-kpi\">\n                      <div className=\"section-header\">\n                        <h4>📅 Báo cáo KPI theo ngày (Tháng này)</h4>\n                        <button \n                          className=\"export-excel-btn\"\n                          onClick={() => exportDailyKPIExcel(summary.dailyKPI)}\n                          title=\"Xuất báo cáo Excel\"\n                        >\n                          📊 Xuất Excel\n                        </button>\n                      </div>\n                      {/* Group by weeks */}\n                      {(() => {\n                        const weeks = {};\n                        summary.dailyKPI.forEach(day => {\n                          const weekNum = day.weekNumber || 1;\n                          if (!weeks[weekNum]) {\n                            weeks[weekNum] = [];\n                          }\n                          weeks[weekNum].push(day);\n                        });\n                        \n                        return Object.keys(weeks).map(weekNum => {\n                          const weekDays = weeks[weekNum];\n                          const firstDay = weekDays[0];\n                          const lastDay = weekDays[weekDays.length - 1];\n                          const weekTitle = weekDays.length < 7 \n                            ? `📅 Tuần ${weekNum} (${firstDay.date} - ${lastDay.date})`\n                            : `📅 Tuần ${weekNum}`;\n                          \n                          return (\n                            <div key={weekNum} className=\"week-section\">\n                              <h5 className=\"week-title\">{weekTitle}</h5>\n                              <div className=\"daily-kpi-grid\">\n                                {weekDays.map((day, index) => (\n                                <div key={index} className=\"daily-kpi-item\">\n                                  <div className=\"day-header\">\n                                    <span className=\"day-name\">{day.day}</span>\n                                    <span className=\"day-date\">{day.date}</span>\n                                  </div>\n                                  <div className=\"day-stats\">\n                                    <div className=\"day-stat\">\n                                      <span className=\"stat-label\">Đánh giá:</span>\n                                      <span className=\"stat-value\">{day.evaluationsCount}</span>\n                                    </div>\n                                    <div className=\"day-stat\">\n                                      <span className=\"stat-label\">Điểm TB:</span>\n                                      <span className=\"stat-value score\">{day.averageScore}/100</span>\n                                    </div>\n                                  </div>\n                                  <div className=\"day-progress\">\n                                    <div \n                                      className=\"progress-fill\"\n                                      style={{ \n                                        width: `${day.averageScore}%`,\n                                        backgroundColor: day.averageScore >= 80 ? '#28a745' : \n                                                       day.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                                      }}\n                                    ></div>\n                                  </div>\n                                </div>\n                              ))}\n                              </div>\n                            </div>\n                          );\n                        });\n                      })()}\n                    </div>\n                  )}\n\n\n                  {/* Monthly Trend */}\n                  {summary.monthlyTrend && summary.monthlyTrend.length > 0 && (\n                    <div className=\"trend-section\">\n                      <div className=\"section-header\">\n                        <h4>📊 Xu hướng theo tháng (6 tháng gần nhất)</h4>\n                        <button \n                          className=\"export-excel-btn\"\n                          onClick={() => exportMonthlyKPIExcel(summary.monthlyTrend)}\n                          title=\"Xuất báo cáo Excel\"\n                        >\n                          📊 Xuất Excel\n                        </button>\n                      </div>\n                      <div className=\"trend-chart monthly-trend\">\n                        {summary.monthlyTrend.map((month, index) => (\n                          <div key={index} className=\"trend-item monthly\">\n                            <div className=\"trend-header\">\n                              <span className=\"trend-label\">{month.month}</span>\n                            </div>\n                            <div className=\"trend-stats\">\n                              <div className=\"trend-stat\">\n                                <span className=\"stat-label\">Đánh giá:</span>\n                                <span className=\"stat-value\">{month.evaluations}</span>\n                              </div>\n                              <div className=\"trend-stat\">\n                                <span className=\"stat-label\">Điểm TB:</span>\n                                <span className=\"stat-value score\">{month.averageScore}/100</span>\n                              </div>\n                            </div>\n                            <div className=\"trend-bar\">\n                              <div \n                                className=\"trend-fill\"\n                                style={{ \n                                  width: `${month.averageScore}%`,\n                                  backgroundColor: month.averageScore >= 80 ? '#28a745' : \n                                                 month.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                                }}\n                              ></div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {summary.totalEvaluations === 0 && (\n                    <div className=\"no-data\">\n                      <p>Chưa có dữ liệu đánh giá trong khoảng thời gian này</p>\n                    </div>\n                  )}\n                  \n                  {/* Weekly Summary Section - Moved to bottom */}\n                  <div style={{ marginTop: '30px', padding: '15px', background: 'linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)', borderRadius: '8px', border: '1px solid #ffc107' }}>\n                    <h4 style={{ margin: '0 0 15px 0', color: '#856404', display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      📊 Báo cáo tổng hợp tuần trong tháng\n                    </h4>\n                    \n                    {/* Filters */}\n                    <div style={{ display: 'flex', gap: '15px', marginBottom: '15px', flexWrap: 'wrap' }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <label style={{ color: '#856404', fontWeight: '600' }}>📅 Tuần:</label>\n                        <select \n                          value={weeklyTimeFilter} \n                          onChange={(e) => setWeeklyTimeFilter(e.target.value)}\n                          style={{ \n                            padding: '6px 10px', \n                            borderRadius: '6px', \n                            border: '1px solid #ffc107',\n                            backgroundColor: 'white',\n                            color: '#495057'\n                          }}\n                        >\n                          <option value=\"all\">Tất cả tuần</option>\n                          <option value=\"current\">Tuần hiện tại</option>\n                          <option value=\"week1\">Tuần 1</option>\n                          <option value=\"week2\">Tuần 2</option>\n                          <option value=\"week3\">Tuần 3</option>\n                          <option value=\"week4\">Tuần 4</option>\n                          <option value=\"week5\">Tuần 5</option>\n                        </select>\n                      </div>\n                      \n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <label style={{ color: '#856404', fontWeight: '600' }}>🏢 Bộ phận:</label>\n                        <select \n                          value={weeklyDepartmentFilter} \n                          onChange={(e) => setWeeklyDepartmentFilter(e.target.value)}\n                          style={{ \n                            padding: '6px 10px', \n                            borderRadius: '6px', \n                            border: '1px solid #ffc107',\n                            backgroundColor: 'white',\n                            color: '#495057'\n                          }}\n                        >\n                          <option value=\"all\">Tất cả bộ phận</option>\n                          {Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => (\n                            <option key={dept} value={dept}>{dept}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    \n                    {(() => {\n                      const weeklySummaries = getFilteredWeeklySummaries();\n                      if (weeklySummaries.length === 0) {\n                        return <p style={{ margin: 0, color: '#856404' }}>📭 Chưa có đánh giá nào phù hợp với bộ lọc</p>;\n                      }\n                      \n                      return (\n                        <div>\n                          <p style={{ margin: '0 0 10px 0', color: '#856404' }}>\n                            📈 Tổng hợp từ {weeklySummaries.reduce((sum, s) => sum + s.totalDailyEvaluations, 0)} đánh giá hàng ngày của {weeklySummaries.length} nhân viên\n                          </p>\n                          <div style={{ \n                            background: 'white', \n                            borderRadius: '8px', \n                            border: '1px solid #dee2e6',\n                            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n                            overflow: 'hidden'\n                          }}>\n                            {/* Header Row */}\n                            <div style={{ \n                              display: 'grid', \n                              gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr', \n                              gap: '1px',\n                              background: '#f8f9fa',\n                              borderBottom: '2px solid #dee2e6'\n                            }}>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>👤 Nhân viên</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📅 Tuần</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>🏢 Bộ phận</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📅 Từ</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📅 Đến</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📊 Số đánh giá</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>⚡ Hiệu quả</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>⚖️ Kỷ luật</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>🧡 Thái độ</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>🎯 Tổng điểm</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📊 Xếp loại</div>\n                            </div>\n                            \n                            {/* Data Rows */}\n                            {weeklySummaries.map((summary, index) => (\n                              <React.Fragment key={index}>\n                                <div style={{ \n                                  display: 'grid', \n                                  gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr', \n                                  gap: '1px',\n                                  borderBottom: index < weeklySummaries.length - 1 ? '1px solid #dee2e6' : 'none',\n                                  background: index % 2 === 0 ? 'white' : '#f8f9fa',\n                                  cursor: 'pointer',\n                                  transition: 'all 0.3s ease'\n                                }}\n                                onClick={() => toggleUserDetails(summary.userId)}\n                                onMouseEnter={(e) => {\n                                  e.currentTarget.style.background = '#e3f2fd';\n                                }}\n                                onMouseLeave={(e) => {\n                                  e.currentTarget.style.background = index % 2 === 0 ? 'white' : '#f8f9fa';\n                                }}\n                                >\n                                  <div style={{ padding: '12px', textAlign: 'left', fontWeight: '500', color: '#333' }}>\n                                    👤 {summary.userName}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    Tuần {summary.weekNumber}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    {summary.department}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    {summary.weekNumber === 1 ? '01/10/2025' : new Date(summary.weekStart).toLocaleDateString('vi-VN')}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    {summary.weekNumber === 1 ? '05/10/2025' : new Date(summary.weekEnd).toLocaleDateString('vi-VN')}\n                                  </div>\n                                  <div style={{ \n                                    padding: '12px', \n                                    textAlign: 'center', \n                                    color: '#1976d2', \n                                    fontWeight: '500',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.2s ease'\n                                  }}\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    toggleUserDetails(summary.userId);\n                                  }}\n                                  onMouseEnter={(e) => {\n                                    e.target.style.background = '#e3f2fd';\n                                    e.target.style.borderRadius = '4px';\n                                  }}\n                                  onMouseLeave={(e) => {\n                                    e.target.style.background = 'transparent';\n                                  }}\n                                  title=\"Click để xem chi tiết đánh giá\"\n                                  >\n                                    {summary.totalDailyEvaluations}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#2e7d32', fontWeight: '500' }}>\n                                    {summary.averageScores.performance}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#ef6c00', fontWeight: '500' }}>\n                                    {summary.averageScores.discipline}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#c2185b', fontWeight: '500' }}>\n                                    {summary.averageScores.attitude}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#6f42c1', fontWeight: '600' }}>\n                                    {summary.averageTotalScore}\n                                  </div>\n                                  <div style={{ \n                                    padding: '12px', \n                                    textAlign: 'center', \n                                    fontWeight: '600',\n                                    background: summary.weeklyLevel === 'Xuất sắc' ? '#e8f5e8' : \n                                               summary.weeklyLevel === 'Tốt' ? '#e3f2fd' : \n                                               summary.weeklyLevel === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                                    color: summary.weeklyLevel === 'Xuất sắc' ? '#2e7d32' : \n                                           summary.weeklyLevel === 'Tốt' ? '#1976d2' : \n                                           summary.weeklyLevel === 'Trung bình' ? '#f57c00' : '#d32f2f',\n                                    borderRadius: '4px',\n                                    margin: '4px'\n                                  }}>\n                                    {summary.weeklyLevel}\n                                  </div>\n                                </div>\n                                \n                                {/* Expanded Details Section */}\n                                {expandedUser === summary.userId && (\n                                  <div style={{ \n                                    gridColumn: '1 / -1', // Span across all columns\n                                    marginTop: '0',\n                                    padding: '15px', \n                                    background: '#f8f9fa', \n                                    borderRadius: '0 0 8px 8px', \n                                    border: '1px solid #dee2e6',\n                                    borderTop: 'none'\n                                  }}>\n                                    <h5 style={{ \n                                      margin: '0 0 10px 0', \n                                      color: '#333', \n                                      display: 'flex', \n                                      alignItems: 'center', \n                                      gap: '8px' \n                                    }}>\n                                      📋 Chi tiết đánh giá hàng ngày\n                                    </h5>\n                                    \n                                    <div style={{ \n                                      display: 'grid', \n                                      gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n                                      gap: '10px' \n                                    }}>\n                                      {summary.dailyEvaluations.map((evaluation, evalIndex) => (\n                                        <div key={evalIndex} style={{ \n                                          background: 'white', \n                                          padding: '12px', \n                                          borderRadius: '6px', \n                                          border: '1px solid #e9ecef',\n                                          fontSize: '0.8rem'\n                                        }}>\n                                          <div style={{ \n                                            display: 'flex', \n                                            justifyContent: 'space-between', \n                                            alignItems: 'center', \n                                            marginBottom: '8px' \n                                          }}>\n                                            <span style={{ fontWeight: '600', color: '#333' }}>\n                                              📅 {new Date(evaluation.date).toLocaleDateString('vi-VN')}\n                                            </span>\n                                            <span style={{ \n                                              padding: '2px 8px', \n                                              borderRadius: '12px', \n                                              fontSize: '0.7rem',\n                                              fontWeight: '600',\n                                              background: evaluation.level === 'Xuất sắc' ? '#e8f5e8' : \n                                                         evaluation.level === 'Tốt' ? '#e3f2fd' : \n                                                         evaluation.level === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                                              color: evaluation.level === 'Xuất sắc' ? '#2e7d32' : \n                                                     evaluation.level === 'Tốt' ? '#1976d2' : \n                                                     evaluation.level === 'Trung bình' ? '#f57c00' : '#d32f2f'\n                                            }}>\n                                              {evaluation.level}\n                                            </span>\n                                          </div>\n                                          \n                                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '5px' }}>\n                                            <div style={{ color: '#666' }}>\n                                              ⚡ Hiệu quả: <strong>{evaluation.scores.performance}</strong>\n                                            </div>\n                                            <div style={{ color: '#666' }}>\n                                              ⚖️ Kỷ luật: <strong>{evaluation.scores.discipline}</strong>\n                                            </div>\n                                            <div style={{ color: '#666' }}>\n                                              🤝 Thái độ: <strong>{evaluation.scores.attitude}</strong>\n                                            </div>\n                                            <div style={{ color: '#333', fontWeight: '600' }}>\n                                              🎯 Tổng: <strong>{evaluation.totalScore}</strong>\n                                            </div>\n                                          </div>\n                                        </div>\n                                      ))}\n                                    </div>\n                                    \n                                    <div style={{ \n                                      marginTop: '10px', \n                                      padding: '8px', \n                                      background: '#e3f2fd', \n                                      borderRadius: '4px', \n                                      fontSize: '0.8rem', \n                                      color: '#1976d2',\n                                      textAlign: 'center'\n                                    }}>\n                                      📊 Tổng cộng: {summary.totalDailyEvaluations} đánh giá | Điểm TB: {summary.averageTotalScore} | Xếp loại: {summary.weeklyLevel}\n                                    </div>\n                                  </div>\n                                )}\n                              </React.Fragment>\n                            ))}\n                          </div>\n                        </div>\n                      );\n                    })()}\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n        ) : viewMode === 'history' ? (\n          <div className=\"evaluation-history\">\n            <div className=\"history-header\">\n            <h3>📊 Lịch sử đánh giá KPI</h3>\n              \n              {/* Filter Controls */}\n              <div className=\"history-filters\" style={{ \n                display: 'flex', \n                gap: '15px', \n                marginBottom: '20px', \n                flexWrap: 'wrap',\n                alignItems: 'center'\n              }}>\n                <div className=\"filter-group\">\n                  <label style={{ fontSize: '0.9rem', fontWeight: '600', color: '#333', marginRight: '8px' }}>\n                    📅 Thời gian:\n                  </label>\n                  <select \n                    value={historyTimeFilter}\n                    onChange={(e) => setHistoryTimeFilter(e.target.value)}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #ddd',\n                      fontSize: '0.9rem',\n                      background: 'white'\n                    }}\n                  >\n                    <option value=\"all\">Tất cả</option>\n                    <option value=\"today\">Hôm nay</option>\n                    <option value=\"week\">7 ngày qua</option>\n                    <option value=\"month\">Tháng này</option>\n                    <option value=\"quarter\">Quý này</option>\n                    <option value=\"year\">Năm này</option>\n                  </select>\n                </div>\n                \n                <div className=\"filter-group\">\n                  <label style={{ fontSize: '0.9rem', fontWeight: '600', color: '#333', marginRight: '8px' }}>\n                    🏢 Bộ phận:\n                  </label>\n                  <select \n                    value={historyDepartmentFilter}\n                    onChange={(e) => setHistoryDepartmentFilter(e.target.value)}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #ddd',\n                      fontSize: '0.9rem',\n                      background: 'white'\n                    }}\n                  >\n                    <option value=\"all\">Tất cả</option>\n                    {getHistoryDepartments().map(dept => (\n                      <option key={dept} value={dept}>{dept}</option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div className=\"filter-group\">\n                  <label style={{ fontSize: '0.9rem', fontWeight: '600', color: '#333', marginRight: '8px' }}>\n                    📅 Ngày cụ thể:\n                  </label>\n                  <input \n                    type=\"date\"\n                    value={historyDateFilter}\n                    onChange={(e) => {\n                      setHistoryDateFilter(e.target.value);\n                      if (e.target.value) {\n                        setHistoryTimeFilter('all'); // Reset time filter when date is selected\n                      }\n                    }}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #ddd',\n                      fontSize: '0.9rem',\n                      background: 'white'\n                    }}\n                  />\n                  {historyDateFilter && (\n                    <button \n                      onClick={() => setHistoryDateFilter('')}\n                      style={{\n                        marginLeft: '8px',\n                        padding: '4px 8px',\n                        borderRadius: '4px',\n                        border: '1px solid #dc3545',\n                        background: '#dc3545',\n                        color: 'white',\n                        fontSize: '0.8rem',\n                        cursor: 'pointer'\n                      }}\n                    >\n                      ✕ Xóa\n                    </button>\n                  )}\n                </div>\n                \n                <div style={{ \n                  padding: '8px 12px', \n                  background: '#f8f9fa', \n                  borderRadius: '6px', \n                  fontSize: '0.9rem',\n                  color: '#666',\n                  border: '1px solid #e9ecef'\n                }}>\n                  📊 Hiển thị: {getFilteredHistory().length} / {evaluationHistory.length} đánh giá\n                  {currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý' && (\n                    <span style={{ color: '#28a745', fontWeight: 'bold' }}> (Bộ phận: {currentUser?.department})</span>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            {evaluationHistory.length === 0 ? (\n              <div className=\"no-history\">\n                <p>Chưa có đánh giá nào được lưu</p>\n              </div>\n            ) : getFilteredHistory().length === 0 ? (\n              <div className=\"no-history\">\n                <p>Không có đánh giá nào phù hợp với bộ lọc đã chọn</p>\n              </div>\n            ) : (\n              <div className=\"history-table-container\">\n                <div className=\"history-table\">\n                  <div className=\"table-header\">\n                    <div>👤 Nhân viên</div>\n                    <div>🏢 Bộ phận</div>\n                    <div>📅 Ngày đánh giá</div>\n                    <div>📊 Hiệu quả</div>\n                    <div>⚖️ Kỷ luật</div>\n                    <div>🤝 Thái độ</div>\n                    <div>🎯 Tổng điểm</div>\n                    <div>🏆 Xếp loại</div>\n                    <div>👨‍💼 Người đánh giá</div>\n                    {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                      <div>⚙️ Thao tác</div>\n                    )}\n                  </div>\n                  \n                  {getFilteredHistory().map(evaluation => (\n                    <div key={evaluation.id} className=\"table-row\">\n                      <div className=\"user-info\">\n                        <div className=\"user-name\">{evaluation.userName}</div>\n                      </div>\n                      <div className=\"department\">{evaluation.department}</div>\n                      <div className=\"date\">{new Date(evaluation.date).toLocaleDateString('vi-VN')}</div>\n                      <div className=\"score performance\" style={{ color: '#28a745' }}>\n                        {evaluation.scores.performance}\n                      </div>\n                      <div className=\"score discipline\" style={{ color: '#ffc107' }}>\n                        {evaluation.scores.discipline}\n                      </div>\n                      <div className=\"score attitude\" style={{ color: '#dc3545' }}>\n                        {evaluation.scores.attitude}\n                      </div>\n                      <div className=\"total-score\" style={{ color: '#6f42c1', fontWeight: 'bold' }}>\n                        {evaluation.totalScore}\n                      </div>\n                      <div \n                        className=\"level\"\n                        style={{ \n                          color: getScoreLevel(evaluation.totalScore).color,\n                          fontWeight: '600'\n                        }}\n                      >\n                        {evaluation.level}\n                      </div>\n                      <div className=\"evaluator\">\n                        <div className=\"evaluator-name\">\n                          {evaluation.evaluatedBy || 'Chưa xác định'}\n                        </div>\n                        <div className=\"evaluator-role\">\n                          {evaluation.evaluatorRole || 'Chưa xác định'}\n                        </div>\n                      </div>\n                      {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                        <div className=\"actions\">\n                          <button \n                            className=\"delete-btn\"\n                            onClick={() => handleDeleteEvaluation(evaluation.id)}\n                            title=\"Xóa đánh giá\"\n                            style={{\n                              padding: '6px 12px',\n                              borderRadius: '4px',\n                              border: '1px solid #dc3545',\n                              background: '#dc3545',\n                              color: 'white',\n                              fontSize: '0.8rem',\n                              cursor: 'pointer',\n                              transition: 'all 0.2s ease'\n                            }}\n                            onMouseOver={(e) => {\n                              e.target.style.background = '#c82333';\n                              e.target.style.borderColor = '#c82333';\n                            }}\n                            onMouseOut={(e) => {\n                              e.target.style.background = '#dc3545';\n                              e.target.style.borderColor = '#dc3545';\n                            }}\n                          >\n                            🗑️ Xóa\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n         ) : viewMode === 'all-evaluations' ? (\n          <div className=\"all-evaluations\">\n            <div className=\"all-evaluations-header\">\n              <div className=\"section-header\">\n                <h3>👥 Tất cả đánh giá KPI trong hệ thống</h3>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={exportAllEvaluationsExcel}\n                    title=\"Xuất danh sách đánh giá theo filter hiện tại\"\n                  >\n                    📄 Xuất theo filter\n                  </button>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={exportAllEvaluationsExcelUnfiltered}\n                    title=\"Xuất tất cả đánh giá không bị filter\"\n                    style={{ background: 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)' }}\n                  >\n                    📋 Xuất tất cả\n                  </button>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={() => {\n                      const weeklySummaries = getFilteredWeeklySummaries();\n                      if (weeklySummaries.length > 0) {\n                        const filterSuffix = weeklyTimeFilter !== 'all' || weeklyDepartmentFilter !== 'all' \n                          ? `_${weeklyTimeFilter}_${weeklyDepartmentFilter}` \n                          : '';\n                        exportWeeklySummariesToCSV(weeklySummaries, `Bao_cao_tong_hop_tuan${filterSuffix}`);\n                      } else {\n                        alert('📭 Chưa có đánh giá nào phù hợp với bộ lọc để tổng hợp');\n                      }\n                    }}\n                    title=\"Xuất báo cáo tổng hợp tuần theo bộ lọc\"\n                    style={{ background: 'linear-gradient(135deg, #fd7e14 0%, #e8590c 100%)' }}\n                  >\n                    📊 Tổng hợp tuần\n                  </button>\n                </div>\n              </div>\n              <div className=\"evaluations-stats\">\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">{allEvaluations.length}</span>\n                  <span className=\"stat-label\">Tổng đánh giá</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Xuất sắc').length}\n                  </span>\n                  <span className=\"stat-label\">Xuất sắc</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Tốt').length}\n                  </span>\n                  <span className=\"stat-label\">Tốt</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Trung bình').length}\n                  </span>\n                  <span className=\"stat-label\">Trung bình</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Cần cải thiện').length}\n                  </span>\n                  <span className=\"stat-label\">Cần cải thiện</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"evaluations-filters\">\n              <div className=\"filter-group\">\n                <label>🏢 Bộ phận:</label>\n                <select \n                  value={selectedDepartment} \n                  onChange={(e) => setSelectedDepartment(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tất cả bộ phận</option>\n                  {Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => (\n                    <option key={dept} value={dept}>{dept}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"filter-group\">\n                <label>📅 Khoảng thời gian:</label>\n                <select \n                  value={summaryPeriod} \n                  onChange={(e) => setSummaryPeriod(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"week\">Tuần này</option>\n                  <option value=\"month\">Tháng này</option>\n                  <option value=\"quarter\">Quý này</option>\n                  <option value=\"year\">Năm này</option>\n                  <option value=\"all\">Tất cả</option>\n                </select>\n              </div>\n            </div>\n\n            <div className=\"evaluations-table\">\n              <div className=\"table-header\">\n                <div>👤 Nhân viên</div>\n                <div>🏢 Bộ phận</div>\n                <div>📅 Ngày đánh giá</div>\n                <div>📊 Hiệu quả</div>\n                <div>⚖️ Kỷ luật</div>\n                <div>🤝 Thái độ</div>\n                <div>🎯 Tổng điểm</div>\n                <div>🏆 Xếp loại</div>\n                <div>👨‍💼 Người đánh giá</div>\n                {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                  <div>⚙️ Thao tác</div>\n                )}\n              </div>\n              \n              <div className=\"filter-info\" style={{ marginBottom: '15px', padding: '10px', background: '#f8f9fa', borderRadius: '8px', fontSize: '0.9rem' }}>\n                📊 Hiển thị: {allEvaluations.filter(evaluation => {\n                  // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n                  if (currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý') {\n                    if (evaluation.evaluatedBy !== currentUser.fullName) {\n                      return false;\n                    }\n                  }\n                  \n                  if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                    return false;\n                  }\n                  const evalDate = new Date(evaluation.date);\n                  const today = new Date();\n                  let startDate;\n                  \n                  switch (summaryPeriod) {\n                    case 'week':\n                      // Current week: from Monday to Sunday\n                      startDate = new Date(today);\n                      startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                      const endDate = new Date(today);\n                      endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                      return evalDate >= startDate && evalDate <= endDate;\n                    case 'month':\n                      startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                      break;\n                    case 'quarter':\n                      const quarter = Math.floor(today.getMonth() / 3);\n                      startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                      break;\n                    case 'year':\n                      startDate = new Date(today.getFullYear(), 0, 1);\n                      break;\n                    default:\n                      return true;\n                  }\n                  return evalDate >= startDate && evalDate <= today;\n                }).length} / {allEvaluations.length} đánh giá\n                {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                  <span style={{ color: '#28a745', fontWeight: 'bold' }}> (Quản lý xem tất cả)</span>\n                )}\n              </div>\n              \n              \n              \n              {(() => {\n                const filteredEvaluations = allEvaluations\n                  .filter(evaluation => {\n                    // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n                    if (currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý') {\n                      if (evaluation.evaluatedBy !== currentUser.fullName) {\n                        return false;\n                      }\n                    }\n                    \n                    // Filter by department\n                    if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                      return false;\n                    }\n                    \n                    // Filter by time period\n                    const evalDate = new Date(evaluation.date);\n                    const today = new Date();\n                    let startDate;\n                    \n                    switch (summaryPeriod) {\n                      case 'week':\n                        // Current week: from Monday to Sunday\n                        startDate = new Date(today);\n                        startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                        const endDate = new Date(today);\n                        endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                        return evalDate >= startDate && evalDate <= endDate;\n                      case 'month':\n                        startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                        break;\n                      case 'quarter':\n                        const quarter = Math.floor(today.getMonth() / 3);\n                        startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                        break;\n                      case 'year':\n                        startDate = new Date(today.getFullYear(), 0, 1);\n                        return evalDate >= startDate && evalDate <= today;\n                      case 'all':\n                        // Show all evaluations\n                        return true;\n                      default:\n                        // Show all evaluations when no specific period is selected\n                        return true;\n                    }\n                  })\n                  .sort((a, b) => new Date(b.date) - new Date(a.date));\n                \n                // Debug log\n                console.log('Total evaluations:', allEvaluations.length);\n                console.log('Filtered evaluations:', filteredEvaluations.length);\n                console.log('Selected department:', selectedDepartment);\n                console.log('Summary period:', summaryPeriod);\n                \n                return filteredEvaluations.map(evaluation => (\n                  <div key={evaluation.id} className=\"evaluation-row\">\n                    <div className=\"user-info\">\n                      <div className=\"user-name\">{evaluation.userName}</div>\n                    </div>\n                    <div className=\"department\">{evaluation.department}</div>\n                    <div className=\"date\">\n                      {new Date(evaluation.date).toLocaleDateString('vi-VN')}\n                    </div>\n                    <div className=\"score performance\">\n                      {evaluation.scores.performance}/100\n                    </div>\n                    <div className=\"score discipline\">\n                      {evaluation.scores.discipline}/100\n                    </div>\n                    <div className=\"score attitude\">\n                      {evaluation.scores.attitude}/100\n                    </div>\n                    <div className=\"total-score\">\n                      <strong>{evaluation.totalScore}/100</strong>\n                    </div>\n                    <div className=\"level\">\n                      <span \n                        className=\"level-badge\"\n                        style={{ \n                          backgroundColor: evaluation.level === 'Xuất sắc' ? '#28a745' :\n                                         evaluation.level === 'Tốt' ? '#17a2b8' :\n                                         evaluation.level === 'Trung bình' ? '#ffc107' :\n                                         '#dc3545'\n                        }}\n                      >\n                        {evaluation.level}\n                      </span>\n                    </div>\n                    <div className=\"evaluator\">\n                      <div className=\"evaluator-name\">\n                        {evaluation.evaluatedBy || 'Chưa xác định'}\n                      </div>\n                      <div className=\"evaluator-role\">\n                        {evaluation.evaluatorRole || 'Chưa xác định'}\n                      </div>\n                    </div>\n                    {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                      <div className=\"actions\">\n                        <button \n                          className=\"delete-btn\"\n                          onClick={() => handleDeleteEvaluation(evaluation.id)}\n                          title=\"Xóa đánh giá\"\n                          style={{\n                            padding: '6px 12px',\n                            borderRadius: '4px',\n                            border: '1px solid #dc3545',\n                            background: '#dc3545',\n                            color: 'white',\n                            fontSize: '0.8rem',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease'\n                          }}\n                          onMouseOver={(e) => {\n                            e.target.style.background = '#c82333';\n                            e.target.style.borderColor = '#c82333';\n                          }}\n                          onMouseOut={(e) => {\n                            e.target.style.background = '#dc3545';\n                            e.target.style.borderColor = '#dc3545';\n                          }}\n                        >\n                          🗑️ Xóa\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ));\n              })()}\n            </div>\n\n            {allEvaluations.length === 0 && (\n              <div className=\"no-evaluations\">\n                <p>📭 Chưa có đánh giá KPI nào trong hệ thống</p>\n              </div>\n            )}\n          </div>\n        ) : !isEvaluating ? (\n          <div className=\"user-selection\">\n            <h3>👥 Chọn nhân viên để đánh giá</h3>\n            \n            {/* Thông tin quyền đánh giá */}\n            <div className=\"evaluation-permission-info\">\n              {currentUser?.role === 'admin' || currentUser?.position === 'Quản lý' ? (\n                <p>📋 <strong>Quản lý</strong> đánh giá <strong>Tổ trưởng</strong></p>\n              ) : currentUser?.position === 'Tổ trưởng' ? (\n                <p>📋 <strong>Tổ trưởng</strong> đánh giá <strong>Tổ phó</strong> và <strong>Nhân viên</strong> trong bộ phận <strong>{currentUser.department}</strong></p>\n              ) : currentUser?.position === 'Tổ phó' ? (\n                <p>📋 <strong>Tổ phó</strong> đánh giá <strong>Nhân viên</strong> trong bộ phận <strong>{currentUser.department}</strong></p>\n              ) : (\n                <p>❌ Bạn không có quyền đánh giá KPI</p>\n              )}\n            </div>\n            \n            {/* Department Tabs */}\n            {departments.length > 0 && (\n              <div className=\"department-tabs\">\n                <button \n                  className={`dept-tab ${selectedDepartment === 'all' ? 'active' : ''}`}\n                  onClick={() => setSelectedDepartment('all')}\n                >\n                  🏢 Tất cả bộ phận\n                </button>\n                {departments.map(dept => (\n                  <button \n                    key={dept}\n                    className={`dept-tab ${selectedDepartment === dept ? 'active' : ''}`}\n                    onClick={() => setSelectedDepartment(dept)}\n                  >\n                    🏢 {dept}\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* User Grid */}\n            <div className=\"user-grid\">\n              {filteredUsers.length === 0 ? (\n                <div className=\"no-users\">\n                  <p>Không có nhân viên nào trong bộ phận này</p>\n                </div>\n              ) : (\n                filteredUsers.map(user => (\n                  <div key={user.id} className=\"user-card\">\n                    <div className=\"user-info\">\n                      <h4>{user.fullName}</h4>\n                      <p>{user.department} - {user.position}</p>\n                    </div>\n                    <button \n                      onClick={() => handleStartEvaluation(user)}\n                      className=\"evaluate-btn\"\n                    >\n                      📝 Đánh giá KPI\n                    </button>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        ) : (\n          <div className=\"evaluation-form\">\n            <div className=\"evaluation-header\">\n              <h3>📝 Đánh giá KPI cho: {selectedUser.fullName}</h3>\n              <div className=\"evaluation-date-display\">\n                <span>📅 Ngày: {evaluationDate}</span>\n              </div>\n              <div className=\"evaluation-weights\">\n                <span>Thang điểm: 0-100 điểm cho mỗi tiêu chí</span>\n              </div>\n            </div>\n\n            <div className=\"criteria-list\">\n              {criteria.map(criterion => (\n                <div key={criterion.name} className=\"criterion-card\">\n                  <div className=\"criterion-header\">\n                    <h4>{criterion.title} ({criterion.weight}%)</h4>\n                    <p>{criterion.description}</p>\n                  </div>\n                  \n                  <div className=\"evaluation-inputs\">\n                    <div className=\"evaluator-group\">\n                      <label>Điểm đánh giá: {evaluationData[criterion.name]}/100</label>\n                      <input\n                        type=\"range\"\n                        min=\"0\"\n                        max=\"100\"\n                        value={evaluationData[criterion.name]}\n                        onChange={(e) => handleScoreChange(criterion.name, e.target.value)}\n                        className=\"score-slider\"\n                      />\n                      <div className=\"slider-labels\">\n                        <span>0</span>\n                        <span>25</span>\n                        <span>50</span>\n                        <span>75</span>\n                        <span>100</span>\n                    </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"evaluation-summary\">\n              <div className=\"total-score\">\n                <h3>Điểm tổng KPI: {calculateTotalScore()}/100</h3>\n                <div \n                  className=\"score-level\"\n                  style={{ color: getScoreLevel(calculateTotalScore()).color }}\n                >\n                  {getScoreLevel(calculateTotalScore()).level}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"evaluation-actions\">\n              <button onClick={handleSaveEvaluation} className=\"save-evaluation-btn\">\n                💾 Lưu đánh giá\n              </button>\n              <button \n                onClick={() => setIsEvaluating(false)} \n                className=\"cancel-evaluation-btn\"\n              >\n                ❌ Hủy\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Job Management Component\n  const JobManagement = ({ jobs, onUpdateJobs, currentUser }) => {\n    const [newJob, setNewJob] = useState({\n      deliveryDate: '',\n      department: currentUser?.department || '',\n      description: '',\n      completionTime: '',\n      status: '',\n      jobType: 'management',\n      assignee: '',\n      assigner: currentUser?.fullName || '',\n      completionEvidence: [] // Array of uploaded files\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [filters, setFilters] = useState({\n      department: '',\n      status: '',\n      search: '',\n      timeRange: 'all' // all, week, month, quarter, year\n    });\n    const [uploadingFiles, setUploadingFiles] = useState({});\n    const [showEvidenceModal, setShowEvidenceModal] = useState(false);\n    const [selectedJob, setSelectedJob] = useState(null);\n\n    // Lọc jobs theo bộ phận của user (trừ admin)\n    const getFilteredJobsByDepartment = () => {\n      if (currentUser?.role === 'admin') {\n        return jobs; // Admin thấy tất cả\n      }\n      \n      // Tổ trưởng: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if (currentUser?.position === 'Tổ trưởng') {\n        return jobs.filter(job => \n          job.department === currentUser?.department && \n          (job.assignee === currentUser?.fullName || !job.assignee)\n        );\n      }\n      \n      // Tổ phó và nhân viên: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if (currentUser?.position === 'Tổ phó' || currentUser?.position === 'Nhân viên') {\n        return jobs.filter(job => \n          job.department === currentUser?.department && \n          (job.assignee === currentUser?.fullName || !job.assignee)\n        );\n      }\n      \n      return jobs;\n    };\n\n    const departments = [\n      'Kho Phôi', 'Sản Xuất', 'Đóng gói',\n      'Kho & Trải Cắt', 'Quản lý'\n    ];\n\n    const statusOptions = ['nhận việc', 'đang xử lý', 'chờ duyệt', 'thành công', 'thất bại'];\n\n    // Filter jobs based on current filters (sau khi đã lọc theo bộ phận)\n    const departmentFilteredJobs = getFilteredJobsByDepartment();\n    \n    // Filter by time range\n    const getTimeFilteredJobs = (jobs) => {\n      if (filters.timeRange === 'all') return jobs;\n      \n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n      return jobs.filter(job => {\n        if (!job.deliveryDate) return false;\n        const jobDate = new Date(job.deliveryDate);\n        const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n        \n        switch (filters.timeRange) {\n          case 'week':\n            const weekStart = new Date(today);\n            weekStart.setDate(today.getDate() - today.getDay());\n            const weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n            \n          case 'month':\n            const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n            const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n            \n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n            const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n            \n          case 'year':\n            const yearStart = new Date(today.getFullYear(), 0, 1);\n            const yearEnd = new Date(today.getFullYear(), 11, 31);\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n            \n          default:\n            return true;\n        }\n      });\n    };\n    \n    const timeFilteredJobs = getTimeFilteredJobs(departmentFilteredJobs);\n    const filteredJobs = timeFilteredJobs.filter(job => {\n      const matchesDepartment = !filters.department || job.department === filters.department;\n      const matchesStatus = !filters.status || job.status === filters.status;\n      const matchesSearch = !filters.search || \n        job.description.toLowerCase().includes(filters.search.toLowerCase()) ||\n        job.department.toLowerCase().includes(filters.search.toLowerCase());\n      \n      return matchesDepartment && matchesStatus && matchesSearch;\n    });\n\n    const handleFilterChange = (filterType, value) => {\n    setFilters(prev => ({\n      ...prev,\n        [filterType]: value\n    }));\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      department: '',\n        status: '',\n      search: '',\n      timeRange: 'all'\n    });\n  };\n\n  // File upload functions\n  const handleFileUpload = async (jobId, files) => {\n    const job = jobs.find(j => j.id === jobId);\n    if (!job) {\n      console.error('❌ Không tìm thấy công việc với ID:', jobId);\n      alert('❌ Không tìm thấy công việc. Vui lòng thử lại.');\n      return;\n    }\n\n    if (!files || files.length === 0) {\n      console.error('❌ Không có file nào được chọn');\n      alert('❌ Vui lòng chọn file để upload.');\n      return;\n    }\n\n    setUploadingFiles(prev => ({ ...prev, [jobId]: true }));\n\n    try {\n      console.log(`📤 Bắt đầu upload ${files.length} file(s) cho công việc ${jobId}`);\n      \n      // Test server connection first\n      const serverOk = await testServerConnection();\n      if (!serverOk) {\n        throw new Error('Không thể kết nối đến server. Vui lòng kiểm tra server có đang chạy không.');\n      }\n      \n      // Validate file types and sizes\n      const maxFileSize = 50 * 1024 * 1024; // 50MB (phù hợp với server limit)\n      const allowedTypes = [\n        'image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/bmp',\n        'video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm', 'video/mkv'\n      ];\n      \n      for (let file of files) {\n        if (file.size > maxFileSize) {\n          throw new Error(`File ${file.name} quá lớn (tối đa 50MB)`);\n        }\n        if (!allowedTypes.includes(file.type)) {\n          throw new Error(`File ${file.name} không được hỗ trợ. Chỉ chấp nhận hình ảnh và video.`);\n        }\n      }\n\n      // Convert files to base64 for storage\n      const filePromises = Array.from(files).map((file, index) => {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onload = () => {\n            console.log(`✅ Đã đọc file ${index + 1}/${files.length}: ${file.name}`);\n            resolve({\n              name: file.name,\n              type: file.type,\n              size: file.size,\n              data: reader.result,\n              uploadDate: new Date().toISOString()\n            });\n          };\n          reader.onerror = (error) => {\n            console.error(`❌ Lỗi đọc file ${file.name}:`, error);\n            reject(new Error(`Lỗi đọc file ${file.name}`));\n          };\n          reader.readAsDataURL(file);\n        });\n      });\n\n      const uploadedFiles = await Promise.all(filePromises);\n      console.log(`✅ Đã convert ${uploadedFiles.length} file(s) thành base64`);\n      \n      // Update job with new evidence\n      const updatedJobs = jobs.map(j => \n        j.id === jobId \n          ? { \n              ...j, \n              completionEvidence: [...(j.completionEvidence || []), ...uploadedFiles],\n              status: 'thành công' // Auto-complete when evidence is uploaded\n            }\n          : j\n      );\n      \n      console.log('💾 Đang lưu dữ liệu vào server...');\n      \n      // Save to server\n      const currentApiBase = window.API_BASE || API_BASE;\n      const response = await fetch(`${currentApiBase}/api/jobs`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ jobs: updatedJobs }),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('✅ Server response:', result);\n        onUpdateJobs(updatedJobs);\n        alert(`✅ Đã upload ${uploadedFiles.length} file(s) và cập nhật trạng thái thành \"thành công\"`);\n      } else {\n        const errorText = await response.text();\n        console.error('❌ Server error response:', response.status, errorText);\n        throw new Error(`Server trả về lỗi ${response.status}: ${errorText}`);\n      }\n      \n    } catch (error) {\n      console.error('❌ Lỗi upload file chi tiết:', error);\n      alert(`❌ Lỗi khi upload file: ${error.message || 'Vui lòng thử lại.'}`);\n    } finally {\n      setUploadingFiles(prev => ({ ...prev, [jobId]: false }));\n    }\n  };\n\n  const removeEvidence = async (jobId, evidenceIndex) => {\n    try {\n      const updatedJobs = jobs.map(job => \n        job.id === jobId \n          ? { \n              ...job, \n              completionEvidence: job.completionEvidence.filter((_, index) => index !== evidenceIndex)\n            }\n          : job\n      );\n      \n      // Save to server\n      const currentApiBase = window.API_BASE || API_BASE;\n      const response = await fetch(`${currentApiBase}/api/jobs`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ jobs: updatedJobs }),\n      });\n\n      if (response.ok) {\n        onUpdateJobs(updatedJobs);\n        alert('✅ Đã xóa bằng chứng thành công');\n      } else {\n        throw new Error('Lỗi khi lưu dữ liệu vào server');\n      }\n    } catch (error) {\n      console.error('❌ Lỗi xóa bằng chứng:', error);\n      alert('❌ Lỗi khi xóa bằng chứng. Vui lòng thử lại.');\n    }\n  };\n\n  const openEvidenceModal = (job) => {\n    setSelectedJob(job);\n    setShowEvidenceModal(true);\n  };\n\n\n    const handleAddJob = async () => {\n      if (!newJob.description || !newJob.deliveryDate || !newJob.assignee) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n\n      try {\n      const job = {\n        id: Date.now(),\n        ...newJob\n      };\n\n      const updatedJobs = [...jobs, job];\n        \n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ jobs: updatedJobs }),\n        });\n\n        if (response.ok) {\n      onUpdateJobs(updatedJobs);\n          alert('✅ Đã thêm công việc thành công');\n      \n      setNewJob({\n        deliveryDate: '',\n        department: currentUser?.department || '',\n        description: '',\n        completionTime: '',\n        status: '',\n            jobType: 'management',\n            assignee: '',\n            assigner: currentUser?.fullName || '',\n            completionEvidence: []\n      });\n      setIsAdding(false);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi thêm công việc:', error);\n        alert('❌ Lỗi khi thêm công việc. Vui lòng thử lại.');\n      }\n    };\n\n    const handleDeleteJob = async (id) => {\n      // Chỉ Admin mới được xóa công việc\n      if (currentUser?.role !== 'admin') {\n        alert('Chỉ Quản lý mới có quyền xóa công việc!');\n        return;\n      }\n      \n      if (confirm('Bạn có chắc muốn xóa công việc này?')) {\n        try {\n        const updatedJobs = jobs.filter(job => job.id !== id);\n          \n          // Save to server\n          const response = await fetch(`${API_BASE}/api/jobs`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ jobs: updatedJobs }),\n          });\n\n          if (response.ok) {\n        onUpdateJobs(updatedJobs);\n            alert('✅ Đã xóa công việc thành công');\n          } else {\n            throw new Error('Lỗi khi lưu dữ liệu vào server');\n          }\n        } catch (error) {\n          console.error('❌ Lỗi xóa công việc:', error);\n          alert('❌ Lỗi khi xóa công việc. Vui lòng thử lại.');\n        }\n      }\n    };\n\n    const handleUpdateJob = async (id, field, value) => {\n      const job = jobs.find(j => j.id === id);\n      \n      // Không cho phép chỉnh sửa công việc đã hoàn thành\n      if (job && job.status === 'thành công') {\n        alert('Không thể chỉnh sửa công việc đã hoàn thành!');\n        return;\n      }\n      \n      // Chỉ cho phép thay đổi trạng thái nếu không phải admin hoặc tổ trưởng\n      if (currentUser?.role !== 'admin' && currentUser?.position !== 'Tổ trưởng' && field !== 'status') {\n        alert('Bạn chỉ được phép thay đổi trạng thái công việc!');\n        return;\n      }\n      \n      try {\n      const updatedJobs = jobs.map(job => \n        job.id === id ? { ...job, [field]: value } : job\n      );\n        \n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ jobs: updatedJobs }),\n        });\n\n        if (response.ok) {\n      onUpdateJobs(updatedJobs);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi cập nhật công việc:', error);\n        alert('❌ Lỗi khi cập nhật công việc. Vui lòng thử lại.');\n      }\n    };\n\n    return (\n      <div className=\"job-management\">\n        <div className=\"job-header\">\n          <h2>📋 Quản lý công việc</h2>\n          <div className=\"header-actions\">\n            <button \n              onClick={testServerConnection}\n              className=\"test-connection-btn\"\n              title=\"Kiểm tra kết nối server\"\n            >\n              🔍 Test Server\n            </button>\n            <button className=\"check-overdue-btn\" onClick={checkAndUpdateOverdueJobs}>\n              ⚠️ Kiểm tra trễ hạn\n            </button>\n            {(currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') && (\n              <button \n                className=\"add-btn\"\n                onClick={() => setIsAdding(true)}\n              >\n                ➕ Thêm công việc\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Quick Time Filters */}\n        <div className=\"quick-actions\">\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'week' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'week')}\n          >\n            📅 Tuần này\n          </button>\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'month' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'month')}\n          >\n            📆 Tháng này\n          </button>\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'quarter' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'quarter')}\n          >\n            📊 Quý này\n          </button>\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'all' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'all')}\n          >\n            🗓️ Tất cả\n          </button>\n        </div>\n\n        {/* Filter Section */}\n        <div className=\"filter-section\">\n          <div className=\"filter-row\">\n            <div className=\"filter-group\">\n              <label>🔍 Tìm kiếm:</label>\n              <input\n                type=\"text\"\n                placeholder=\"Nhập từ khóa...\"\n                value={filters.search}\n                onChange={(e) => handleFilterChange('search', e.target.value)}\n                className=\"filter-input\"\n              />\n            </div>\n            \n            <div className=\"filter-group\">\n              <label>🏢 Bộ phận:</label>\n              <select\n                value={filters.department}\n                onChange={(e) => handleFilterChange('department', e.target.value)}\n                className=\"filter-select\"\n              >\n                <option value=\"\">Tất cả bộ phận</option>\n                {departments.map(dept => (\n                  <option key={dept} value={dept}>{dept}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"filter-group\">\n              <label>📊 Trạng thái:</label>\n              <select\n                value={filters.status}\n                onChange={(e) => handleFilterChange('status', e.target.value)}\n                className=\"filter-select\"\n              >\n                <option value=\"\">Tất cả trạng thái</option>\n                {statusOptions.map(status => (\n                  <option key={status} value={status}>{status}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"filter-group\">\n              <label>📅 Thời gian:</label>\n              <select\n                value={filters.timeRange}\n                onChange={(e) => handleFilterChange('timeRange', e.target.value)}\n                className=\"filter-select\"\n              >\n                <option value=\"all\">Tất cả thời gian</option>\n                <option value=\"week\">Tuần này</option>\n                <option value=\"month\">Tháng này</option>\n                <option value=\"quarter\">Quý này</option>\n                <option value=\"year\">Năm này</option>\n              </select>\n            </div>\n            \n            <div className=\"filter-actions\">\n              <button \n                onClick={clearFilters}\n                className=\"clear-filters-btn\"\n              >\n                🗑️ Xóa bộ lọc\n              </button>\n          <span className=\"filter-count\">\n            Hiển thị: {filteredJobs.length}/{timeFilteredJobs.length} công việc\n            {filters.timeRange !== 'all' && (\n              <span className=\"time-info\">\n                {filters.timeRange === 'week' && ' (Tuần này)'}\n                {filters.timeRange === 'month' && ' (Tháng này)'}\n                {filters.timeRange === 'quarter' && ' (Quý này)'}\n                {filters.timeRange === 'year' && ' (Năm này)'}\n              </span>\n            )}\n            {currentUser?.role !== 'admin' && (\n              <span className=\"department-info\"> (Bộ phận: {currentUser?.department})</span>\n            )}\n            {currentUser?.position === 'Tổ phó' || currentUser?.position === 'Nhân viên' ? (\n              <span className=\"permission-info\"> - Chỉ thấy công việc được giao cho mình</span>\n            ) : currentUser?.position === 'Tổ trưởng' ? (\n              <span className=\"permission-info\"> - Chỉ thấy công việc được giao cho mình</span>\n            ) : null}\n          </span>\n            </div>\n          </div>\n        </div>\n\n        {isAdding && (\n          <div className=\"add-job-form\">\n            <h3>Thêm công việc mới</h3>\n            <div className=\"form-row\">\n              <input\n                type=\"date\"\n                placeholder=\"Ngày giao việc\"\n                value={newJob.deliveryDate}\n                onChange={(e) => setNewJob({...newJob, deliveryDate: e.target.value})}\n              />\n              <select\n                value={newJob.department}\n                onChange={(e) => setNewJob({...newJob, department: e.target.value})}\n              >\n                <option value=\"\">Chọn bộ phận</option>\n                {departments.map(dept => (\n                  <option key={dept} value={dept}>{dept}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <input\n                type=\"text\"\n                placeholder=\"Mô tả công việc\"\n                value={newJob.description}\n                onChange={(e) => setNewJob({...newJob, description: e.target.value})}\n              />\n              <select\n                value={newJob.assignee}\n                onChange={(e) => setNewJob({...newJob, assignee: e.target.value})}\n                className=\"job-select\"\n              >\n                <option value=\"\">Chọn người nhận việc</option>\n                {users.filter(user => user.department === newJob.department).map(user => (\n                  <option key={user.id} value={user.fullName}>\n                    {user.fullName} ({user.position})\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <input\n                type=\"date\"\n                placeholder=\"Thời gian hoàn thành\"\n                value={newJob.completionTime}\n                onChange={(e) => setNewJob({...newJob, completionTime: e.target.value})}\n              />\n            </div>\n            <div className=\"form-row\">\n              <select\n                value={newJob.status}\n                onChange={(e) => setNewJob({...newJob, status: e.target.value})}\n              >\n                <option value=\"\">Chọn trạng thái</option>\n                {statusOptions.map(status => (\n                  <option key={status} value={status}>{status}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-actions\">\n              <button onClick={handleAddJob} className=\"save-btn\">\n                💾 Lưu\n              </button>\n              <button onClick={() => setIsAdding(false)} className=\"cancel-btn\">\n                ❌ Hủy\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"job-list\">\n          <div className=\"job-item header\">\n            <div>📅 Ngày giao</div>\n            <div>🏢 Bộ phận</div>\n            <div>📝 Mô tả</div>\n            <div>👤 Người giao</div>\n            <div>🎯 Người nhận</div>\n            <div>⏰ Thời gian</div>\n            <div>📊 Trạng thái</div>\n            <div>📎 Bằng chứng</div>\n            <div>⚙️ Thao tác</div>\n          </div>\n          {filteredJobs.map(job => {\n            const isCompleted = job.status === 'thành công';\n            const canDelete = currentUser?.role === 'admin';\n            const canEdit = currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng';\n            \n            return (\n              <div key={job.id} className={`job-item ${isCompleted ? 'completed' : ''}`}>\n                <div data-label=\"Ngày giao\">\n                  <input\n                    type=\"date\"\n                    value={job.deliveryDate}\n                    onChange={(e) => handleUpdateJob(job.id, 'deliveryDate', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                  />\n                </div>\n                <div data-label=\"Bộ phận\">\n                  <select\n                    value={job.department}\n                    onChange={(e) => handleUpdateJob(job.id, 'department', e.target.value)}\n                    className=\"job-select\"\n                    disabled={isCompleted || !canEdit}\n                  >\n                    {departments.map(dept => (\n                      <option key={dept} value={dept}>{dept}</option>\n                    ))}\n                  </select>\n                </div>\n                <div data-label=\"Mô tả\">\n                  <input\n                    type=\"text\"\n                    value={job.description}\n                    onChange={(e) => handleUpdateJob(job.id, 'description', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                  />\n                </div>\n                <div data-label=\"Người giao\">\n                  <input\n                    type=\"text\"\n                    value={job.assigner || ''}\n                    onChange={(e) => handleUpdateJob(job.id, 'assigner', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                    placeholder=\"Người giao việc\"\n                  />\n                </div>\n                <div data-label=\"Người nhận\">\n                  <select\n                    value={job.assignee || ''}\n                    onChange={(e) => handleUpdateJob(job.id, 'assignee', e.target.value)}\n                    className=\"job-select\"\n                    disabled={isCompleted || !canEdit}\n                  >\n                    <option value=\"\">Chọn người nhận việc</option>\n                    {users.filter(user => user.department === job.department).map(user => (\n                      <option key={user.id} value={user.fullName}>\n                        {user.fullName} ({user.position})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div data-label=\"Thời gian\">\n                  <input\n                    type=\"date\"\n                    value={job.completionTime}\n                    onChange={(e) => handleUpdateJob(job.id, 'completionTime', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                  />\n                </div>\n                <div data-label=\"Trạng thái\">\n                  <select\n                    value={job.status}\n                    onChange={(e) => handleUpdateJob(job.id, 'status', e.target.value)}\n                    className=\"job-select\"\n                    disabled={isCompleted}\n                  >\n                    <option value=\"\">Chọn trạng thái</option>\n                    {statusOptions.map(status => (\n                      <option key={status} value={status}>\n                        {status === 'nhận việc' ? '📋 Nhận việc' :\n                         status === 'đang xử lý' ? '⏳ Đang xử lý' :\n                         status === 'chờ duyệt' ? '⏸️ Chờ duyệt' :\n                         status === 'thành công' ? '✅ Thành công' :\n                         status === 'thất bại' ? '❌ Thất bại' : status}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div data-label=\"Bằng chứng\">\n                  <div className=\"evidence-section\">\n                    {job.completionEvidence && job.completionEvidence.length > 0 ? (\n                      <div className=\"evidence-preview\">\n                        <span className=\"evidence-count\">\n                          📎 {job.completionEvidence.length} file(s)\n                        </span>\n                        <button \n                          className=\"view-evidence-btn\"\n                          onClick={() => openEvidenceModal(job)}\n                          title=\"Xem bằng chứng\"\n                        >\n                          👁️\n                        </button>\n                      </div>\n                    ) : (\n                      <div className=\"upload-section\">\n                        <input\n                          type=\"file\"\n                          id={`upload-${job.id}`}\n                          multiple\n                          accept=\"image/*,video/*\"\n                          onChange={(e) => handleFileUpload(job.id, e.target.files)}\n                          className=\"file-input\"\n                          disabled={uploadingFiles[job.id]}\n                          title=\"Chọn hình ảnh hoặc video (tối đa 50MB mỗi file)\"\n                        />\n                        <label \n                          htmlFor={`upload-${job.id}`}\n                          className={`upload-btn ${uploadingFiles[job.id] ? 'uploading' : ''}`}\n                        >\n                          {uploadingFiles[job.id] ? '⏳ Uploading...' : '📤 Upload'}\n                        </label>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                <div data-label=\"Thao tác\">\n                  {canDelete ? (\n                    <button \n                      onClick={() => handleDeleteJob(job.id)}\n                      className=\"delete-btn\"\n                    >\n                      🗑️ Xóa\n                    </button>\n                  ) : (\n                    <span className=\"no-permission\">❌ Không có quyền</span>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n\n      {/* Evidence Modal */}\n      {showEvidenceModal && selectedJob && (\n        <div className=\"modal-overlay\" onClick={() => setShowEvidenceModal(false)}>\n          <div className=\"modal-content evidence-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>📎 Bằng chứng hoàn thành: {selectedJob.description}</h3>\n              <button \n                className=\"close-btn\"\n                onClick={() => setShowEvidenceModal(false)}\n              >\n                ❌\n              </button>\n            </div>\n            \n            <div className=\"modal-body\">\n              <div className=\"job-info\">\n                <p><strong>Bộ phận:</strong> {selectedJob.department}</p>\n                <p><strong>Người thực hiện:</strong> {selectedJob.assignee}</p>\n                <p><strong>Ngày giao:</strong> {new Date(selectedJob.deliveryDate).toLocaleDateString('vi-VN')}</p>\n                <p><strong>Hạn hoàn thành:</strong> {selectedJob.completionTime}</p>\n              </div>\n              \n              <div className=\"evidence-gallery\">\n                {selectedJob.completionEvidence && selectedJob.completionEvidence.length > 0 ? (\n                  selectedJob.completionEvidence.map((evidence, index) => (\n                    <div key={index} className=\"evidence-item\">\n                      <div className=\"evidence-header\">\n                        <span className=\"evidence-name\">{evidence.name}</span>\n                        <div className=\"evidence-actions\">\n                          <span className=\"evidence-size\">\n                            {(evidence.size / 1024 / 1024).toFixed(2)} MB\n                          </span>\n                          <button \n                            className=\"remove-evidence-btn\"\n                            onClick={() => removeEvidence(selectedJob.id, index)}\n                            title=\"Xóa file\"\n                          >\n                            🗑️\n                          </button>\n                        </div>\n                      </div>\n                      \n                      <div className=\"evidence-preview\">\n                        {evidence.type.startsWith('image/') ? (\n                          <img \n                            src={evidence.data} \n                            alt={evidence.name}\n                            className=\"evidence-image\"\n                            onClick={() => window.open(evidence.data, '_blank')}\n                          />\n                        ) : evidence.type.startsWith('video/') ? (\n                          <video \n                            src={evidence.data}\n                            controls\n                            className=\"evidence-video\"\n                          >\n                            Trình duyệt không hỗ trợ video\n                          </video>\n                        ) : (\n                          <div className=\"evidence-file\">\n                            <div className=\"file-icon\">📄</div>\n                            <div className=\"file-name\">{evidence.name}</div>\n                            <a \n                              href={evidence.data} \n                              download={evidence.name}\n                              className=\"download-btn\"\n                            >\n                              📥 Tải xuống\n                            </a>\n                          </div>\n                        )}\n                      </div>\n                      \n                      <div className=\"evidence-meta\">\n                        <span className=\"upload-date\">\n                          📅 {new Date(evidence.uploadDate).toLocaleString('vi-VN')}\n                        </span>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-evidence\">\n                    <p>📭 Chưa có bằng chứng nào được upload</p>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"modal-actions\">\n                <input\n                  type=\"file\"\n                  id=\"modal-upload\"\n                  multiple\n                  accept=\"image/*,video/*\"\n                  onChange={(e) => {\n                    handleFileUpload(selectedJob.id, e.target.files);\n                    e.target.value = ''; // Reset input\n                  }}\n                  className=\"file-input\"\n                  disabled={uploadingFiles[selectedJob.id]}\n                  title=\"Chọn hình ảnh hoặc video (tối đa 50MB mỗi file)\"\n                />\n                <label \n                  htmlFor=\"modal-upload\"\n                  className={`upload-btn modal-upload-btn ${uploadingFiles[selectedJob.id] ? 'uploading' : ''}`}\n                >\n                  {uploadingFiles[selectedJob.id] ? '⏳ Đang upload...' : '📤 Thêm bằng chứng'}\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n  };\n\n  // User Management Component\n  const UserManagement = ({ users, onUpdateUsers, currentUser }) => {\n    const [newUser, setNewUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: currentUser?.department || '',\n      position: '',\n      role: 'user'\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [editingUser, setEditingUser] = useState(null);\n    const [editUser, setEditUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: '',\n      position: '',\n      role: 'user'\n    });\n    const [searchTerm, setSearchTerm] = useState('');\n    const [departmentFilter, setDepartmentFilter] = useState('');\n    const [showPasswords, setShowPasswords] = useState({});\n\n    // Lọc users theo bộ phận của user (trừ admin)\n    const getFilteredUsersByDepartment = () => {\n      if (currentUser?.role === 'admin') {\n        return users; // Admin thấy tất cả\n      }\n      return users.filter(user => user.department === currentUser?.department);\n    };\n\n    const departments = [\n      'Kho Phôi', 'Sản Xuất', 'Đóng gói',\n      'Kho & Trải Cắt', 'Quản lý'\n    ];\n\n    const positions = ['Quản lý', 'Tổ trưởng', 'Tổ phó', 'Nhân viên'];\n\n    // Filter users based on search and department (sau khi đã lọc theo bộ phận)\n    const departmentFilteredUsers = getFilteredUsersByDepartment();\n    const filteredUsers = departmentFilteredUsers.filter(user => {\n      const matchesSearch = !searchTerm || \n        user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.department.toLowerCase().includes(searchTerm.toLowerCase());\n      \n      const matchesDepartment = !departmentFilter || user.department === departmentFilter;\n      \n      return matchesSearch && matchesDepartment;\n    });\n\n    const totalUsers = departmentFilteredUsers.length;\n    const filteredCount = filteredUsers.length;\n\n    const togglePasswordVisibility = (userId) => {\n      setShowPasswords(prev => ({\n        ...prev,\n        [userId]: !prev[userId]\n      }));\n    };\n\n    const handleAddUser = () => {\n      if (!newUser.username || !newUser.password || !newUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n\n      const user = {\n        id: Date.now(),\n        ...newUser\n      };\n\n      const updatedUsers = [...users, user];\n      onUpdateUsers(updatedUsers);\n      \n      setNewUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n      setIsAdding(false);\n    };\n\n    const handleDeleteUser = (id) => {\n      if (id === currentUser.id) {\n        alert('Không thể xóa tài khoản đang đăng nhập');\n        return;\n      }\n      \n      if (confirm('Bạn có chắc muốn xóa người dùng này?')) {\n        const updatedUsers = users.filter(user => user.id !== id);\n        onUpdateUsers(updatedUsers);\n      }\n    };\n\n    const handleEditUser = (user) => {\n      setEditingUser(user.id);\n      setEditUser({\n        username: user.username,\n        password: user.password,\n        fullName: user.fullName,\n        department: user.department,\n        position: user.position,\n        role: user.role\n      });\n    };\n\n    const handleSaveEdit = () => {\n      if (!editUser.username || !editUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n\n      const updatedUsers = users.map(user => \n        user.id === editingUser ? { ...user, ...editUser } : user\n      );\n      onUpdateUsers(updatedUsers);\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n\n    const handleCancelEdit = () => {\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n\n  return (\n      <div className=\"user-management\">\n        <div className=\"user-header\">\n            <div className=\"header-info\">\n            <h2>👥 Quản lý người dùng</h2>\n            <div className=\"user-stats\">\n              <span className=\"total-users\">Tổng: {totalUsers} người dùng</span>\n              <span className=\"filtered-users\">Hiển thị: {filteredCount}/{totalUsers}</span>\n              {currentUser?.role !== 'admin' && (\n                <span className=\"department-info\"> (Bộ phận: {currentUser?.department})</span>\n              )}\n            </div>\n              </div>\n          {(currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') && (\n            <button \n              className=\"add-btn\"\n              onClick={() => setIsAdding(true)}\n            >\n              ➕ Thêm người dùng\n            </button>\n          )}\n            </div>\n\n        <div className=\"user-filters\">\n          <div className=\"filter-group\">\n            <label>🔍 Tìm kiếm:</label>\n            <input\n              type=\"text\"\n              placeholder=\"Nhập tên, username hoặc bộ phận...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"search-input\"\n            />\n            </div>\n          \n          <div className=\"filter-group\">\n            <label>🏢 Bộ phận:</label>\n            <select\n              value={departmentFilter}\n              onChange={(e) => setDepartmentFilter(e.target.value)}\n              className=\"department-select\"\n            >\n              <option value=\"\">Tất cả bộ phận</option>\n              {departments.map(dept => (\n                <option key={dept} value={dept}>{dept}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"filter-actions\">\n          <button \n              onClick={() => {\n                setSearchTerm('');\n                setDepartmentFilter('');\n              }}\n              className=\"clear-filters-btn\"\n            >\n              🗑️ Xóa bộ lọc\n          </button>\n          </div>\n        </div>\n\n        {isAdding && (\n          <div className=\"add-user-form\">\n            <h3>Thêm người dùng mới</h3>\n            <div className=\"form-row\">\n              <input\n                type=\"text\"\n                placeholder=\"Tên đăng nhập\"\n                value={newUser.username}\n                onChange={(e) => setNewUser({...newUser, username: e.target.value})}\n              />\n              <input\n                type=\"password\"\n                placeholder=\"Mật khẩu\"\n                value={newUser.password}\n                onChange={(e) => setNewUser({...newUser, password: e.target.value})}\n              />\n            </div>\n            <div className=\"form-row\">\n              <input\n                type=\"text\"\n                placeholder=\"Họ tên\"\n                value={newUser.fullName}\n                onChange={(e) => setNewUser({...newUser, fullName: e.target.value})}\n              />\n              <select\n                value={newUser.department}\n                onChange={(e) => setNewUser({...newUser, department: e.target.value})}\n              >\n                <option value=\"\">Chọn bộ phận</option>\n                {departments.map(dept => (\n                  <option key={dept} value={dept}>{dept}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <select\n                value={newUser.position}\n                onChange={(e) => setNewUser({...newUser, position: e.target.value})}\n              >\n                <option value=\"\">Chọn vị trí</option>\n                {positions.map(pos => (\n                  <option key={pos} value={pos}>{pos}</option>\n                ))}\n              </select>\n              <select\n                value={newUser.role}\n                onChange={(e) => setNewUser({...newUser, role: e.target.value})}\n              >\n                <option value=\"user\">Người dùng</option>\n                <option value=\"admin\">Quản trị viên</option>\n              </select>\n            </div>\n            <div className=\"form-actions\">\n              <button onClick={handleAddUser} className=\"save-btn\">\n                💾 Lưu\n            </button>\n              <button onClick={() => setIsAdding(false)} className=\"cancel-btn\">\n                ❌ Hủy\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"user-list\">\n          <div className=\"user-item header\">\n            <div>Họ tên</div>\n            <div>Tên đăng nhập</div>\n            <div>Mật khẩu</div>\n            <div>Bộ phận</div>\n            <div>Vị trí</div>\n            <div>Quyền</div>\n            <div>Thao tác</div>\n          </div>\n          {filteredUsers.map(user => (\n            <div key={user.id} className=\"user-item\">\n              {editingUser === user.id ? (\n                <>\n                  <div data-label=\"Họ tên\">\n                    <input\n                      type=\"text\"\n                      value={editUser.fullName}\n                      onChange={(e) => setEditUser({...editUser, fullName: e.target.value})}\n                      className=\"edit-input\"\n                    />\n                  </div>\n                  <div data-label=\"Tên đăng nhập\">\n                    <input\n                      type=\"text\"\n                      value={editUser.username}\n                      onChange={(e) => setEditUser({...editUser, username: e.target.value})}\n                      className=\"edit-input\"\n                    />\n                  </div>\n                  <div data-label=\"Mật khẩu\">\n                    <input\n                      type=\"password\"\n                      value={editUser.password}\n                      onChange={(e) => setEditUser({...editUser, password: e.target.value})}\n                      className=\"edit-input\"\n                      placeholder=\"Mật khẩu mới\"\n                    />\n                  </div>\n                  <div data-label=\"Bộ phận\">\n                    <select\n                      value={editUser.department}\n                      onChange={(e) => setEditUser({...editUser, department: e.target.value})}\n                      className=\"edit-select\"\n                    >\n                      <option value=\"\">Chọn bộ phận</option>\n                      {departments.map(dept => (\n                        <option key={dept} value={dept}>{dept}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div data-label=\"Vị trí\">\n                    <select\n                      value={editUser.position}\n                      onChange={(e) => setEditUser({...editUser, position: e.target.value})}\n                      className=\"edit-select\"\n                    >\n                      <option value=\"\">Chọn vị trí</option>\n                      {positions.map(pos => (\n                        <option key={pos} value={pos}>{pos}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div data-label=\"Quyền\">\n                    <select\n                      value={editUser.role}\n                      onChange={(e) => setEditUser({...editUser, role: e.target.value})}\n                      className=\"edit-select\"\n                    >\n                      <option value=\"user\">Người dùng</option>\n                      <option value=\"admin\">Quản trị viên</option>\n                    </select>\n                  </div>\n                  <div data-label=\"Thao tác\">\n                    <button onClick={handleSaveEdit} className=\"save-btn\">\n                      💾 Lưu\n                    </button>\n                    <button onClick={handleCancelEdit} className=\"cancel-btn\">\n                      ❌ Hủy\n                    </button>\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div data-label=\"Họ tên\">{user.fullName}</div>\n                  <div data-label=\"Tên đăng nhập\">{user.username}</div>\n                  <div data-label=\"Mật khẩu\" className=\"password-display\">\n                    <span className=\"password-text\">\n                      {showPasswords[user.id] ? user.password : '••••••••'}\n                    </span>\n                    <button \n                      className=\"password-toggle-btn\"\n                      onClick={() => togglePasswordVisibility(user.id)}\n                      title={showPasswords[user.id] ? 'Ẩn mật khẩu' : 'Hiện mật khẩu'}\n                    >\n                      {showPasswords[user.id] ? '🙈' : '👁️'}\n                    </button>\n                  </div>\n                  <div data-label=\"Bộ phận\">{user.department}</div>\n                  <div data-label=\"Vị trí\">{user.position}</div>\n                  <div data-label=\"Quyền\">{user.role === 'admin' ? 'Quản trị' : 'Người dùng'}</div>\n                  <div data-label=\"Thao tác\">\n                    {(currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') && (\n                      <>\n                        <button \n                          onClick={() => handleEditUser(user)}\n                          className=\"edit-btn\"\n                        >\n                          ✏️ Sửa\n                        </button>\n                        <button \n                          onClick={() => handleDeleteUser(user.id)}\n                          className=\"delete-btn\"\n                          disabled={user.id === currentUser.id}\n                        >\n                          🗑️ Xóa\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n  };\n\n  // Render\n  if (!isAuthenticated) {\n    return <LoginForm />;\n}\n\n  return <MainApp />;\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}