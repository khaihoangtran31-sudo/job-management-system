{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Qly_CV\\\\src\\\\App.js\",\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport './App.css';\n\n// API Client - Tự động detect IP máy chủ với fallback\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getApiBase = () => {\n  // Nếu đang chạy trên localhost, sử dụng localhost\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:5001';\n  }\n  // Nếu truy cập từ IP khác, sử dụng IP đó\n  const apiUrl = `http://${window.location.hostname}:5001`;\n  console.log('🔍 API Base URL:', apiUrl);\n  return apiUrl;\n};\n\n// Danh sách các URL để thử kết nối\nconst getApiUrls = () => {\n  const hostname = window.location.hostname;\n  const urls = [];\n\n  // Nếu đang trên localhost\n  if (hostname === 'localhost' || hostname === '127.0.0.1') {\n    urls.push('http://localhost:5001');\n    urls.push('http://127.0.0.1:5001');\n  } else {\n    // Nếu đang trên IP khác, thử IP đó trước\n    urls.push(`http://${hostname}:5001`);\n    urls.push('http://localhost:5001');\n    urls.push('http://127.0.0.1:5001');\n  }\n  return urls;\n};\nconst API_BASE = getApiBase();\nconst apiClient = {\n  async request(endpoint, options = {}) {\n    const urlsToTry = getApiUrls();\n    for (const baseUrl of urlsToTry) {\n      try {\n        const url = `${baseUrl}${endpoint}`;\n        const config = {\n          headers: {\n            'Content-Type': 'application/json',\n            ...options.headers\n          },\n          ...options\n        };\n        console.log(`🔍 Thử kết nối đến: ${url}`);\n        const response = await fetch(url, config);\n        const data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.error || `HTTP ${response.status}`);\n        }\n\n        // Nếu thành công, cập nhật API_BASE cho các request tiếp theo\n        if (baseUrl !== API_BASE) {\n          window.API_BASE = baseUrl;\n          console.log(`✅ Đã cập nhật API_BASE thành: ${baseUrl}`);\n        }\n        return data;\n      } catch (error) {\n        console.log(`❌ Không thể kết nối đến ${baseUrl}:`, error.message);\n        // Tiếp tục thử URL tiếp theo\n        continue;\n      }\n    }\n\n    // Nếu tất cả URL đều thất bại\n    throw new Error('Không thể kết nối đến server. Vui lòng kiểm tra kết nối mạng.');\n  },\n  async login(username, password) {\n    try {\n      const response = await this.request('/api/login', {\n        method: 'POST',\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        error: 'Không thể kết nối server'\n      };\n    }\n  },\n  async getUsers() {\n    try {\n      const response = await this.request('/api/users');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy users:', error);\n      return [];\n    }\n  },\n  async updateUsers(users) {\n    try {\n      const response = await this.request('/api/users', {\n        method: 'POST',\n        body: JSON.stringify({\n          users\n        })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n      return false;\n    }\n  },\n  async getJobs() {\n    try {\n      const response = await this.request('/api/jobs');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy jobs:', error);\n      return [];\n    }\n  },\n  async updateJobs(jobs) {\n    try {\n      const response = await this.request('/api/jobs', {\n        method: 'POST',\n        body: JSON.stringify({\n          jobs\n        })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n      return false;\n    }\n  }\n};\nfunction App() {\n  _s6();\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n  // Authentication state\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loginError, setLoginError] = useState('');\n\n  // Data state\n  const [users, setUsers] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [activeTab, setActiveTab] = useState('list');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Authentication functions\n  const handleLogin = async (username, password) => {\n    try {\n      setLoginError('');\n      const response = await apiClient.login(username, password);\n      if (response.success) {\n        setCurrentUser(response.user);\n        setIsAuthenticated(true);\n        localStorage.setItem('currentUser', JSON.stringify(response.user));\n        console.log('✅ Đăng nhập thành công:', response.user.fullName);\n      } else {\n        setLoginError(response.error || 'Đăng nhập thất bại');\n      }\n    } catch (error) {\n      console.error('❌ Lỗi đăng nhập:', error);\n      setLoginError('Không thể kết nối server. Vui lòng thử lại.');\n    }\n  };\n  const handleLogout = () => {\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setLoginError('');\n    localStorage.removeItem('currentUser');\n  };\n\n  // Load users\n  const loadUsers = useCallback(async () => {\n    try {\n      const usersData = await apiClient.getUsers();\n      if (Array.isArray(usersData)) {\n        setUsers(usersData);\n        console.log('✅ Đã tải users:', usersData.length, 'users');\n      } else {\n        setUsers([]);\n      }\n    } catch (error) {\n      console.error('❌ Lỗi khi tải users:', error);\n      setUsers([]);\n    }\n  }, []);\n\n  // Load jobs\n  const loadJobs = useCallback(async () => {\n    try {\n      const jobsData = await apiClient.getJobs();\n      if (Array.isArray(jobsData)) {\n        setJobs(jobsData);\n        console.log('✅ Đã tải jobs:', jobsData.length, 'jobs');\n      } else {\n        setJobs([]);\n      }\n    } catch (error) {\n      console.error('❌ Lỗi khi tải jobs:', error);\n      setJobs([]);\n    }\n  }, []);\n\n  // Update users\n  const handleUpdateUsers = async updatedUsers => {\n    try {\n      setUsers(updatedUsers);\n      await apiClient.updateUsers(updatedUsers);\n      console.log('✅ Đã cập nhật users');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n    }\n  };\n\n  // Update jobs\n  const handleUpdateJobs = async updatedJobs => {\n    try {\n      setJobs(updatedJobs);\n      await apiClient.updateJobs(updatedJobs);\n      console.log('✅ Đã cập nhật jobs');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n    }\n  };\n\n  // Check authentication on load\n  useEffect(() => {\n    const savedUser = localStorage.getItem('currentUser');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n        console.log('✅ Đã khôi phục phiên đăng nhập:', user.fullName);\n      } catch (error) {\n        localStorage.removeItem('currentUser');\n      }\n    }\n  }, []);\n\n  // Kiểm tra quyền truy cập tab khi user thay đổi\n  useEffect(() => {\n    if (currentUser) {\n      // Nếu user không có quyền truy cập tab hiện tại, chuyển về tab mặc định\n      const hasAccessToCurrentTab = () => {\n        switch (activeTab) {\n          case 'dashboard':\n          case 'salary':\n            return currentUser.role === 'admin' || currentUser.position === 'Tổ trưởng';\n          case 'users':\n            return currentUser.role === 'admin';\n          case 'list':\n          default:\n            return true;\n          // Tất cả user đều có quyền truy cập tab công việc\n        }\n      };\n      if (!hasAccessToCurrentTab()) {\n        setActiveTab('list');\n      }\n    }\n  }, [currentUser, activeTab]);\n\n  // Test server connection with fallback\n  const testServerConnection = useCallback(async () => {\n    const urlsToTry = [API_BASE, 'http://localhost:5001', `http://${window.location.hostname}:5001`];\n    for (const url of urlsToTry) {\n      try {\n        console.log(`🔍 Đang thử kết nối đến: ${url}`);\n        const response = await fetch(`${url}/api/health`, {\n          method: 'GET',\n          timeout: 5000\n        });\n        if (response.ok) {\n          const data = await response.json();\n          console.log('✅ Server đang hoạt động:', data);\n          // Update API_BASE to working URL\n          if (url !== API_BASE) {\n            console.log(`🔄 Cập nhật API_BASE từ ${API_BASE} thành ${url}`);\n            window.API_BASE = url;\n          }\n          return true;\n        }\n      } catch (error) {\n        console.log(`❌ Không thể kết nối đến ${url}:`, error.message);\n        continue;\n      }\n    }\n    console.error('❌ Không thể kết nối đến server từ bất kỳ URL nào');\n    return false;\n  }, []);\n\n  // Load data on mount\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadUsers();\n      loadJobs();\n      // Test server connection on mount\n      testServerConnection();\n    }\n  }, [isAuthenticated, testServerConnection]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (!isAuthenticated) return;\n\n      // Ctrl/Cmd + N: Thêm công việc mới\n      if ((e.ctrlKey || e.metaKey) && e.key === 'n') {\n        e.preventDefault();\n        if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n          setIsAdding(true);\n        }\n      }\n\n      // Ctrl/Cmd + F: Focus vào ô tìm kiếm\n      if ((e.ctrlKey || e.metaKey) && e.key === 'f') {\n        e.preventDefault();\n        const searchInput = document.querySelector('.filter-input');\n        if (searchInput) searchInput.focus();\n      }\n\n      // Escape: Đóng form thêm/sửa\n      if (e.key === 'Escape') {\n        setIsAdding(false);\n        setEditingUser(null);\n      }\n    };\n    document.addEventListener('keydown', handleKeyPress);\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  }, [isAuthenticated, currentUser]);\n\n  // Tự động kiểm tra và cập nhật trạng thái công việc trễ hạn\n  useEffect(() => {\n    if (isAuthenticated && jobs.length > 0) {\n      checkAndUpdateOverdueJobs();\n    }\n  }, [isAuthenticated, jobs]);\n\n  // Kiểm tra deadline và hiển thị thông báo nhắc nhở\n  const getUpcomingDeadlines = () => {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(today.getDate() + 1);\n    return jobs.filter(job => {\n      if (!job.completionTime || job.status === 'thành công') return false;\n\n      // Lọc theo bộ phận của người dùng hiện tại\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && job.department !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department)) {\n        return false;\n      }\n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n      // Nhắc nhở trước 1 ngày (0-1 ngày)\n      return daysDiff >= 0 && daysDiff <= 1;\n    });\n  };\n\n  // Hàm kiểm tra và cập nhật trạng thái công việc trễ hạn\n  const checkAndUpdateOverdueJobs = () => {\n    const today = new Date();\n    const overdueJobs = [];\n    const updatedJobs = jobs.map(job => {\n      // Chỉ cập nhật nếu công việc chưa hoàn thành và có ngày hoàn thành\n      if (job.status !== 'thành công' && job.status !== 'thất bại' && job.completionTime) {\n        const completionDate = new Date(job.completionTime);\n        const timeDiff = completionDate.getTime() - today.getTime();\n        const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n        // Nếu trễ hạn (ngày hoàn thành đã qua)\n        if (daysDiff < 0) {\n          overdueJobs.push(job);\n          return {\n            ...job,\n            status: 'thất bại'\n          };\n        }\n      }\n      return job;\n    });\n\n    // Cập nhật danh sách công việc nếu có thay đổi\n    const hasChanges = updatedJobs.some((job, index) => job.status !== jobs[index].status);\n    if (hasChanges) {\n      handleUpdateJobs(updatedJobs);\n\n      // Hiển thị thông báo về các công việc trễ hạn\n      if (overdueJobs.length > 0) {\n        const overdueList = overdueJobs.map(job => `• ${job.description} (${job.department})`).join('\\n');\n        alert(`⚠️ CẢNH BÁO: ${overdueJobs.length} công việc đã trễ hạn và được tự động cập nhật thành \"thất bại\":\\n\\n${overdueList}`);\n      }\n    }\n  };\n  const upcomingDeadlines = getUpcomingDeadlines();\n\n  // Reminder Notification Component\n  const ReminderNotification = ({\n    deadlines\n  }) => {\n    if (deadlines.length === 0) return null;\n    const getReminderMessage = job => {\n      const today = new Date();\n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      if (daysDiff === 0) {\n        return `⚠️ Hôm nay là deadline: \"${job.description}\"`;\n      } else if (daysDiff === 1) {\n        return `⏰ Ngày mai deadline: \"${job.description}\"`;\n      }\n      return `📅 Còn ${daysDiff} ngày: \"${job.description}\"`;\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reminder-notification\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reminder-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD14 Nh\\u1EAFc nh\\u1EDF deadline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"reminder-count\",\n          children: [deadlines.length, \" c\\xF4ng vi\\u1EC7c\", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"department-info\",\n            children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reminder-list\",\n        children: deadlines.map(job => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reminder-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reminder-message\",\n            children: getReminderMessage(job)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reminder-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder-department\",\n              children: [\"\\uD83C\\uDFE2 \", job.department]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder-assignee\",\n              children: [\"\\uD83D\\uDC64 \", job.assigner || 'Chưa giao', \" \\u2192 \", job.assignee || 'Chưa giao']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"reminder-date\",\n              children: [\"\\uD83D\\uDCC5 \", new Date(job.completionTime).toLocaleDateString('vi-VN')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `reminder-status status-${job.status}`,\n              children: job.status === 'nhận việc' ? '📋 Nhận việc' : job.status === 'đang xử lý' ? '⏳ Đang xử lý' : job.status === 'chờ duyệt' ? '⏸️ Chờ duyệt' : job.status === 'thất bại' ? '❌ Thất bại' : '✅ Thành công'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this)]\n        }, job.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Login Form Component\n  const LoginForm = () => {\n    _s();\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const handleSubmit = e => {\n      e.preventDefault();\n      if (username && password) {\n        handleLogin(username, password);\n      } else {\n        setLoginError('Vui lòng nhập đầy đủ thông tin');\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDD10 \\u0110\\u0103ng nh\\u1EADp h\\u1EC7 th\\u1ED1ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              placeholder: \"Nh\\u1EADp username\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"M\\u1EADt kh\\u1EA9u:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              placeholder: \"Nh\\u1EADp password\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: [\"\\u274C \", loginError]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"login-btn\",\n            children: \"\\uD83D\\uDE80 \\u0110\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Main App Component\n  _s(LoginForm, \"wuQOK7xaXdVz4RMrZQhWbI751Oc=\");\n  const MainApp = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\uD83D\\uDCCB Danh s\\xE1ch vi\\u1EC7c l\\xE0m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Qu\\u1EA3n l\\xFD v\\xE0 theo d\\xF5i ti\\u1EBFn \\u0111\\u1ED9 c\\xF4ng vi\\u1EC7c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-name\",\n                  children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-department\",\n                  children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.department\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"user-position\",\n                  children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.position\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleLogout,\n                  className: \"logout-btn\",\n                  children: \"\\uD83D\\uDEAA \\u0110\\u0103ng xu\\u1EA5t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-navigation\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'list' ? 'active' : ''}`,\n            onClick: () => setActiveTab('list'),\n            title: \"Ctrl+F: T\\xECm ki\\u1EBFm, Ctrl+N: Th\\xEAm m\\u1EDBi\",\n            children: \"\\uD83D\\uDCCB Qu\\u1EA3n l\\xFD c\\xF4ng vi\\u1EC7c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 11\n          }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'dashboard' ? 'active' : ''}`,\n            onClick: () => setActiveTab('dashboard'),\n            children: \"\\uD83D\\uDCCA Dashboard & Th\\u1ED1ng k\\xEA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'salary' ? 'active' : ''}`,\n            onClick: () => setActiveTab('salary'),\n            children: \"\\uD83D\\uDCCA \\u0110\\xE1nh gi\\xE1 KPI nh\\xE2n s\\u1EF1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === 'users' ? 'active' : ''}`,\n            onClick: () => setActiveTab('users'),\n            children: \"\\uD83D\\uDC65 Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-content\",\n          children: [/*#__PURE__*/_jsxDEV(ReminderNotification, {\n            deadlines: upcomingDeadlines\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 9\n          }, this), activeTab === 'list' && /*#__PURE__*/_jsxDEV(JobManagement, {\n            jobs: jobs,\n            onUpdateJobs: handleUpdateJobs,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this), activeTab === 'dashboard' && /*#__PURE__*/_jsxDEV(Dashboard, {\n            jobs: jobs,\n            users: users,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 11\n          }, this), activeTab === 'salary' && /*#__PURE__*/_jsxDEV(KPIEvaluation, {\n            users: users,\n            jobs: jobs,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, this), activeTab === 'users' && /*#__PURE__*/_jsxDEV(UserManagement, {\n            users: users,\n            onUpdateUsers: handleUpdateUsers,\n            currentUser: currentUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 5\n    }, this);\n  };\n\n  // Dashboard Component\n  const Dashboard = ({\n    jobs,\n    users,\n    currentUser\n  }) => {\n    _s2();\n    const [timeFilter, setTimeFilter] = useState('all'); // all, week, month, quarter, year\n    const [departmentFilter, setDepartmentFilter] = useState('all');\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [isRefreshing, setIsRefreshing] = useState(false);\n    const [autoRefresh, setAutoRefresh] = useState(true);\n\n    // Auto refresh effect\n    useEffect(() => {\n      if (!autoRefresh) return;\n      const interval = setInterval(() => {\n        setRefreshKey(prev => prev + 1);\n      }, 30000); // Refresh every 30 seconds\n\n      return () => clearInterval(interval);\n    }, [autoRefresh]);\n\n    // Manual refresh function\n    const handleRefresh = async () => {\n      setIsRefreshing(true);\n      setRefreshKey(prev => prev + 1);\n      setTimeout(() => setIsRefreshing(false), 1000);\n    };\n\n    // Filter jobs by time period\n    const getFilteredJobs = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      let filteredJobs = jobs;\n\n      // Filter by time period\n      switch (timeFilter) {\n        case 'today':\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly.getTime() === today.getTime();\n          });\n          break;\n        case 'week':\n          const weekStart = new Date(today);\n          weekStart.setDate(today.getDate() - today.getDay());\n          const weekEnd = new Date(weekStart);\n          weekEnd.setDate(weekStart.getDate() + 6);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n          });\n          break;\n        case 'month':\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n          const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n          });\n          break;\n        case 'quarter':\n          const quarter = Math.floor(today.getMonth() / 3);\n          const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n          const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n          });\n          break;\n        case 'year':\n          const yearStart = new Date(today.getFullYear(), 0, 1);\n          const yearEnd = new Date(today.getFullYear(), 11, 31);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n          });\n          break;\n        default:\n          filteredJobs = jobs;\n      }\n\n      // Filter by department\n      if (departmentFilter !== 'all') {\n        filteredJobs = filteredJobs.filter(job => job.department === departmentFilter);\n      }\n      return filteredJobs;\n    };\n    const filteredJobs = getFilteredJobs();\n\n    // Debug information\n    console.log('Dashboard Filter Debug:', {\n      timeFilter,\n      departmentFilter,\n      totalJobs: jobs.length,\n      filteredJobs: filteredJobs.length,\n      sampleJobs: jobs.slice(0, 3).map(job => ({\n        id: job.id,\n        deliveryDate: job.deliveryDate,\n        department: job.department,\n        status: job.status\n      }))\n    });\n    const stats = {\n      totalJobs: filteredJobs.length,\n      completedJobs: filteredJobs.filter(job => job.status === 'thành công').length,\n      pendingJobs: filteredJobs.filter(job => job.status === 'nhận việc' || job.status === 'đang xử lý' || job.status === 'chờ duyệt').length,\n      failedJobs: filteredJobs.filter(job => job.status === 'thất bại').length,\n      totalUsers: users.length,\n      activeUsers: users.filter(user => user.role !== 'inactive').length\n    };\n    const departmentStats = filteredJobs.reduce((acc, job) => {\n      if (!acc[job.department]) {\n        acc[job.department] = {\n          total: 0,\n          completed: 0,\n          pending: 0,\n          failed: 0,\n          inProgress: 0,\n          waiting: 0,\n          percentage: 0,\n          avgCompletionTime: 0,\n          onTimeRate: 0,\n          overdue: 0\n        };\n      }\n      acc[job.department].total += 1;\n\n      // Count by status\n      switch (job.status) {\n        case 'thành công':\n          acc[job.department].completed += 1;\n          break;\n        case 'nhận việc':\n        case 'đang xử lý':\n        case 'chờ duyệt':\n          acc[job.department].pending += 1;\n          if (job.status === 'đang xử lý') acc[job.department].inProgress += 1;\n          if (job.status === 'chờ duyệt') acc[job.department].waiting += 1;\n          break;\n        case 'thất bại':\n          acc[job.department].failed += 1;\n          break;\n      }\n\n      // Calculate completion time and overdue\n      if (job.completionTime && job.deliveryDate) {\n        const deliveryDate = new Date(job.deliveryDate);\n        const completionDate = new Date(job.completionTime);\n        const today = new Date();\n        if (job.status === 'thành công') {\n          const completionTime = Math.ceil((completionDate - deliveryDate) / (1000 * 60 * 60 * 24));\n          acc[job.department].avgCompletionTime = (acc[job.department].avgCompletionTime + completionTime) / 2;\n        }\n\n        // Check if overdue\n        if (job.status !== 'thành công' && job.status !== 'thất bại' && completionDate < today) {\n          acc[job.department].overdue += 1;\n        }\n      }\n      acc[job.department].percentage = Math.round(acc[job.department].completed / acc[job.department].total * 100);\n      acc[job.department].onTimeRate = Math.round((acc[job.department].completed - acc[job.department].overdue) / acc[job.department].completed * 100) || 0;\n      return acc;\n    }, {});\n    const statusStats = filteredJobs.reduce((acc, job) => {\n      acc[job.status] = (acc[job.status] || 0) + 1;\n      return acc;\n    }, {});\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uD83D\\uDCCA Dashboard & Th\\u1ED1ng k\\xEA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Xin ch\\xE0o \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName, \", \\u0111\\xE2y l\\xE0 t\\u1ED5ng quan h\\u1EC7 th\\u1ED1ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"refresh-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: `refresh-btn ${isRefreshing ? 'refreshing' : ''}`,\n                onClick: handleRefresh,\n                title: \"L\\xE0m m\\u1EDBi d\\u1EEF li\\u1EC7u\",\n                children: [isRefreshing ? '🔄' : '🔄', \" \", isRefreshing ? 'Đang tải...' : 'Làm mới']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"auto-refresh-toggle\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: autoRefresh,\n                  onChange: e => setAutoRefresh(e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"toggle-label\",\n                  children: \"T\\u1EF1 \\u0111\\u1ED9ng c\\u1EADp nh\\u1EADt (30s)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 837,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 823,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filter-badge\",\n                children: [\"\\uD83D\\uDCC5 \", timeFilter === 'all' ? 'Tất cả thời gian' : timeFilter === 'week' ? 'Tuần này' : timeFilter === 'month' ? 'Tháng này' : timeFilter === 'quarter' ? 'Quý này' : timeFilter === 'year' ? 'Năm này' : timeFilter]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 17\n              }, this), departmentFilter !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filter-badge\",\n                children: [\"\\uD83C\\uDFE2 \", departmentFilter]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"filter-badge\",\n                children: [\"\\uD83D\\uDCCA \", filteredJobs.length, \" c\\xF4ng vi\\u1EC7c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 820,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-filters\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\uD83D\\uDCC5 Th\\u1EDDi gian:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: timeFilter,\n                onChange: e => setTimeFilter(e.target.value),\n                className: \"filter-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3 th\\u1EDDi gian\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 866,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"today\",\n                  children: \"H\\xF4m nay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 867,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week\",\n                  children: \"Tu\\u1EA7n n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 868,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month\",\n                  children: \"Th\\xE1ng n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 869,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"quarter\",\n                  children: \"Qu\\xFD n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 870,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"year\",\n                  children: \"N\\u0103m n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: departmentFilter,\n                onChange: e => setDepartmentFilter(e.target.value),\n                className: \"filter-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 19\n                }, this), Array.from(new Set(jobs.map(job => job.department))).map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 883,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 876,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-info\",\n                style: {\n                  padding: '8px 12px',\n                  background: 'rgba(255, 255, 255, 0.2)',\n                  borderRadius: '6px',\n                  fontSize: '0.9rem',\n                  color: 'white',\n                  border: '1px solid rgba(255, 255, 255, 0.3)'\n                },\n                children: [\"\\uD83D\\uDCCA Hi\\u1EC3n th\\u1ECB: \", getFilteredJobs().length, \" / \", jobs.length, \" c\\xF4ng vi\\u1EC7c\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"clear-filters-btn\",\n                onClick: () => {\n                  setTimeFilter('all');\n                  setDepartmentFilter('all');\n                },\n                children: \"\\uD83D\\uDD04 X\\xF3a b\\u1ED9 l\\u1ECDc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 819,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 818,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCB\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.totalJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng c\\xF4ng vi\\u1EC7c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator\",\n                children: \"\\uD83D\\uDCCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"T\\u1ED5ng quan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 913,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card success animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 926,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.completedJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ho\\xE0n th\\xE0nh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator success\",\n                children: \"\\uD83D\\uDCC8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 931,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"Ho\\xE0n th\\xE0nh t\\u1ED1t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 932,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card warning animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u23F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 938,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.pendingJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110ang x\\u1EED l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator warning\",\n                children: \"\\u23F0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"C\\u1EA7n theo d\\xF5i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 944,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card danger animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u274C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.failedJobs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Th\\u1EA5t b\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator danger\",\n                children: \"\\u26A0\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 955,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"C\\u1EA7n x\\u1EED l\\xFD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 956,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card info animated\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 962,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"stat-number\",\n              children: stats.totalUsers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 965,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-indicator info\",\n                children: \"\\uD83D\\uDC64\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 967,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"trend-text\",\n                children: \"T\\u1ED5ng nh\\xE2n s\\u1EF1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 968,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 961,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDFE2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stats.activeUsers\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 977,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 973,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card productivity\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [stats.totalJobs > 0 ? Math.round(stats.completedJobs / stats.totalJobs * 100) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1ED5ng n\\u0103ng su\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 985,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 981,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card efficiency\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\u26A1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [Object.values(departmentStats).length > 0 ? Math.round(Object.values(departmentStats).reduce((sum, dept) => sum + dept.onTimeRate, 0) / Object.values(departmentStats).length) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"T\\u1EF7 l\\u1EC7 \\u0111\\xFAng h\\u1EA1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card departments\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83C\\uDFE2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 999,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: Object.keys(departmentStats).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"B\\u1ED9 ph\\u1EADn ho\\u1EA1t \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1002,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 11\n        }, this)]\n      }, refreshKey, true, {\n        fileName: _jsxFileName,\n        lineNumber: 912,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCCA N\\u0103ng su\\u1EA5t theo b\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-content\",\n            children: Object.entries(departmentStats).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bar enhanced\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-label\",\n                  children: dept\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1014,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-status-indicators\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot completed\",\n                    title: \"Ho\\xE0n th\\xE0nh\",\n                    children: \"\\u25CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot pending\",\n                    title: \"\\u0110ang x\\u1EED l\\xFD\",\n                    children: \"\\u25CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1017,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-dot failed\",\n                    title: \"Th\\u1EA5t b\\u1EA1i\",\n                    children: \"\\u25CF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1015,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1013,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-fill\",\n                  style: {\n                    width: `${data.percentage}%`,\n                    background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' : data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' : 'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1022,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1021,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-value\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"percentage\",\n                  children: [data.percentage, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"count\",\n                  children: [\"(\", data.completed, \"/\", data.total, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1034,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u2705\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1039,\n                      columnNumber: 25\n                    }, this), data.completed, \" ho\\xE0n th\\xE0nh\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1038,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u23F3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1043,\n                      columnNumber: 25\n                    }, this), data.pending, \" \\u0111ang x\\u1EED l\\xFD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1042,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u274C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1047,\n                      columnNumber: 25\n                    }, this), data.failed, \" th\\u1EA5t b\\u1EA1i\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1046,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1037,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u26A1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1053,\n                      columnNumber: 25\n                    }, this), data.onTimeRate, \"% \\u0111\\xFAng h\\u1EA1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1052,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\uD83D\\uDCC5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1057,\n                      columnNumber: 25\n                    }, this), data.avgCompletionTime > 0 ? `${Math.round(data.avgCompletionTime)} ngày` : 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1056,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-icon\",\n                      children: \"\\u26A0\\uFE0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1061,\n                      columnNumber: 25\n                    }, this), data.overdue, \" tr\\u1EC5 h\\u1EA1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1060,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1036,\n                columnNumber: 19\n              }, this)]\n            }, dept, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1012,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1010,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1008,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC8 Th\\u1ED1ng k\\xEA theo tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-content\",\n            children: Object.entries(statusStats).map(([status, count]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chart-bar\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-label\",\n                children: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1076,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bar-fill\",\n                  style: {\n                    width: `${count / stats.totalJobs * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1078,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1077,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bar-value\",\n                children: count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1083,\n                columnNumber: 19\n              }, this)]\n            }, status, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1075,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1007,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productivity-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA T\\u1ED5ng quan n\\u0103ng su\\u1EA5t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1091,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"productivity-grid\",\n          children: Object.entries(departmentStats).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productivity-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productivity-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: dept\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1096,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productivity-percentage\",\n                children: [data.percentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1097,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1095,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productivity-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"productivity-fill\",\n                style: {\n                  width: `${data.percentage}%`,\n                  background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' : data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' : 'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1102,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productivity-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Ho\\xE0n th\\xE0nh: \", data.completed, \"/\", data.total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `productivity-status ${data.percentage >= 80 ? 'excellent' : data.percentage >= 60 ? 'good' : 'needs-improvement'}`,\n                children: data.percentage >= 80 ? 'Xuất sắc' : data.percentage >= 60 ? 'Tốt' : 'Cần cải thiện'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 17\n            }, this)]\n          }, dept, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1094,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1092,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1090,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"performance-insights\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD0D Ph\\xE2n t\\xEDch hi\\u1EC7u su\\u1EA5t chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"insights-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"insight-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDCCA Top B\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-content\",\n              children: Object.entries(departmentStats).sort(([, a], [, b]) => b.percentage - a.percentage).slice(0, 3).map(([dept, data], index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-rank\",\n                  children: [\"#\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1138,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1140,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-stats\",\n                    children: [data.percentage, \"% \\u2022 \", data.completed, \"/\", data.total, \" c\\xF4ng vi\\u1EC7c\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1141,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1139,\n                  columnNumber: 23\n                }, this)]\n              }, dept, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1137,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"insight-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u26A1 Hi\\u1EC7u su\\u1EA5t th\\u1EDDi gian\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-content\",\n              children: Object.entries(departmentStats).filter(([, data]) => data.avgCompletionTime > 0).sort(([, a], [, b]) => a.avgCompletionTime - b.avgCompletionTime).slice(0, 3).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1160,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-stats\",\n                    children: [Math.round(data.avgCompletionTime), \" ng\\xE0y trung b\\xECnh\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1159,\n                  columnNumber: 23\n                }, this)\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"insight-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83C\\uDFAF T\\u1EF7 l\\u1EC7 \\u0111\\xFAng h\\u1EA1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"insight-content\",\n              children: Object.entries(departmentStats).sort(([, a], [, b]) => b.onTimeRate - a.onTimeRate).slice(0, 3).map(([dept, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"insight-item\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"insight-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1179,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"insight-stats\",\n                    children: [data.onTimeRate, \"% \\u0111\\xFAng h\\u1EA1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1180,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1178,\n                  columnNumber: 23\n                }, this)\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1177,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recent-activity\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDD52 Ho\\u1EA1t \\u0111\\u1ED9ng g\\u1EA7n \\u0111\\xE2y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activity-list\",\n          children: filteredJobs.slice(-5).reverse().map(job => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"activity-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-icon\",\n              children: job.status === 'thành công' ? '✅' : job.status === 'thất bại' ? '❌' : job.status === 'đang xử lý' ? '⏳' : job.status === 'nhận việc' ? '📋' : '⏸️'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activity-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-title\",\n                children: job.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activity-meta\",\n                children: [job.department, \" \\u2022 \", job.assigner || 'Chưa giao', \" \\u2192 \", job.assignee || 'Chưa giao', \" \\u2022 \", new Date(job.deliveryDate).toLocaleDateString('vi-VN'), \" \\u2022 \", job.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1202,\n              columnNumber: 17\n            }, this)]\n          }, job.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1195,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 817,\n      columnNumber: 7\n    }, this);\n  };\n\n  // KPI Evaluation Component\n  _s2(Dashboard, \"2be8DJfNvmYungXrY4g3FnHkAiY=\");\n  const KPIEvaluation = ({\n    users,\n    jobs,\n    currentUser\n  }) => {\n    _s3();\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [evaluationDate, setEvaluationDate] = useState(new Date().toISOString().split('T')[0]);\n    const [evaluationData, setEvaluationData] = useState({\n      performance: 0,\n      discipline: 0,\n      attitude: 0\n    });\n    const [isEvaluating, setIsEvaluating] = useState(false);\n    const [evaluationHistory, setEvaluationHistory] = useState([]);\n    const [viewMode, setViewMode] = useState('evaluate'); // 'evaluate', 'history', 'all-evaluations'\n    const [summaryPeriod, setSummaryPeriod] = useState('week'); // 'week', 'month', 'quarter', 'year'\n    const [selectedDepartment, setSelectedDepartment] = useState('all'); // 'all' hoặc tên bộ phận\n    const [allEvaluations, setAllEvaluations] = useState([]); // Lưu tất cả đánh giá KPI\n    const [expandedUser, setExpandedUser] = useState(null); // Track which user's details are expanded\n    const [historyTimeFilter, setHistoryTimeFilter] = useState('all'); // Filter for history tab\n    const [historyDepartmentFilter, setHistoryDepartmentFilter] = useState('all'); // Department filter for history tab\n    const [historyDateFilter, setHistoryDateFilter] = useState(''); // Specific date filter for history tab\n    const [weeklyTimeFilter, setWeeklyTimeFilter] = useState('all'); // Filter for weekly summary\n    const [weeklyDepartmentFilter, setWeeklyDepartmentFilter] = useState('all'); // Department filter for weekly summary\n\n    // Load KPI evaluations from server\n    const loadKpiEvaluations = useCallback(async () => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`);\n        const result = await response.json();\n        if (result.success) {\n          setAllEvaluations(result.data || []);\n          setEvaluationHistory(result.data || []);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi load KPI evaluations:', error);\n      }\n    }, []);\n\n    // Save KPI evaluations to server\n    const saveKpiEvaluations = useCallback(async evaluations => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            evaluations\n          })\n        });\n        const result = await response.json();\n        if (!result.success) {\n          console.error('❌ Lỗi save KPI evaluations:', result.error);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi save KPI evaluations:', error);\n      }\n    }, []);\n\n    // Load evaluations when component mounts\n    useEffect(() => {\n      loadKpiEvaluations();\n    }, [loadKpiEvaluations]);\n\n    // Lấy danh sách bộ phận từ users có thể đánh giá\n    const getAvailableDepartments = () => {\n      let availableUsers = [];\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        availableUsers = users.filter(user => user.role !== 'admin' && user.position === 'Tổ trưởng');\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => user.role !== 'admin' && (user.position === 'Tổ phó' || user.position === 'Nhân viên') && user.department === currentUser.department);\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => user.role !== 'admin' && user.position === 'Nhân viên' && user.department === currentUser.department);\n      }\n      return Array.from(new Set(availableUsers.map(user => user.department))).filter(dept => dept);\n    };\n\n    // Lấy danh sách bộ phận cho bộ lọc lịch sử\n    const getHistoryDepartments = () => {\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') {\n        // Quản lý xem tất cả bộ phận\n        return Array.from(new Set(users.map(user => user.department))).filter(dept => dept);\n      } else {\n        // Các cấp khác chỉ xem bộ phận mình\n        return [currentUser === null || currentUser === void 0 ? void 0 : currentUser.department].filter(dept => dept);\n      }\n    };\n    const departments = getAvailableDepartments();\n\n    // Lọc users theo bộ phận và quyền đánh giá\n    const getFilteredUsers = () => {\n      let filteredUsers = [];\n\n      // Quyền đánh giá theo cấp bậc\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        filteredUsers = users.filter(user => user.role !== 'admin' && user.position === 'Tổ trưởng');\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => user.role !== 'admin' && (user.position === 'Tổ phó' || user.position === 'Nhân viên') && user.department === currentUser.department);\n      } else if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => user.role !== 'admin' && user.position === 'Nhân viên' && user.department === currentUser.department);\n      }\n\n      // Lọc theo bộ phận nếu được chọn\n      if (selectedDepartment !== 'all') {\n        filteredUsers = filteredUsers.filter(user => user.department === selectedDepartment);\n      }\n      return filteredUsers;\n    };\n    const filteredUsers = getFilteredUsers();\n    const criteria = [{\n      name: 'performance',\n      title: 'Hiệu quả công việc',\n      weight: 50,\n      description: 'Năng suất, chất lượng, tiến độ, linh hoạt',\n      maxScore: 100\n    }, {\n      name: 'discipline',\n      title: 'Kỷ luật & Tuân thủ',\n      weight: 30,\n      description: 'Giờ giấc, nội quy, an toàn, giữ gìn',\n      maxScore: 100\n    }, {\n      name: 'attitude',\n      title: 'Thái độ & Hợp tác',\n      weight: 20,\n      description: 'Trách nhiệm, hợp tác, học hỏi, chủ động',\n      maxScore: 100\n    }];\n    const handleScoreChange = (criteria, value) => {\n      setEvaluationData(prev => ({\n        ...prev,\n        [criteria]: parseInt(value) || 0\n      }));\n    };\n    const calculateTotalScore = () => {\n      let totalScore = 0;\n      let totalWeight = 0;\n      criteria.forEach(criterion => {\n        const score = evaluationData[criterion.name];\n        const weightedScore = score * criterion.weight / 100;\n        totalScore += weightedScore;\n        totalWeight += criterion.weight;\n      });\n      return Math.round(totalScore);\n    };\n    const getScoreLevel = score => {\n      if (score >= 90) return {\n        level: 'Xuất sắc',\n        color: '#28a745'\n      };\n      if (score >= 80) return {\n        level: 'Tốt',\n        color: '#17a2b8'\n      };\n      if (score >= 70) return {\n        level: 'Khá',\n        color: '#6f42c1'\n      };\n      if (score >= 50) return {\n        level: 'Trung bình',\n        color: '#ffc107'\n      };\n      return {\n        level: 'Yếu',\n        color: '#dc3545'\n      };\n    };\n\n    // Calculate summary statistics\n    const calculateSummary = () => {\n      try {\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        console.log('🔍 Debug calculateSummary:', {\n          summaryPeriod,\n          today: today.toLocaleDateString('vi-VN'),\n          allEvaluationsLength: allEvaluations.length\n        });\n        let startDate, endDate;\n        const currentYear = today.getFullYear();\n        const currentMonth = today.getMonth(); // 0-indexed\n\n        switch (summaryPeriod) {\n          case 'week':\n            // Current week: from Monday to Sunday\n            startDate = new Date(today);\n            startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n            endDate = new Date(today);\n            endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n            break;\n          case 'month':\n            startDate = new Date(currentYear, currentMonth, 1);\n            endDate = new Date(currentYear, currentMonth + 1, 0);\n            break;\n          case 'quarter':\n            const quarter = Math.floor(currentMonth / 3);\n            startDate = new Date(currentYear, quarter * 3, 1);\n            endDate = new Date(currentYear, quarter * 3 + 3, 0);\n            break;\n          case 'year':\n            startDate = new Date(currentYear, 0, 1);\n            endDate = new Date(currentYear, 11, 31);\n            break;\n          // Specific weeks in current month - weeks end on Sunday\n          case 'week1':\n            startDate = new Date(currentYear, currentMonth, 1);\n            const firstDay = new Date(currentYear, currentMonth, 1);\n            const firstDayOfWeek = firstDay.getDay();\n            if (firstDayOfWeek === 0) {\n              endDate = new Date(currentYear, currentMonth, 1);\n            } else {\n              const daysToSunday = 7 - firstDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, 1 + daysToSunday);\n            }\n            break;\n          case 'week2':\n            // Start from day after week 1's Sunday\n            const week1End = new Date(currentYear, currentMonth, 1);\n            const week1EndDayOfWeek = week1End.getDay();\n            if (week1EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2);\n            } else {\n              const daysToFirstSunday = 7 - week1EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1);\n            }\n            const week2StartDayOfWeek = startDate.getDay();\n            if (week2StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week2StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            break;\n          case 'week3':\n            // Start from day after week 2's Sunday\n            const week2End = new Date(currentYear, currentMonth, 1);\n            const week2EndDayOfWeek = week2End.getDay();\n            if (week2EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2 + 7);\n            } else {\n              const daysToFirstSunday = 7 - week2EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 7);\n            }\n            const week3StartDayOfWeek = startDate.getDay();\n            if (week3StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week3StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            break;\n          case 'week4':\n            // Start from day after week 3's Sunday\n            const week3End = new Date(currentYear, currentMonth, 1);\n            const week3EndDayOfWeek = week3End.getDay();\n            if (week3EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2 + 14);\n            } else {\n              const daysToFirstSunday = 7 - week3EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 14);\n            }\n            const week4StartDayOfWeek = startDate.getDay();\n            if (week4StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week4StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            break;\n          case 'week5':\n            // Start from day after week 4's Sunday\n            const week4End = new Date(currentYear, currentMonth, 1);\n            const week4EndDayOfWeek = week4End.getDay();\n            if (week4EndDayOfWeek === 0) {\n              startDate = new Date(currentYear, currentMonth, 2 + 21);\n            } else {\n              const daysToFirstSunday = 7 - week4EndDayOfWeek;\n              startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 21);\n            }\n            const week5StartDayOfWeek = startDate.getDay();\n            if (week5StartDayOfWeek === 0) {\n              endDate = new Date(startDate);\n            } else {\n              const daysToSunday = 7 - week5StartDayOfWeek;\n              endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n            }\n            // Ensure week 5 doesn't exceed month boundaries\n            const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n            if (endDate.getDate() > monthEnd.getDate()) {\n              endDate = new Date(monthEnd);\n            }\n            break;\n          // Specific months in current year\n          case 'month1':\n            startDate = new Date(currentYear, 0, 1);\n            endDate = new Date(currentYear, 0, 31);\n            break;\n          case 'month2':\n            startDate = new Date(currentYear, 1, 1);\n            endDate = new Date(currentYear, 1, 28); // February\n            break;\n          case 'month3':\n            startDate = new Date(currentYear, 2, 1);\n            endDate = new Date(currentYear, 2, 31);\n            break;\n          case 'month4':\n            startDate = new Date(currentYear, 3, 1);\n            endDate = new Date(currentYear, 3, 30);\n            break;\n          case 'month5':\n            startDate = new Date(currentYear, 4, 1);\n            endDate = new Date(currentYear, 4, 31);\n            break;\n          case 'month6':\n            startDate = new Date(currentYear, 5, 1);\n            endDate = new Date(currentYear, 5, 30);\n            break;\n          case 'month7':\n            startDate = new Date(currentYear, 6, 1);\n            endDate = new Date(currentYear, 6, 31);\n            break;\n          case 'month8':\n            startDate = new Date(currentYear, 7, 1);\n            endDate = new Date(currentYear, 7, 31);\n            break;\n          case 'month9':\n            startDate = new Date(currentYear, 8, 1);\n            endDate = new Date(currentYear, 8, 30);\n            break;\n          case 'month10':\n            startDate = new Date(currentYear, 9, 1);\n            endDate = new Date(currentYear, 9, 31);\n            break;\n          case 'month11':\n            startDate = new Date(currentYear, 10, 1);\n            endDate = new Date(currentYear, 10, 30);\n            break;\n          case 'month12':\n            startDate = new Date(currentYear, 11, 1);\n            endDate = new Date(currentYear, 11, 31);\n            break;\n          // Specific week in specific month\n          default:\n            if (summaryPeriod.includes('_week')) {\n              const [monthPart, weekPart] = summaryPeriod.split('_week');\n              const monthNum = parseInt(monthPart.replace('month', '')) - 1; // Convert to 0-indexed\n              const weekNum = parseInt(weekPart);\n              if (monthNum >= 0 && monthNum <= 11 && weekNum >= 1 && weekNum <= 5) {\n                const monthStart = new Date(currentYear, monthNum, 1);\n                const monthEnd = new Date(currentYear, monthNum + 1, 0);\n\n                // Calculate week boundaries - weeks end on Sunday\n                if (weekNum === 1) {\n                  // Week 1: From 1st day of month to next Sunday\n                  startDate = new Date(currentYear, monthNum, 1);\n\n                  // Find the first Sunday of the month\n                  const firstDay = new Date(currentYear, monthNum, 1);\n                  const firstDayOfWeek = firstDay.getDay(); // 0 = Sunday, 1 = Monday, etc.\n\n                  if (firstDayOfWeek === 0) {\n                    // If 1st is Sunday, week ends on same day\n                    endDate = new Date(currentYear, monthNum, 1);\n                  } else {\n                    // Find next Sunday\n                    const daysToSunday = 7 - firstDayOfWeek;\n                    endDate = new Date(currentYear, monthNum, 1 + daysToSunday);\n                  }\n                } else {\n                  // Week 2+: Start from day after previous week's Sunday\n                  const prevWeekEnd = new Date(currentYear, monthNum, 1);\n                  const firstDayOfWeek = prevWeekEnd.getDay();\n                  if (firstDayOfWeek === 0) {\n                    // If 1st is Sunday, week 2 starts on 2nd\n                    const weekStartDay = 1 + (weekNum - 1) * 7;\n                    startDate = new Date(currentYear, monthNum, weekStartDay);\n                  } else {\n                    // Calculate start of current week\n                    const daysToFirstSunday = 7 - firstDayOfWeek;\n                    const weekStartDay = 1 + daysToFirstSunday + (weekNum - 2) * 7;\n                    startDate = new Date(currentYear, monthNum, weekStartDay);\n                  }\n\n                  // Week ends on Sunday\n                  const weekStartDayOfWeek = startDate.getDay();\n                  if (weekStartDayOfWeek === 0) {\n                    // If week starts on Sunday, it ends same day\n                    endDate = new Date(startDate);\n                  } else {\n                    // Find next Sunday\n                    const daysToSunday = 7 - weekStartDayOfWeek;\n                    endDate = new Date(currentYear, monthNum, startDate.getDate() + daysToSunday);\n                  }\n                }\n\n                // Ensure dates don't exceed month boundaries\n                if (startDate.getMonth() !== monthNum) {\n                  startDate = new Date(currentYear, monthNum, 1);\n                }\n                if (endDate.getMonth() !== monthNum || endDate.getDate() > monthEnd.getDate()) {\n                  endDate = new Date(monthEnd);\n                }\n\n                // Debug log for week calculation\n                console.log(`📅 ${summaryPeriod}: ${startDate.toLocaleDateString('vi-VN')} - ${endDate.toLocaleDateString('vi-VN')}`);\n              } else {\n                startDate = new Date(0);\n                endDate = new Date();\n              }\n            } else {\n              startDate = new Date(0);\n              endDate = new Date();\n            }\n            break;\n        }\n        const filteredEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= startDate && evalDate <= endDate;\n        });\n        if (filteredEvaluations.length === 0) {\n          return {\n            totalEvaluations: 0,\n            averageScore: 0,\n            topPerformers: [],\n            departmentStats: {},\n            scoreDistribution: {\n              excellent: 0,\n              good: 0,\n              average: 0,\n              poor: 0\n            }\n          };\n        }\n\n        // Calculate average score\n        const totalScore = filteredEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0);\n        const averageScore = Math.round(totalScore / filteredEvaluations.length);\n\n        // Top performers\n        const topPerformers = filteredEvaluations.sort((a, b) => b.totalScore - a.totalScore).slice(0, 5);\n\n        // Department statistics\n        const departmentStats = filteredEvaluations.reduce((acc, evaluation) => {\n          if (!acc[evaluation.department]) {\n            acc[evaluation.department] = {\n              count: 0,\n              totalScore: 0,\n              average: 0\n            };\n          }\n          acc[evaluation.department].count += 1;\n          acc[evaluation.department].totalScore += evaluation.totalScore;\n          acc[evaluation.department].average = Math.round(acc[evaluation.department].totalScore / acc[evaluation.department].count);\n          return acc;\n        }, {});\n\n        // Score distribution (A/B/C/D)\n        const scoreDistribution = filteredEvaluations.reduce((acc, evaluation) => {\n          if (evaluation.totalScore >= 90) acc.excellent += 1; // Xuất sắc\n          else if (evaluation.totalScore >= 80) acc.good += 1; // Tốt\n          else if (evaluation.totalScore >= 70) acc.average += 1; // Trung bình\n          else acc.poor += 1; // Cần cải thiện\n          return acc;\n        }, {\n          excellent: 0,\n          good: 0,\n          average: 0,\n          poor: 0\n        });\n\n        // Calculate monthly trends\n        const monthlyTrend = calculateMonthlyTrend();\n        const dailyKPI = calculateDailyKPI();\n        return {\n          totalEvaluations: filteredEvaluations.length,\n          averageScore,\n          topPerformers,\n          departmentStats,\n          scoreDistribution,\n          monthlyTrend,\n          dailyKPI\n        };\n      } catch (error) {\n        console.error('❌ Error in calculateSummary:', error);\n        return {\n          totalEvaluations: 0,\n          averageScore: 0,\n          topPerformers: [],\n          departmentStats: {},\n          scoreDistribution: {\n            excellent: 0,\n            good: 0,\n            average: 0,\n            poor: 0\n          },\n          monthlyTrend: [],\n          dailyKPI: []\n        };\n      }\n    };\n\n    // Calculate monthly trend\n    const calculateMonthlyTrend = () => {\n      const months = [];\n      const now = new Date();\n      for (let i = 5; i >= 0; i--) {\n        const monthStart = new Date(now.getFullYear(), now.getMonth() - i, 1);\n        const monthEnd = new Date(now.getFullYear(), now.getMonth() - i + 1, 0);\n        const monthEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= monthStart && evalDate <= monthEnd;\n        });\n\n        // Calculate average of 4 weeks in the month\n        const weeklyAverages = calculateWeeklyAveragesInMonth(monthStart, monthEnd);\n        const monthlyAverage = weeklyAverages.length > 0 ? Math.round(weeklyAverages.reduce((sum, avg) => sum + avg, 0) / weeklyAverages.length) : 0;\n        months.push({\n          month: `${monthStart.getMonth() + 1}/${monthStart.getFullYear()}`,\n          evaluations: monthEvaluations.length,\n          averageScore: monthlyAverage,\n          weeklyAverages: weeklyAverages,\n          date: monthStart\n        });\n      }\n      return months;\n    };\n\n    // Calculate daily KPI for all weeks in current month\n    const calculateDailyKPI = () => {\n      try {\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n\n        // Get first and last day of current month\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        const days = [];\n        const dayNames = ['Chủ nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7'];\n\n        // Generate all days in the current month\n        const current = new Date(monthStart);\n        while (current <= monthEnd) {\n          const dayStart = new Date(current);\n          dayStart.setHours(0, 0, 0, 0);\n          const dayEnd = new Date(current);\n          dayEnd.setHours(23, 59, 59, 999);\n          const dayEvaluations = allEvaluations.filter(evaluation => {\n            const evalDate = new Date(evaluation.date);\n            return evalDate >= dayStart && evalDate <= dayEnd;\n          });\n          const avgScore = dayEvaluations.length > 0 ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / dayEvaluations.length) : 0;\n          const dayName = dayNames[current.getDay()];\n\n          // Calculate week number - weeks always end on Sunday\n          const dayOfMonth = current.getDate();\n          const firstDayOfMonth = monthStart.getDay(); // 0=Sunday, 1=Monday, etc.\n\n          // Find the Sunday that ends the week containing this day\n          const dayOfWeek = current.getDay(); // 0=Sunday, 1=Monday, etc.\n          const daysToSunday = dayOfWeek === 0 ? 0 : 7 - dayOfWeek;\n          const weekEndingSunday = new Date(current);\n          weekEndingSunday.setDate(current.getDate() + daysToSunday);\n\n          // Calculate week number based on which Sunday this week ends on\n          let weekNumber;\n          if (firstDayOfMonth === 0) {\n            // Month starts on Sunday\n            weekNumber = Math.ceil(dayOfMonth / 7);\n          } else {\n            // Find the first Sunday of the month\n            const firstSunday = new Date(monthStart);\n            if (firstDayOfMonth === 0) {\n              // Already Sunday\n            } else {\n              firstSunday.setDate(1 + (7 - firstDayOfMonth));\n            }\n\n            // Calculate week number based on which Sunday this week ends on\n            const daysDiff = Math.floor((weekEndingSunday - firstSunday) / (1000 * 60 * 60 * 24));\n            weekNumber = Math.floor(daysDiff / 7) + 1;\n\n            // If this day is before the first Sunday, it's week 1\n            if (current < firstSunday) {\n              weekNumber = 1;\n            }\n          }\n          days.push({\n            day: dayName,\n            date: current.toLocaleDateString('vi-VN'),\n            evaluationsCount: dayEvaluations.length,\n            averageScore: avgScore,\n            evaluations: dayEvaluations,\n            weekNumber: weekNumber\n          });\n          current.setDate(current.getDate() + 1);\n        }\n        return days;\n      } catch (error) {\n        console.error('❌ Error in calculateDailyKPI:', error);\n        return [];\n      }\n    };\n\n    // Calculate weekly averages in a month\n    const calculateWeeklyAveragesInMonth = (monthStart, monthEnd) => {\n      const weeklyAverages = [];\n      const current = new Date(monthStart);\n      while (current <= monthEnd) {\n        const weekStart = new Date(current);\n        const weekEnd = new Date(current);\n        weekEnd.setDate(current.getDate() + 6);\n\n        // Adjust if week goes beyond month\n        if (weekEnd > monthEnd) {\n          weekEnd.setTime(monthEnd.getTime());\n        }\n        const weekEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= weekStart && evalDate <= weekEnd;\n        });\n        const weekAvg = weekEvaluations.length > 0 ? Math.round(weekEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / weekEvaluations.length) : 0;\n        weeklyAverages.push(weekAvg);\n\n        // Move to next week\n        current.setDate(current.getDate() + 7);\n      }\n      return weeklyAverages;\n    };\n\n    // Export Daily KPI to Excel\n    const exportDailyKPIExcel = dailyData => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Ngày,Thứ,Đánh giá,Điểm trung bình\\n\";\n        dailyData.forEach(day => {\n          csvContent += `${day.date},${day.day},${day.evaluationsCount},${day.averageScore}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_ngay_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert('✅ Đã xuất báo cáo KPI theo ngày thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Monthly KPI to Excel\n    const exportMonthlyKPIExcel = monthlyData => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Tháng,Đánh giá,Điểm trung bình,Điểm TB tuần 1,Điểm TB tuần 2,Điểm TB tuần 3,Điểm TB tuần 4\\n\";\n        monthlyData.forEach(month => {\n          const weeklyAvgs = month.weeklyAverages || [];\n          csvContent += `${month.month},${month.evaluations},${month.averageScore},${weeklyAvgs[0] || 0},${weeklyAvgs[1] || 0},${weeklyAvgs[2] || 0},${weeklyAvgs[3] || 0}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_thang_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert('✅ Đã xuất báo cáo KPI theo tháng thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Department KPI to Excel\n    const exportDepartmentKPIExcel = departmentStats => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Bộ phận,Số đánh giá,Điểm trung bình\\n\";\n        Object.entries(departmentStats).forEach(([dept, stats]) => {\n          csvContent += `${dept},${stats.count},${stats.average}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_bo_phan_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert('✅ Đã xuất báo cáo KPI theo bộ phận thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (with current filters)\n    const exportAllEvaluationsExcel = () => {\n      try {\n        // Get filtered evaluations - use the same logic as display\n        const filteredEvaluations = allEvaluations.filter(evaluation => {\n          // Filter by department\n          if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n            return false;\n          }\n\n          // Filter by time period\n          const evalDate = new Date(evaluation.date);\n          const today = new Date();\n          let startDate;\n          switch (summaryPeriod) {\n            case 'week':\n              // Current week: from Monday to Sunday\n              startDate = new Date(today);\n              startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n              const endDate = new Date(today);\n              endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n              return evalDate >= startDate && evalDate <= endDate;\n            case 'month':\n              startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n              break;\n            case 'quarter':\n              const quarter = Math.floor(today.getMonth() / 3);\n              startDate = new Date(today.getFullYear(), quarter * 3, 1);\n              break;\n            case 'year':\n              startDate = new Date(today.getFullYear(), 0, 1);\n              break;\n            default:\n              // Show all evaluations when no specific period is selected\n              return true;\n          }\n          return evalDate >= startDate && evalDate <= today;\n        });\n        exportEvaluationsToCSV(filteredEvaluations, 'Danh_sach_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (without filters)\n    const exportAllEvaluationsExcelUnfiltered = () => {\n      try {\n        exportEvaluationsToCSV(allEvaluations, 'Tat_ca_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Helper function to export evaluations to CSV\n    const exportEvaluationsToCSV = (evaluations, filenamePrefix) => {\n      try {\n        // Debug log\n        console.log('Export Debug:');\n        console.log('- Evaluations to export:', evaluations.length);\n        console.log('- Data:', evaluations);\n\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Ngày đánh giá,Hiệu quả,Kỷ luật,Thái độ,Tổng điểm,Xếp loại\\n\";\n        evaluations.forEach((evaluation, index) => {\n          csvContent += `${index + 1},${evaluation.userName},${evaluation.department},${new Date(evaluation.date).toLocaleDateString('vi-VN')},${evaluation.scores.performance},${evaluation.scores.discipline},${evaluation.scores.attitude},${evaluation.totalScore},${evaluation.level}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert(`✅ Đã xuất ${evaluations.length} đánh giá KPI thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export weekly summaries to CSV\n    const exportWeeklySummariesToCSV = (weeklySummaries, filenamePrefix) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Tuần từ,Tuần đến,Số đánh giá ngày,Điểm TB hiệu quả,Điểm TB kỷ luật,Điểm TB thái độ,Điểm TB tổng,Xếp loại tuần\\n\";\n        weeklySummaries.forEach((summary, index) => {\n          csvContent += `${index + 1},${summary.userName},${summary.department},${new Date(summary.weekStart).toLocaleDateString('vi-VN')},${new Date(summary.weekEnd).toLocaleDateString('vi-VN')},${summary.totalDailyEvaluations},${summary.averageScores.performance},${summary.averageScores.discipline},${summary.averageScores.attitude},${summary.averageTotalScore},${summary.weeklyLevel}\\n`;\n        });\n\n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], {\n          type: 'text/csv;charset=utf-8;'\n        });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        alert(`✅ Đã xuất ${weeklySummaries.length} báo cáo tổng hợp tuần thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Calculate weekly summary from daily evaluations\n    const calculateWeeklySummary = (userId, weekStart, weekNumber) => {\n      const currentMonth = new Date().getMonth();\n      const currentYear = new Date().getFullYear();\n      const monthStart = new Date(currentYear, currentMonth, 1);\n      const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n\n      // Calculate week end (Sunday of the week)\n      const weekEnd = new Date(weekStart);\n      weekEnd.setDate(weekStart.getDate() + 6);\n      weekEnd.setHours(23, 59, 59, 999);\n\n      // Ensure week end doesn't exceed month end\n      if (weekEnd > monthEnd) {\n        weekEnd.setTime(monthEnd.getTime());\n        weekEnd.setHours(23, 59, 59, 999);\n      }\n\n      // Get all daily evaluations for this user in this week (within month)\n      const weeklyEvaluations = allEvaluations.filter(evaluation => {\n        const evalDate = new Date(evaluation.date);\n        return evaluation.userId === userId && evalDate >= weekStart && evalDate <= weekEnd && evalDate >= monthStart && evalDate <= monthEnd;\n      });\n      if (weeklyEvaluations.length === 0) return null;\n\n      // Calculate averages\n      const totalEvaluations = weeklyEvaluations.length;\n      const avgPerformance = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.performance, 0) / totalEvaluations;\n      const avgDiscipline = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.discipline, 0) / totalEvaluations;\n      const avgAttitude = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.attitude, 0) / totalEvaluations;\n      const avgTotalScore = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations;\n\n      // Determine weekly level based on average score\n      let weeklyLevel;\n      if (avgTotalScore >= 90) weeklyLevel = 'Xuất sắc';else if (avgTotalScore >= 80) weeklyLevel = 'Tốt';else if (avgTotalScore >= 70) weeklyLevel = 'Trung bình';else weeklyLevel = 'Cần cải thiện';\n      return {\n        userId: userId,\n        userName: weeklyEvaluations[0].userName,\n        department: weeklyEvaluations[0].department,\n        weekStart: weekStart.toISOString().split('T')[0],\n        weekEnd: weekEnd.toISOString().split('T')[0],\n        weekNumber: weekNumber,\n        totalDailyEvaluations: totalEvaluations,\n        averageScores: {\n          performance: Math.round(avgPerformance * 100) / 100,\n          discipline: Math.round(avgDiscipline * 100) / 100,\n          attitude: Math.round(avgAttitude * 100) / 100\n        },\n        averageTotalScore: Math.round(avgTotalScore * 100) / 100,\n        weeklyLevel: weeklyLevel,\n        dailyEvaluations: weeklyEvaluations,\n        createdAt: new Date().toISOString()\n      };\n    };\n\n    // Filter weekly summaries based on time and department\n    const getFilteredWeeklySummaries = () => {\n      const allSummaries = generateWeeklySummaries();\n      return allSummaries.filter(summary => {\n        // Filter by department\n        if (weeklyDepartmentFilter !== 'all' && summary.department !== weeklyDepartmentFilter) {\n          return false;\n        }\n\n        // Filter by time\n        if (weeklyTimeFilter !== 'all') {\n          const summaryDate = new Date(summary.weekStart);\n          const today = new Date();\n          switch (weeklyTimeFilter) {\n            case 'week1':\n              return summary.weekNumber === 1;\n            case 'week2':\n              return summary.weekNumber === 2;\n            case 'week3':\n              return summary.weekNumber === 3;\n            case 'week4':\n              return summary.weekNumber === 4;\n            case 'week5':\n              return summary.weekNumber === 5;\n            case 'current':\n              // Current week (this week)\n              const currentWeekStart = new Date(today);\n              const currentDay = today.getDay();\n              const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay;\n              currentWeekStart.setDate(today.getDate() + daysToMonday);\n              currentWeekStart.setHours(0, 0, 0, 0);\n              const currentWeekEnd = new Date(currentWeekStart);\n              currentWeekEnd.setDate(currentWeekStart.getDate() + 6);\n              currentWeekEnd.setHours(23, 59, 59, 999);\n              return summaryDate >= currentWeekStart && summaryDate <= currentWeekEnd;\n            default:\n              return true;\n          }\n        }\n        return true;\n      });\n    };\n\n    // Generate weekly summaries for all users (monthly-based weeks)\n    const generateWeeklySummaries = () => {\n      try {\n        const today = new Date();\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n        console.log('🔍 Debug - Today:', today.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Current month:', currentMonth + 1);\n\n        // Get current month boundaries\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        monthEnd.setHours(23, 59, 59, 999);\n        console.log('🔍 Debug - Month start:', monthStart.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Month end:', monthEnd.toISOString().split('T')[0]);\n\n        // Calculate weeks in month (Week 1 starts from 1st day of month)\n        const weeksInMonth = [];\n        let weekNumber = 1;\n\n        // Week 1 always starts from the 1st day of the month\n        let weekStart = new Date(currentYear, currentMonth, 1);\n        weekStart.setHours(0, 0, 0, 0);\n        console.log('🔍 Debug - Week 1 start:', weekStart.toISOString().split('T')[0]);\n\n        // Generate all weeks that have at least one day in the current month\n        while (weekStart <= monthEnd) {\n          let weekEnd;\n          if (weekNumber === 1) {\n            // Week 1: from 1st day to Sunday of that week\n            const firstDayOfWeek = weekStart.getDay();\n            const daysToSunday = firstDayOfWeek === 0 ? 0 : 7 - firstDayOfWeek;\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + daysToSunday);\n          } else {\n            // Other weeks: Monday to Sunday\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n          }\n          weekEnd.setHours(23, 59, 59, 999);\n\n          // Only include weeks that have at least one day in the current month\n          if (weekEnd >= monthStart && weekStart <= monthEnd) {\n            const actualWeekStart = new Date(Math.max(weekStart, monthStart));\n            const actualWeekEnd = new Date(Math.min(weekEnd, monthEnd));\n            actualWeekStart.setHours(0, 0, 0, 0);\n            actualWeekEnd.setHours(23, 59, 59, 999);\n            console.log(`🔍 Debug - Week ${weekNumber}: ${actualWeekStart.toISOString().split('T')[0]} to ${actualWeekEnd.toISOString().split('T')[0]}`);\n            weeksInMonth.push({\n              start: actualWeekStart,\n              end: actualWeekEnd,\n              weekNumber: weekNumber\n            });\n            weekNumber++;\n          }\n\n          // Move to next week\n          if (weekNumber === 2) {\n            // Week 2 starts from Monday after Week 1's Sunday\n            weekStart = new Date(weekEnd);\n            weekStart.setDate(weekEnd.getDate() + 1);\n            weekStart.setHours(0, 0, 0, 0);\n          } else {\n            // Other weeks: move to next Monday\n            weekStart = new Date(weekStart);\n            weekStart.setDate(weekStart.getDate() + 7);\n            weekStart.setHours(0, 0, 0, 0);\n          }\n        }\n        console.log('🔍 Debug - Total weeks:', weeksInMonth.length);\n\n        // Get unique users who have evaluations\n        const uniqueUsers = [...new Set(allEvaluations.map(evaluation => evaluation.userId))];\n        const weeklySummaries = [];\n\n        // For each week in the month, calculate summaries for all users\n        weeksInMonth.forEach(week => {\n          uniqueUsers.forEach(userId => {\n            const summary = calculateWeeklySummary(userId, week.start, week.weekNumber);\n            if (summary) {\n              weeklySummaries.push(summary);\n            }\n          });\n        });\n        return weeklySummaries;\n      } catch (error) {\n        console.error('❌ Error in generateWeeklySummaries:', error);\n        return [];\n      }\n    };\n\n    // Toggle expanded user details\n    const toggleUserDetails = userId => {\n      setExpandedUser(expandedUser === userId ? null : userId);\n    };\n\n    // Filter history evaluations\n    const getFilteredHistory = () => {\n      return evaluationHistory.filter(evaluation => {\n        // Quản lý xem tất cả, các cấp khác chỉ xem bộ phận mình\n        if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý') {\n          if (evaluation.department !== (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department)) {\n            return false;\n          }\n        }\n\n        // Filter by department (nếu có bộ lọc)\n        if (historyDepartmentFilter !== 'all' && evaluation.department !== historyDepartmentFilter) {\n          return false;\n        }\n\n        // Filter by specific date if provided\n        if (historyDateFilter) {\n          const evalDate = new Date(evaluation.date);\n          const filterDate = new Date(historyDateFilter);\n          return evalDate.toDateString() === filterDate.toDateString();\n        }\n\n        // Filter by time period\n        const evalDate = new Date(evaluation.date);\n        const today = new Date();\n        let startDate;\n        switch (historyTimeFilter) {\n          case 'today':\n            startDate = new Date(today);\n            startDate.setHours(0, 0, 0, 0);\n            break;\n          case 'week':\n            // Current week: from Monday to Sunday\n            startDate = new Date(today);\n            startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n            const endDate = new Date(today);\n            endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n            return evalDate >= startDate && evalDate <= endDate;\n          case 'month':\n            startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n            break;\n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            startDate = new Date(today.getFullYear(), quarter * 3, 1);\n            break;\n          case 'year':\n            startDate = new Date(today.getFullYear(), 0, 1);\n            break;\n          default:\n            return true;\n        }\n        return evalDate >= startDate && evalDate <= today;\n      });\n    };\n\n    // Calculate daily KPI report for current week\n    const calculateDailyKPIReport = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n\n      // Calculate current week: Monday to Sunday\n      const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday\n      const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay; // Monday is start of week\n\n      const currentWeekStart = new Date(today);\n      currentWeekStart.setDate(today.getDate() + daysToMonday);\n      const currentWeekEnd = new Date(currentWeekStart);\n      currentWeekEnd.setDate(currentWeekStart.getDate() + 6); // Sunday\n\n      const dailyReports = [];\n      const dayNames = ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];\n\n      // Generate days for the current week\n      const daysInWeek = Math.ceil((currentWeekEnd - currentWeekStart) / (1000 * 60 * 60 * 24)) + 1;\n      for (let i = 0; i < daysInWeek; i++) {\n        const dayStart = new Date(currentWeekStart);\n        dayStart.setDate(currentWeekStart.getDate() + i);\n        const dayEnd = new Date(dayStart);\n        dayEnd.setHours(23, 59, 59, 999);\n        const dayEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= dayStart && evalDate <= dayEnd;\n        });\n\n        // Calculate department-wise statistics for this day\n        const departmentStats = {};\n        dayEvaluations.forEach(evaluation => {\n          if (!departmentStats[evaluation.department]) {\n            departmentStats[evaluation.department] = {\n              evaluations: [],\n              totalScore: 0,\n              count: 0,\n              averageScore: 0\n            };\n          }\n          departmentStats[evaluation.department].evaluations.push(evaluation);\n          departmentStats[evaluation.department].totalScore += evaluation.totalScore;\n          departmentStats[evaluation.department].count += 1;\n        });\n\n        // Calculate average scores for each department\n        Object.keys(departmentStats).forEach(dept => {\n          const stats = departmentStats[dept];\n          stats.averageScore = stats.count > 0 ? Math.round(stats.totalScore / stats.count) : 0;\n        });\n        const totalEvaluations = dayEvaluations.length;\n        const overallAverage = totalEvaluations > 0 ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations) : 0;\n        dailyReports.push({\n          dayName: dayNames[i],\n          date: dayStart,\n          dateString: dayStart.toLocaleDateString('vi-VN'),\n          totalEvaluations,\n          overallAverage,\n          departmentStats,\n          evaluations: dayEvaluations\n        });\n      }\n      return dailyReports;\n    };\n    const handleStartEvaluation = user => {\n      // Kiểm tra xem người này đã được đánh giá trong ngày hôm nay chưa\n      const today = new Date().toISOString().split('T')[0];\n      const alreadyEvaluatedToday = allEvaluations.some(evaluation => evaluation.userId === user.id && evaluation.date === today && evaluation.evaluatedBy === currentUser.fullName);\n      if (alreadyEvaluatedToday) {\n        alert(`❌ Bạn đã đánh giá ${user.fullName} trong ngày hôm nay!\\nMỗi người chỉ được đánh giá 1 lần/ngày.`);\n        return;\n      }\n      setSelectedUser(user);\n      setIsEvaluating(true);\n      setEvaluationData({\n        performance: 0,\n        discipline: 0,\n        attitude: 0\n      });\n    };\n    const handleSaveEvaluation = async () => {\n      const totalScore = calculateTotalScore();\n      const scoreLevel = getScoreLevel(totalScore);\n\n      // Sử dụng ngày hiện tại thay vì ngày được chọn\n      const today = new Date().toISOString().split('T')[0];\n      const newEvaluation = {\n        id: Date.now(),\n        userId: selectedUser.id,\n        userName: selectedUser.fullName,\n        department: selectedUser.department,\n        date: today,\n        // Luôn sử dụng ngày hiện tại\n        scores: evaluationData,\n        totalScore: totalScore,\n        level: scoreLevel.level,\n        evaluatedBy: currentUser.fullName,\n        evaluatorRole: currentUser.role === 'admin' ? 'Quản lý' : currentUser.position,\n        createdAt: new Date().toISOString()\n      };\n      const updatedEvaluations = [newEvaluation, ...allEvaluations];\n      setEvaluationHistory(updatedEvaluations);\n      setAllEvaluations(updatedEvaluations);\n\n      // Save to server\n      await saveKpiEvaluations(updatedEvaluations);\n      alert(`✅ Đánh giá KPI cho ${selectedUser.fullName} ngày ${today}:\\nĐiểm tổng: ${totalScore}/100\\nXếp loại: ${scoreLevel.level}\\n\\n⚠️ Lưu ý: Bạn đã đánh giá người này trong ngày hôm nay. Không thể đánh giá lại cho đến ngày mai.`);\n      setIsEvaluating(false);\n      setSelectedUser(null);\n    };\n\n    // Delete evaluation function\n    const handleDeleteEvaluation = async evaluationId => {\n      if (!window.confirm('Bạn có chắc chắn muốn xóa đánh giá này? Hành động này không thể hoàn tác.')) {\n        return;\n      }\n      try {\n        // Gọi API để xóa đánh giá\n        const response = await fetch(`${window.API_BASE || API_BASE}/api/kpi-evaluations/${evaluationId}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        const result = await response.json();\n        if (result.success) {\n          // Cập nhật state local\n          const updatedEvaluations = allEvaluations.filter(evaluation => evaluation.id !== evaluationId);\n          setEvaluationHistory(updatedEvaluations);\n          setAllEvaluations(updatedEvaluations);\n          alert('✅ Đã xóa đánh giá thành công!');\n        } else {\n          alert(`❌ Lỗi: ${result.error}`);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi khi xóa đánh giá:', error);\n        alert('❌ Lỗi khi xóa đánh giá. Vui lòng thử lại.');\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kpi-evaluation\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kpi-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCA \\u0110\\xE1nh gi\\xE1 KPI nh\\xE2n s\\u1EF1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2537,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1ED9 ti\\xEAu ch\\xED 360\\xB0 - \\u01AFu ti\\xEAn hi\\u1EC7u qu\\u1EA3 \\u2013 tu\\xE2n th\\u1EE7 \\u2013 ph\\xE1t tri\\u1EC3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2538,\n          columnNumber: 11\n        }, this), (() => {\n          const today = new Date().toISOString().split('T')[0];\n          const evaluatedToday = allEvaluations.filter(evaluation => evaluation.date === today && evaluation.evaluatedBy === currentUser.fullName).length;\n          const totalUsers = users.filter(user => user.id !== currentUser.id).length;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"daily-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"progress-text\",\n                children: [\"\\uD83D\\uDCC8 Ti\\u1EBFn \\u0111\\u1ED9 h\\xF4m nay: \", evaluatedToday, \"/\", totalUsers, \" ng\\u01B0\\u1EDDi \\u0111\\xE3 \\u0111\\xE1nh gi\\xE1\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2550,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-fill\",\n                  style: {\n                    width: `${evaluatedToday / totalUsers * 100}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2554,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2553,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2549,\n              columnNumber: 17\n            }, this), evaluatedToday === totalUsers && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"completion-message\",\n              children: \"\\uD83C\\uDF89 Ch\\xFAc m\\u1EEBng! B\\u1EA1n \\u0111\\xE3 ho\\xE0n th\\xE0nh \\u0111\\xE1nh gi\\xE1 t\\u1EA5t c\\u1EA3 nh\\xE2n vi\\xEAn trong ng\\xE0y h\\xF4m nay!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2561,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2548,\n            columnNumber: 15\n          }, this);\n        })(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kpi-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCC5 Ng\\xE0y \\u0111\\xE1nh gi\\xE1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2570,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: new Date().toISOString().split('T')[0],\n              disabled: true,\n              className: \"date-input disabled\",\n              title: \"Ng\\xE0y \\u0111\\xE1nh gi\\xE1 \\u0111\\u01B0\\u1EE3c t\\u1EF1 \\u0111\\u1ED9ng c\\u1ED1 \\u0111\\u1ECBnh theo ng\\xE0y hi\\u1EC7n t\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2571,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666',\n                fontSize: '12px'\n              },\n              children: \"\\u26A0\\uFE0F Ng\\xE0y \\u0111\\xE1nh gi\\xE1 \\u0111\\u01B0\\u1EE3c c\\u1ED1 \\u0111\\u1ECBnh theo ng\\xE0y hi\\u1EC7n t\\u1EA1i \\u0111\\u1EC3 \\u0111\\u1EA3m b\\u1EA3o t\\xEDnh ch\\xEDnh x\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2578,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2569,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-mode\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'evaluate' ? 'active' : ''}`,\n              onClick: () => setViewMode('evaluate'),\n              children: \"\\uD83D\\uDCDD \\u0110\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2583,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'history' ? 'active' : ''}`,\n              onClick: () => setViewMode('history'),\n              children: \"\\uD83D\\uDCCA L\\u1ECBch s\\u1EED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2589,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'summary' ? 'active' : ''}`,\n              onClick: () => setViewMode('summary'),\n              children: \"\\uD83D\\uDCC8 T\\u1ED5ng h\\u1EE3p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2595,\n              columnNumber: 15\n            }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mode-btn ${viewMode === 'all-evaluations' ? 'active' : ''}`,\n              onClick: () => setViewMode('all-evaluations'),\n              children: \"\\uD83D\\uDC65 T\\u1EA5t c\\u1EA3 \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2602,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2582,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2568,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2536,\n        columnNumber: 9\n      }, this), viewMode === 'summary' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evaluation-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCC8 T\\u1ED5ng h\\u1EE3p \\u0111\\xE1nh gi\\xE1 KPI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2617,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: () => exportDailyKPIExcel(calculateDailyKPIReport()),\n                title: \"Xu\\u1EA5t b\\xE1o c\\xE1o KPI theo ng\\xE0y\",\n                children: \"\\uD83D\\uDCC5 Xu\\u1EA5t theo ng\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2619,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: () => exportMonthlyKPIExcel(calculateMonthlyKPIReport()),\n                title: \"Xu\\u1EA5t b\\xE1o c\\xE1o KPI theo th\\xE1ng\",\n                children: \"\\uD83D\\uDCCA Xu\\u1EA5t theo th\\xE1ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2626,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2618,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2616,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"period-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Kho\\u1EA3ng th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2636,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: summaryPeriod,\n              onChange: e => setSummaryPeriod(e.target.value),\n              className: \"period-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Tu\\u1EA7n n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2642,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Th\\xE1ng n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quarter\",\n                children: \"Qu\\xFD n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2644,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"N\\u0103m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2645,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"\\uD83D\\uDCC5 Theo tu\\u1EA7n\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week1\",\n                  children: \"Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2647,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week2\",\n                  children: \"Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2648,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week3\",\n                  children: \"Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2649,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week4\",\n                  children: \"Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2650,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week5\",\n                  children: \"Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2651,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2646,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"\\uD83D\\uDCC6 Theo th\\xE1ng\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1\",\n                  children: \"Th\\xE1ng 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2654,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2\",\n                  children: \"Th\\xE1ng 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2655,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3\",\n                  children: \"Th\\xE1ng 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2656,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4\",\n                  children: \"Th\\xE1ng 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2657,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5\",\n                  children: \"Th\\xE1ng 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2658,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6\",\n                  children: \"Th\\xE1ng 6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2659,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7\",\n                  children: \"Th\\xE1ng 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2660,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8\",\n                  children: \"Th\\xE1ng 8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2661,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9\",\n                  children: \"Th\\xE1ng 9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2662,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10\",\n                  children: \"Th\\xE1ng 10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2663,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11\",\n                  children: \"Th\\xE1ng 11\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2664,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12\",\n                  children: \"Th\\xE1ng 12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2665,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2653,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                label: \"\\uD83D\\uDDD3\\uFE0F Tu\\u1EA7n trong th\\xE1ng c\\u1EE5 th\\u1EC3\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week1\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2668,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week2\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2669,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week3\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2670,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week4\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2671,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month1_week5\",\n                  children: \"Th\\xE1ng 1 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2672,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week1\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2673,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week2\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2674,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week3\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2675,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month2_week4\",\n                  children: \"Th\\xE1ng 2 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2676,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week1\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2677,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week2\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2678,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week3\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2679,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week4\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2680,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month3_week5\",\n                  children: \"Th\\xE1ng 3 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2681,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week1\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2682,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week2\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2683,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week3\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2684,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month4_week4\",\n                  children: \"Th\\xE1ng 4 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2685,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week1\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2686,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week2\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2687,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week3\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2688,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week4\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2689,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month5_week5\",\n                  children: \"Th\\xE1ng 5 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2690,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week1\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2691,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week2\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2692,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week3\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2693,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month6_week4\",\n                  children: \"Th\\xE1ng 6 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2694,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week1\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2695,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week2\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2696,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week3\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2697,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week4\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2698,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month7_week5\",\n                  children: \"Th\\xE1ng 7 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2699,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week1\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2700,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week2\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2701,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week3\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2702,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week4\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2703,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month8_week5\",\n                  children: \"Th\\xE1ng 8 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2704,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week1\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2705,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week2\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2706,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week3\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2707,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month9_week4\",\n                  children: \"Th\\xE1ng 9 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2708,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week1\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2709,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week2\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2710,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week3\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2711,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week4\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2712,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month10_week5\",\n                  children: \"Th\\xE1ng 10 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2713,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week1\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2714,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week2\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2715,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week3\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2716,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month11_week4\",\n                  children: \"Th\\xE1ng 11 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2717,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week1\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2718,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week2\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2719,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week3\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2720,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week4\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2721,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month12_week5\",\n                  children: \"Th\\xE1ng 12 - Tu\\u1EA7n 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2722,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2667,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2635,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2615,\n          columnNumber: 13\n        }, this), (() => {\n          const summary = calculateSummary();\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"T\\u1ED5ng \\u0111\\xE1nh gi\\xE1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2734,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.totalEvaluations\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2735,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2733,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\u0110i\\u1EC3m trung b\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2738,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: [summary.averageScore, \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2739,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2737,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Xu\\u1EA5t s\\u1EAFc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2742,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.excellent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2743,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2741,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"T\\u1ED1t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2746,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.good\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2747,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2745,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Trung b\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2750,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.average\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2751,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2749,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"C\\u1EA7n c\\u1EA3i thi\\u1EC7n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2754,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-value\",\n                  children: summary.scoreDistribution.poor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2755,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2753,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2732,\n              columnNumber: 19\n            }, this), summary.topPerformers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"top-performers\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uD83C\\uDFC6 Top 5 nh\\xE2n vi\\xEAn xu\\u1EA5t s\\u1EAFc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2761,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"performers-list\",\n                children: summary.topPerformers.map((performer, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"performer-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rank\",\n                    children: [\"#\", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2765,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"performer-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"name\",\n                      children: performer.userName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2767,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"department\",\n                      children: performer.department\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2768,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2766,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"score\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"score-value\",\n                      style: {\n                        color: getScoreLevel(performer.totalScore).color\n                      },\n                      children: [performer.totalScore, \"/100\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2771,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"level\",\n                      children: performer.level\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2777,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2770,\n                    columnNumber: 29\n                  }, this)]\n                }, performer.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2764,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2762,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2760,\n              columnNumber: 21\n            }, this), Object.keys(summary.departmentStats).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"department-performance\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCCA N\\u0103ng su\\u1EA5t theo b\\u1ED9 ph\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2788,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export-excel-btn\",\n                  onClick: () => exportDepartmentKPIExcel(summary.departmentStats),\n                  title: \"Xu\\u1EA5t b\\xE1o c\\xE1o Excel\",\n                  children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2789,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2787,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"department-list\",\n                children: Object.entries(summary.departmentStats).map(([dept, stats]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"department-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dept-name\",\n                    children: dept\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2800,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dept-stats\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"\\u0110\\xE1nh gi\\xE1: \", stats.count]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2802,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Trung b\\xECnh: \", stats.average, \"/100\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2803,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2801,\n                    columnNumber: 29\n                  }, this)]\n                }, dept, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2799,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2797,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2786,\n              columnNumber: 21\n            }, this), summary.dailyKPI && summary.dailyKPI.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"trend-section daily-kpi\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCC5 B\\xE1o c\\xE1o KPI theo ng\\xE0y (Th\\xE1ng n\\xE0y)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2815,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export-excel-btn\",\n                  onClick: () => exportDailyKPIExcel(summary.dailyKPI),\n                  title: \"Xu\\u1EA5t b\\xE1o c\\xE1o Excel\",\n                  children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2816,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2814,\n                columnNumber: 23\n              }, this), (() => {\n                const weeks = {};\n                summary.dailyKPI.forEach(day => {\n                  const weekNum = day.weekNumber || 1;\n                  if (!weeks[weekNum]) {\n                    weeks[weekNum] = [];\n                  }\n                  weeks[weekNum].push(day);\n                });\n                return Object.keys(weeks).map(weekNum => {\n                  const weekDays = weeks[weekNum];\n                  const firstDay = weekDays[0];\n                  const lastDay = weekDays[weekDays.length - 1];\n                  const weekTitle = weekDays.length < 7 ? `📅 Tuần ${weekNum} (${firstDay.date} - ${lastDay.date})` : `📅 Tuần ${weekNum}`;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"week-section\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"week-title\",\n                      children: weekTitle\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2845,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"daily-kpi-grid\",\n                      children: weekDays.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"daily-kpi-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"day-header\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"day-name\",\n                            children: day.day\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2850,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"day-date\",\n                            children: day.date\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2851,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2849,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"day-stats\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"day-stat\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-label\",\n                              children: \"\\u0110\\xE1nh gi\\xE1:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2855,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-value\",\n                              children: day.evaluationsCount\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2856,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2854,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"day-stat\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-label\",\n                              children: \"\\u0110i\\u1EC3m TB:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2859,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"stat-value score\",\n                              children: [day.averageScore, \"/100\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2860,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2858,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2853,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"day-progress\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"progress-fill\",\n                            style: {\n                              width: `${day.averageScore}%`,\n                              backgroundColor: day.averageScore >= 80 ? '#28a745' : day.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2864,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2863,\n                          columnNumber: 35\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2848,\n                        columnNumber: 33\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2846,\n                      columnNumber: 31\n                    }, this)]\n                  }, weekNum, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2844,\n                    columnNumber: 29\n                  }, this);\n                });\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2813,\n              columnNumber: 21\n            }, this), summary.monthlyTrend && summary.monthlyTrend.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"trend-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCCA Xu h\\u01B0\\u1EDBng theo th\\xE1ng (6 th\\xE1ng g\\u1EA7n nh\\u1EA5t)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2888,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"export-excel-btn\",\n                  onClick: () => exportMonthlyKPIExcel(summary.monthlyTrend),\n                  title: \"Xu\\u1EA5t b\\xE1o c\\xE1o Excel\",\n                  children: \"\\uD83D\\uDCCA Xu\\u1EA5t Excel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2889,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2887,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"trend-chart monthly-trend\",\n                children: summary.monthlyTrend.map((month, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"trend-item monthly\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-header\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"trend-label\",\n                      children: month.month\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2901,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2900,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-stats\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"trend-stat\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-label\",\n                        children: \"\\u0110\\xE1nh gi\\xE1:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2905,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-value\",\n                        children: month.evaluations\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2906,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2904,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"trend-stat\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-label\",\n                        children: \"\\u0110i\\u1EC3m TB:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2909,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat-value score\",\n                        children: [month.averageScore, \"/100\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2910,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2908,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2903,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trend-bar\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"trend-fill\",\n                      style: {\n                        width: `${month.averageScore}%`,\n                        backgroundColor: month.averageScore >= 80 ? '#28a745' : month.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2914,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2913,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2899,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2897,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2886,\n              columnNumber: 21\n            }, this), summary.totalEvaluations === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-data\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Ch\\u01B0a c\\xF3 d\\u1EEF li\\u1EC7u \\u0111\\xE1nh gi\\xE1 trong kho\\u1EA3ng th\\u1EDDi gian n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2931,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2930,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '30px',\n                padding: '15px',\n                background: 'linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)',\n                borderRadius: '8px',\n                border: '1px solid #ffc107'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                style: {\n                  margin: '0 0 15px 0',\n                  color: '#856404',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: \"\\uD83D\\uDCCA B\\xE1o c\\xE1o t\\u1ED5ng h\\u1EE3p tu\\u1EA7n trong th\\xE1ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2937,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '15px',\n                  marginBottom: '15px',\n                  flexWrap: 'wrap'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      color: '#856404',\n                      fontWeight: '600'\n                    },\n                    children: \"\\uD83D\\uDCC5 Tu\\u1EA7n:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2944,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: weeklyTimeFilter,\n                    onChange: e => setWeeklyTimeFilter(e.target.value),\n                    style: {\n                      padding: '6px 10px',\n                      borderRadius: '6px',\n                      border: '1px solid #ffc107',\n                      backgroundColor: 'white',\n                      color: '#495057'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"all\",\n                      children: \"T\\u1EA5t c\\u1EA3 tu\\u1EA7n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2956,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"current\",\n                      children: \"Tu\\u1EA7n hi\\u1EC7n t\\u1EA1i\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2957,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week1\",\n                      children: \"Tu\\u1EA7n 1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2958,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week2\",\n                      children: \"Tu\\u1EA7n 2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2959,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week3\",\n                      children: \"Tu\\u1EA7n 3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2960,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week4\",\n                      children: \"Tu\\u1EA7n 4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2961,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"week5\",\n                      children: \"Tu\\u1EA7n 5\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2962,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2945,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2943,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      color: '#856404',\n                      fontWeight: '600'\n                    },\n                    children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2967,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: weeklyDepartmentFilter,\n                    onChange: e => setWeeklyDepartmentFilter(e.target.value),\n                    style: {\n                      padding: '6px 10px',\n                      borderRadius: '6px',\n                      border: '1px solid #ffc107',\n                      backgroundColor: 'white',\n                      color: '#495057'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"all\",\n                      children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2979,\n                      columnNumber: 27\n                    }, this), Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: dept,\n                      children: dept\n                    }, dept, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2981,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2968,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2966,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2942,\n                columnNumber: 21\n              }, this), (() => {\n                const weeklySummaries = getFilteredWeeklySummaries();\n                if (weeklySummaries.length === 0) {\n                  return /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: 0,\n                      color: '#856404'\n                    },\n                    children: \"\\uD83D\\uDCED Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2990,\n                    columnNumber: 32\n                  }, this);\n                }\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      margin: '0 0 10px 0',\n                      color: '#856404'\n                    },\n                    children: [\"\\uD83D\\uDCC8 T\\u1ED5ng h\\u1EE3p t\\u1EEB \", weeklySummaries.reduce((sum, s) => sum + s.totalDailyEvaluations, 0), \" \\u0111\\xE1nh gi\\xE1 h\\xE0ng ng\\xE0y c\\u1EE7a \", weeklySummaries.length, \" nh\\xE2n vi\\xEAn\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2995,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      background: 'white',\n                      borderRadius: '8px',\n                      border: '1px solid #dee2e6',\n                      boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n                      overflow: 'hidden'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'grid',\n                        gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr',\n                        gap: '1px',\n                        background: '#f8f9fa',\n                        borderBottom: '2px solid #dee2e6'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3013,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCC5 Tu\\u1EA7n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3014,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3015,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCC5 T\\u1EEB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3016,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCC5 \\u0110\\u1EBFn\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3017,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCCA S\\u1ED1 \\u0111\\xE1nh gi\\xE1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3018,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\u26A1 Hi\\u1EC7u qu\\u1EA3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3019,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3020,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83E\\uDDE1 Th\\xE1i \\u0111\\u1ED9\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3021,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83C\\uDFAF T\\u1ED5ng \\u0111i\\u1EC3m\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3022,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          padding: '12px',\n                          fontWeight: '600',\n                          color: '#495057',\n                          textAlign: 'center'\n                        },\n                        children: \"\\uD83D\\uDCCA X\\u1EBFp lo\\u1EA1i\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3023,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3006,\n                      columnNumber: 29\n                    }, this), weeklySummaries.map((summary, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'grid',\n                          gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr',\n                          gap: '1px',\n                          borderBottom: index < weeklySummaries.length - 1 ? '1px solid #dee2e6' : 'none',\n                          background: index % 2 === 0 ? 'white' : '#f8f9fa',\n                          cursor: 'pointer',\n                          transition: 'all 0.3s ease'\n                        },\n                        onClick: () => toggleUserDetails(summary.userId),\n                        onMouseEnter: e => {\n                          e.currentTarget.style.background = '#e3f2fd';\n                        },\n                        onMouseLeave: e => {\n                          e.currentTarget.style.background = index % 2 === 0 ? 'white' : '#f8f9fa';\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'left',\n                            fontWeight: '500',\n                            color: '#333'\n                          },\n                          children: [\"\\uD83D\\uDC64 \", summary.userName]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3046,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: [\"Tu\\u1EA7n \", summary.weekNumber]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3049,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: summary.department\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3052,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: summary.weekNumber === 1 ? '01/10/2025' : new Date(summary.weekStart).toLocaleDateString('vi-VN')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3055,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#495057'\n                          },\n                          children: summary.weekNumber === 1 ? '05/10/2025' : new Date(summary.weekEnd).toLocaleDateString('vi-VN')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3058,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#1976d2',\n                            fontWeight: '500',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease'\n                          },\n                          onClick: e => {\n                            e.stopPropagation();\n                            toggleUserDetails(summary.userId);\n                          },\n                          onMouseEnter: e => {\n                            e.target.style.background = '#e3f2fd';\n                            e.target.style.borderRadius = '4px';\n                          },\n                          onMouseLeave: e => {\n                            e.target.style.background = 'transparent';\n                          },\n                          title: \"Click \\u0111\\u1EC3 xem chi ti\\u1EBFt \\u0111\\xE1nh gi\\xE1\",\n                          children: summary.totalDailyEvaluations\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3061,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#2e7d32',\n                            fontWeight: '500'\n                          },\n                          children: summary.averageScores.performance\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3084,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#ef6c00',\n                            fontWeight: '500'\n                          },\n                          children: summary.averageScores.discipline\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3087,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#c2185b',\n                            fontWeight: '500'\n                          },\n                          children: summary.averageScores.attitude\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3090,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            color: '#6f42c1',\n                            fontWeight: '600'\n                          },\n                          children: summary.averageTotalScore\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3093,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '12px',\n                            textAlign: 'center',\n                            fontWeight: '600',\n                            background: summary.weeklyLevel === 'Xuất sắc' ? '#e8f5e8' : summary.weeklyLevel === 'Tốt' ? '#e3f2fd' : summary.weeklyLevel === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                            color: summary.weeklyLevel === 'Xuất sắc' ? '#2e7d32' : summary.weeklyLevel === 'Tốt' ? '#1976d2' : summary.weeklyLevel === 'Trung bình' ? '#f57c00' : '#d32f2f',\n                            borderRadius: '4px',\n                            margin: '4px'\n                          },\n                          children: summary.weeklyLevel\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3096,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3029,\n                        columnNumber: 33\n                      }, this), expandedUser === summary.userId && /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          gridColumn: '1 / -1',\n                          // Span across all columns\n                          marginTop: '0',\n                          padding: '15px',\n                          background: '#f8f9fa',\n                          borderRadius: '0 0 8px 8px',\n                          border: '1px solid #dee2e6',\n                          borderTop: 'none'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          style: {\n                            margin: '0 0 10px 0',\n                            color: '#333',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '8px'\n                          },\n                          children: \"\\uD83D\\uDCCB Chi ti\\u1EBFt \\u0111\\xE1nh gi\\xE1 h\\xE0ng ng\\xE0y\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3124,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'grid',\n                            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                            gap: '10px'\n                          },\n                          children: summary.dailyEvaluations.map((evaluation, evalIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              background: 'white',\n                              padding: '12px',\n                              borderRadius: '6px',\n                              border: '1px solid #e9ecef',\n                              fontSize: '0.8rem'\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                display: 'flex',\n                                justifyContent: 'space-between',\n                                alignItems: 'center',\n                                marginBottom: '8px'\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                style: {\n                                  fontWeight: '600',\n                                  color: '#333'\n                                },\n                                children: [\"\\uD83D\\uDCC5 \", new Date(evaluation.date).toLocaleDateString('vi-VN')]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3153,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                style: {\n                                  padding: '2px 8px',\n                                  borderRadius: '12px',\n                                  fontSize: '0.7rem',\n                                  fontWeight: '600',\n                                  background: evaluation.level === 'Xuất sắc' ? '#e8f5e8' : evaluation.level === 'Tốt' ? '#e3f2fd' : evaluation.level === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                                  color: evaluation.level === 'Xuất sắc' ? '#2e7d32' : evaluation.level === 'Tốt' ? '#1976d2' : evaluation.level === 'Trung bình' ? '#f57c00' : '#d32f2f'\n                                },\n                                children: evaluation.level\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3156,\n                                columnNumber: 45\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3147,\n                              columnNumber: 43\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                display: 'grid',\n                                gridTemplateColumns: '1fr 1fr',\n                                gap: '5px'\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#666'\n                                },\n                                children: [\"\\u26A1 Hi\\u1EC7u qu\\u1EA3: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.scores.performance\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3174,\n                                  columnNumber: 59\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3173,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#666'\n                                },\n                                children: [\"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.scores.discipline\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3177,\n                                  columnNumber: 59\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3176,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#666'\n                                },\n                                children: [\"\\uD83E\\uDD1D Th\\xE1i \\u0111\\u1ED9: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.scores.attitude\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3180,\n                                  columnNumber: 59\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3179,\n                                columnNumber: 45\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  color: '#333',\n                                  fontWeight: '600'\n                                },\n                                children: [\"\\uD83C\\uDFAF T\\u1ED5ng: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                                  children: evaluation.totalScore\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 3183,\n                                  columnNumber: 56\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 3182,\n                                columnNumber: 45\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 3172,\n                              columnNumber: 43\n                            }, this)]\n                          }, evalIndex, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3140,\n                            columnNumber: 41\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3134,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            marginTop: '10px',\n                            padding: '8px',\n                            background: '#e3f2fd',\n                            borderRadius: '4px',\n                            fontSize: '0.8rem',\n                            color: '#1976d2',\n                            textAlign: 'center'\n                          },\n                          children: [\"\\uD83D\\uDCCA T\\u1ED5ng c\\u1ED9ng: \", summary.totalDailyEvaluations, \" \\u0111\\xE1nh gi\\xE1 | \\u0110i\\u1EC3m TB: \", summary.averageTotalScore, \" | X\\u1EBFp lo\\u1EA1i: \", summary.weeklyLevel]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3190,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3115,\n                        columnNumber: 35\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3028,\n                      columnNumber: 31\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2998,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2994,\n                  columnNumber: 25\n                }, this);\n              })()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2936,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2731,\n            columnNumber: 17\n          }, this);\n        })()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2614,\n        columnNumber: 11\n      }, this) : viewMode === 'history' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evaluation-history\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCCA L\\u1ECBch s\\u1EED \\u0111\\xE1nh gi\\xE1 KPI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-filters\",\n            style: {\n              display: 'flex',\n              gap: '15px',\n              marginBottom: '20px',\n              flexWrap: 'wrap',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  color: '#333',\n                  marginRight: '8px'\n                },\n                children: \"\\uD83D\\uDCC5 Th\\u1EDDi gian:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3228,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: historyTimeFilter,\n                onChange: e => setHistoryTimeFilter(e.target.value),\n                style: {\n                  padding: '8px 12px',\n                  borderRadius: '6px',\n                  border: '1px solid #ddd',\n                  fontSize: '0.9rem',\n                  background: 'white'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3242,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"today\",\n                  children: \"H\\xF4m nay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3243,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"week\",\n                  children: \"7 ng\\xE0y qua\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3244,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"month\",\n                  children: \"Th\\xE1ng n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3245,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"quarter\",\n                  children: \"Qu\\xFD n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"year\",\n                  children: \"N\\u0103m n\\xE0y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3231,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  color: '#333',\n                  marginRight: '8px'\n                },\n                children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: historyDepartmentFilter,\n                onChange: e => setHistoryDepartmentFilter(e.target.value),\n                style: {\n                  padding: '8px 12px',\n                  borderRadius: '6px',\n                  border: '1px solid #ddd',\n                  fontSize: '0.9rem',\n                  background: 'white'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"all\",\n                  children: \"T\\u1EA5t c\\u1EA3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3266,\n                  columnNumber: 21\n                }, this), getHistoryDepartments().map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3268,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3255,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3251,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  color: '#333',\n                  marginRight: '8px'\n                },\n                children: \"\\uD83D\\uDCC5 Ng\\xE0y c\\u1EE5 th\\u1EC3:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: historyDateFilter,\n                onChange: e => {\n                  setHistoryDateFilter(e.target.value);\n                  if (e.target.value) {\n                    setHistoryTimeFilter('all'); // Reset time filter when date is selected\n                  }\n                },\n                style: {\n                  padding: '8px 12px',\n                  borderRadius: '6px',\n                  border: '1px solid #ddd',\n                  fontSize: '0.9rem',\n                  background: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3277,\n                columnNumber: 19\n              }, this), historyDateFilter && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setHistoryDateFilter(''),\n                style: {\n                  marginLeft: '8px',\n                  padding: '4px 8px',\n                  borderRadius: '4px',\n                  border: '1px solid #dc3545',\n                  background: '#dc3545',\n                  color: 'white',\n                  fontSize: '0.8rem',\n                  cursor: 'pointer'\n                },\n                children: \"\\u2715 X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3295,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '8px 12px',\n                background: '#f8f9fa',\n                borderRadius: '6px',\n                fontSize: '0.9rem',\n                color: '#666',\n                border: '1px solid #e9ecef'\n              },\n              children: [\"\\uD83D\\uDCCA Hi\\u1EC3n th\\u1ECB: \", getFilteredHistory().length, \" / \", evaluationHistory.length, \" \\u0111\\xE1nh gi\\xE1\", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý' && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#28a745',\n                  fontWeight: 'bold'\n                },\n                children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3323,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3313,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3220,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3216,\n          columnNumber: 13\n        }, this), evaluationHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-history\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o \\u0111\\u01B0\\u1EE3c l\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3331,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3330,\n          columnNumber: 15\n        }, this) : getFilteredHistory().length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-history\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Kh\\xF4ng c\\xF3 \\u0111\\xE1nh gi\\xE1 n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi b\\u1ED9 l\\u1ECDc \\u0111\\xE3 ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3335,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3334,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3341,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3342,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDCC5 Ng\\xE0y \\u0111\\xE1nh gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3343,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDCCA Hi\\u1EC7u qu\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3344,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3345,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83E\\uDD1D Th\\xE1i \\u0111\\u1ED9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3346,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83C\\uDFAF T\\u1ED5ng \\u0111i\\u1EC3m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3347,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83C\\uDFC6 X\\u1EBFp lo\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3348,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Ng\\u01B0\\u1EDDi \\u0111\\xE1nh gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3349,\n                columnNumber: 21\n              }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"\\u2699\\uFE0F Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3351,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3340,\n              columnNumber: 19\n            }, this), getFilteredHistory().map(evaluation => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"table-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name\",\n                  children: evaluation.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3358,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3357,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"department\",\n                children: evaluation.department\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3360,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date\",\n                children: new Date(evaluation.date).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3361,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score performance\",\n                style: {\n                  color: '#28a745'\n                },\n                children: evaluation.scores.performance\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3362,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score discipline\",\n                style: {\n                  color: '#ffc107'\n                },\n                children: evaluation.scores.discipline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3365,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score attitude\",\n                style: {\n                  color: '#dc3545'\n                },\n                children: evaluation.scores.attitude\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3368,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-score\",\n                style: {\n                  color: '#6f42c1',\n                  fontWeight: 'bold'\n                },\n                children: evaluation.totalScore\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3371,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"level\",\n                style: {\n                  color: getScoreLevel(evaluation.totalScore).color,\n                  fontWeight: '600'\n                },\n                children: evaluation.level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3374,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evaluator\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-name\",\n                  children: evaluation.evaluatedBy || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3384,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-role\",\n                  children: evaluation.evaluatorRole || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3387,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3383,\n                columnNumber: 23\n              }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-btn\",\n                  onClick: () => handleDeleteEvaluation(evaluation.id),\n                  title: \"X\\xF3a \\u0111\\xE1nh gi\\xE1\",\n                  style: {\n                    padding: '6px 12px',\n                    borderRadius: '4px',\n                    border: '1px solid #dc3545',\n                    background: '#dc3545',\n                    color: 'white',\n                    fontSize: '0.8rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease'\n                  },\n                  onMouseOver: e => {\n                    e.target.style.background = '#c82333';\n                    e.target.style.borderColor = '#c82333';\n                  },\n                  onMouseOut: e => {\n                    e.target.style.background = '#dc3545';\n                    e.target.style.borderColor = '#dc3545';\n                  },\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3393,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3392,\n                columnNumber: 25\n              }, this)]\n            }, evaluation.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3356,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3339,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3338,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3215,\n        columnNumber: 11\n      }, this) : viewMode === 'all-evaluations' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-evaluations\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"all-evaluations-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDC65 T\\u1EA5t c\\u1EA3 \\u0111\\xE1nh gi\\xE1 KPI trong h\\u1EC7 th\\u1ED1ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: exportAllEvaluationsExcel,\n                title: \"Xu\\u1EA5t danh s\\xE1ch \\u0111\\xE1nh gi\\xE1 theo filter hi\\u1EC7n t\\u1EA1i\",\n                children: \"\\uD83D\\uDCC4 Xu\\u1EA5t theo filter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3432,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: exportAllEvaluationsExcelUnfiltered,\n                title: \"Xu\\u1EA5t t\\u1EA5t c\\u1EA3 \\u0111\\xE1nh gi\\xE1 kh\\xF4ng b\\u1ECB filter\",\n                style: {\n                  background: 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)'\n                },\n                children: \"\\uD83D\\uDCCB Xu\\u1EA5t t\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3439,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"export-excel-btn\",\n                onClick: () => {\n                  const weeklySummaries = getFilteredWeeklySummaries();\n                  if (weeklySummaries.length > 0) {\n                    const filterSuffix = weeklyTimeFilter !== 'all' || weeklyDepartmentFilter !== 'all' ? `_${weeklyTimeFilter}_${weeklyDepartmentFilter}` : '';\n                    exportWeeklySummariesToCSV(weeklySummaries, `Bao_cao_tong_hop_tuan${filterSuffix}`);\n                  } else {\n                    alert('📭 Chưa có đánh giá nào phù hợp với bộ lọc để tổng hợp');\n                  }\n                },\n                title: \"Xu\\u1EA5t b\\xE1o c\\xE1o t\\u1ED5ng h\\u1EE3p tu\\u1EA7n theo b\\u1ED9 l\\u1ECDc\",\n                style: {\n                  background: 'linear-gradient(135deg, #fd7e14 0%, #e8590c 100%)'\n                },\n                children: \"\\uD83D\\uDCCA T\\u1ED5ng h\\u1EE3p tu\\u1EA7n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3447,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3431,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3429,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evaluations-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"T\\u1ED5ng \\u0111\\xE1nh gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Xuất sắc').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3473,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Xu\\u1EA5t s\\u1EAFc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3476,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3472,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Tốt').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"T\\u1ED1t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3482,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Trung bình').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3485,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"Trung b\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3488,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3484,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-number\",\n                children: allEvaluations.filter(e => e.level === 'Cần cải thiện').length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3491,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"stat-label\",\n                children: \"C\\u1EA7n c\\u1EA3i thi\\u1EC7n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3467,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluations-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedDepartment,\n              onChange: e => setSelectedDepartment(e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3507,\n                columnNumber: 19\n              }, this), Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: dept,\n                children: dept\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3509,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3502,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCC5 Kho\\u1EA3ng th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: summaryPeriod,\n              onChange: e => setSummaryPeriod(e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Tu\\u1EA7n n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3520,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Th\\xE1ng n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quarter\",\n                children: \"Qu\\xFD n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3522,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"N\\u0103m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3523,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3524,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3513,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3499,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluations-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDC64 Nh\\xE2n vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3531,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3532,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDCC5 Ng\\xE0y \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3533,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDCCA Hi\\u1EC7u qu\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3534,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\u2696\\uFE0F K\\u1EF7 lu\\u1EADt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83E\\uDD1D Th\\xE1i \\u0111\\u1ED9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83C\\uDFAF T\\u1ED5ng \\u0111i\\u1EC3m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3537,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83C\\uDFC6 X\\u1EBFp lo\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Ng\\u01B0\\u1EDDi \\u0111\\xE1nh gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3539,\n              columnNumber: 17\n            }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\u2699\\uFE0F Thao t\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3541,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3530,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-info\",\n            style: {\n              marginBottom: '15px',\n              padding: '10px',\n              background: '#f8f9fa',\n              borderRadius: '8px',\n              fontSize: '0.9rem'\n            },\n            children: [\"\\uD83D\\uDCCA Hi\\u1EC3n th\\u1ECB: \", allEvaluations.filter(evaluation => {\n              // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n              if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý') {\n                if (evaluation.evaluatedBy !== currentUser.fullName) {\n                  return false;\n                }\n              }\n              if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                return false;\n              }\n              const evalDate = new Date(evaluation.date);\n              const today = new Date();\n              let startDate;\n              switch (summaryPeriod) {\n                case 'week':\n                  // Current week: from Monday to Sunday\n                  startDate = new Date(today);\n                  startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                  const endDate = new Date(today);\n                  endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                  return evalDate >= startDate && evalDate <= endDate;\n                case 'month':\n                  startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                  break;\n                case 'quarter':\n                  const quarter = Math.floor(today.getMonth() / 3);\n                  startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                  break;\n                case 'year':\n                  startDate = new Date(today.getFullYear(), 0, 1);\n                  break;\n                default:\n                  return true;\n              }\n              return evalDate >= startDate && evalDate <= today;\n            }).length, \" / \", allEvaluations.length, \" \\u0111\\xE1nh gi\\xE1\", ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#28a745',\n                fontWeight: 'bold'\n              },\n              children: \" (Qu\\u1EA3n l\\xFD xem t\\u1EA5t c\\u1EA3)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3585,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3545,\n            columnNumber: 15\n          }, this), (() => {\n            const filteredEvaluations = allEvaluations.filter(evaluation => {\n              // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n              if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Quản lý') {\n                if (evaluation.evaluatedBy !== currentUser.fullName) {\n                  return false;\n                }\n              }\n\n              // Filter by department\n              if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                return false;\n              }\n\n              // Filter by time period\n              const evalDate = new Date(evaluation.date);\n              const today = new Date();\n              let startDate;\n              switch (summaryPeriod) {\n                case 'week':\n                  // Current week: from Monday to Sunday\n                  startDate = new Date(today);\n                  startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                  const endDate = new Date(today);\n                  endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                  return evalDate >= startDate && evalDate <= endDate;\n                case 'month':\n                  startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                  break;\n                case 'quarter':\n                  const quarter = Math.floor(today.getMonth() / 3);\n                  startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                  break;\n                case 'year':\n                  startDate = new Date(today.getFullYear(), 0, 1);\n                  return evalDate >= startDate && evalDate <= today;\n                case 'all':\n                  // Show all evaluations\n                  return true;\n                default:\n                  // Show all evaluations when no specific period is selected\n                  return true;\n              }\n            }).sort((a, b) => new Date(b.date) - new Date(a.date));\n\n            // Debug log\n            console.log('Total evaluations:', allEvaluations.length);\n            console.log('Filtered evaluations:', filteredEvaluations.length);\n            console.log('Selected department:', selectedDepartment);\n            console.log('Summary period:', summaryPeriod);\n            return filteredEvaluations.map(evaluation => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evaluation-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name\",\n                  children: evaluation.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3648,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3647,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"department\",\n                children: evaluation.department\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3650,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date\",\n                children: new Date(evaluation.date).toLocaleDateString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3651,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score performance\",\n                children: [evaluation.scores.performance, \"/100\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3654,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score discipline\",\n                children: [evaluation.scores.discipline, \"/100\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3657,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score attitude\",\n                children: [evaluation.scores.attitude, \"/100\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3660,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-score\",\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [evaluation.totalScore, \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3664,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3663,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"level\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"level-badge\",\n                  style: {\n                    backgroundColor: evaluation.level === 'Xuất sắc' ? '#28a745' : evaluation.level === 'Tốt' ? '#17a2b8' : evaluation.level === 'Trung bình' ? '#ffc107' : '#dc3545'\n                  },\n                  children: evaluation.level\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3667,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3666,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evaluator\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-name\",\n                  children: evaluation.evaluatedBy || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3680,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluator-role\",\n                  children: evaluation.evaluatorRole || 'Chưa xác định'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3683,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3679,\n                columnNumber: 21\n              }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý') && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-btn\",\n                  onClick: () => handleDeleteEvaluation(evaluation.id),\n                  title: \"X\\xF3a \\u0111\\xE1nh gi\\xE1\",\n                  style: {\n                    padding: '6px 12px',\n                    borderRadius: '4px',\n                    border: '1px solid #dc3545',\n                    background: '#dc3545',\n                    color: 'white',\n                    fontSize: '0.8rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease'\n                  },\n                  onMouseOver: e => {\n                    e.target.style.background = '#c82333';\n                    e.target.style.borderColor = '#c82333';\n                  },\n                  onMouseOut: e => {\n                    e.target.style.background = '#dc3545';\n                    e.target.style.borderColor = '#dc3545';\n                  },\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3689,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3688,\n                columnNumber: 23\n              }, this)]\n            }, evaluation.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3646,\n              columnNumber: 19\n            }, this));\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3529,\n          columnNumber: 13\n        }, this), allEvaluations.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-evaluations\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCED Ch\\u01B0a c\\xF3 \\u0111\\xE1nh gi\\xE1 KPI n\\xE0o trong h\\u1EC7 th\\u1ED1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3723,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3722,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3427,\n        columnNumber: 11\n      }, this) : !isEvaluating ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-selection\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDC65 Ch\\u1ECDn nh\\xE2n vi\\xEAn \\u0111\\u1EC3 \\u0111\\xE1nh gi\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3729,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-permission-info\",\n          children: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Quản lý' ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Qu\\u1EA3n l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3734,\n              columnNumber: 23\n            }, this), \" \\u0111\\xE1nh gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 tr\\u01B0\\u1EDFng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3734,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3734,\n            columnNumber: 17\n          }, this) : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng' ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 tr\\u01B0\\u1EDFng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3736,\n              columnNumber: 23\n            }, this), \" \\u0111\\xE1nh gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 ph\\xF3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3736,\n              columnNumber: 59\n            }, this), \" v\\xE0 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nh\\xE2n vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3736,\n              columnNumber: 86\n            }, this), \" trong b\\u1ED9 ph\\u1EADn \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: currentUser.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3736,\n              columnNumber: 127\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3736,\n            columnNumber: 17\n          }, this) : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó' ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uD83D\\uDCCB \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"T\\u1ED5 ph\\xF3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3738,\n              columnNumber: 23\n            }, this), \" \\u0111\\xE1nh gi\\xE1 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Nh\\xE2n vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3738,\n              columnNumber: 56\n            }, this), \" trong b\\u1ED9 ph\\u1EADn \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: currentUser.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3738,\n              columnNumber: 97\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3738,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u274C B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n \\u0111\\xE1nh gi\\xE1 KPI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3740,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3732,\n          columnNumber: 13\n        }, this), departments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"department-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `dept-tab ${selectedDepartment === 'all' ? 'active' : ''}`,\n            onClick: () => setSelectedDepartment('all'),\n            children: \"\\uD83C\\uDFE2 T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3747,\n            columnNumber: 17\n          }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `dept-tab ${selectedDepartment === dept ? 'active' : ''}`,\n            onClick: () => setSelectedDepartment(dept),\n            children: [\"\\uD83C\\uDFE2 \", dept]\n          }, dept, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3754,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3746,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-grid\",\n          children: filteredUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-users\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Kh\\xF4ng c\\xF3 nh\\xE2n vi\\xEAn n\\xE0o trong b\\u1ED9 ph\\u1EADn n\\xE0y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3769,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3768,\n            columnNumber: 17\n          }, this) : filteredUsers.map(user => {\n            // Kiểm tra xem người này đã được đánh giá trong ngày hôm nay chưa\n            const today = new Date().toISOString().split('T')[0];\n            const alreadyEvaluatedToday = allEvaluations.some(evaluation => evaluation.userId === user.id && evaluation.date === today && evaluation.evaluatedBy === currentUser.fullName);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: user.fullName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3784,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [user.department, \" - \", user.position]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3785,\n                  columnNumber: 25\n                }, this), alreadyEvaluatedToday && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evaluation-status\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-badge evaluated\",\n                    children: \"\\u2705 \\u0110\\xE3 \\u0111\\xE1nh gi\\xE1 h\\xF4m nay\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3788,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3787,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3783,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleStartEvaluation(user),\n                className: `evaluate-btn ${alreadyEvaluatedToday ? 'disabled' : ''}`,\n                disabled: alreadyEvaluatedToday,\n                title: alreadyEvaluatedToday ? 'Bạn đã đánh giá người này trong ngày hôm nay' : 'Bấm để đánh giá KPI',\n                children: alreadyEvaluatedToday ? '✅ Đã đánh giá' : '📝 Đánh giá KPI'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3792,\n                columnNumber: 23\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3782,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3766,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3728,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"evaluation-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDCDD \\u0110\\xE1nh gi\\xE1 KPI cho: \", selectedUser.fullName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evaluation-date-display\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDCC5 Ng\\xE0y: \", evaluationDate]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3811,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3810,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"evaluation-weights\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Thang \\u0111i\\u1EC3m: 0-100 \\u0111i\\u1EC3m cho m\\u1ED7i ti\\xEAu ch\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3814,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3813,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3808,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"criteria-list\",\n          children: criteria.map(criterion => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"criterion-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"criterion-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [criterion.title, \" (\", criterion.weight, \"%)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3822,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: criterion.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3823,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3821,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evaluation-inputs\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evaluator-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"\\u0110i\\u1EC3m \\u0111\\xE1nh gi\\xE1: \", evaluationData[criterion.name], \"/100\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3828,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0\",\n                  max: \"100\",\n                  value: evaluationData[criterion.name],\n                  onChange: e => handleScoreChange(criterion.name, e.target.value),\n                  className: \"score-slider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3829,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"slider-labels\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3838,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3839,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3840,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"75\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3841,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"100\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3842,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3837,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3827,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3826,\n              columnNumber: 19\n            }, this)]\n          }, criterion.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3820,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3818,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-summary\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"total-score\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"\\u0110i\\u1EC3m t\\u1ED5ng KPI: \", calculateTotalScore(), \"/100\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3852,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"score-level\",\n              style: {\n                color: getScoreLevel(calculateTotalScore()).color\n              },\n              children: getScoreLevel(calculateTotalScore()).level\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3853,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3851,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3850,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"evaluation-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveEvaluation,\n            className: \"save-evaluation-btn\",\n            children: \"\\uD83D\\uDCBE L\\u01B0u \\u0111\\xE1nh gi\\xE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3863,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsEvaluating(false),\n            className: \"cancel-evaluation-btn\",\n            children: \"\\u274C H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3866,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3862,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3807,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2535,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Job Management Component\n  _s3(KPIEvaluation, \"26gQ0jSTv2D+5SpiKeEX7I4vxAY=\");\n  const JobManagement = ({\n    jobs,\n    onUpdateJobs,\n    currentUser\n  }) => {\n    _s4();\n    const [newJob, setNewJob] = useState({\n      deliveryDate: '',\n      department: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) || '',\n      description: '',\n      completionTime: '',\n      status: '',\n      jobType: 'management',\n      assignee: '',\n      assigner: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || '',\n      completionEvidence: [] // Array of uploaded files\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [filters, setFilters] = useState({\n      department: '',\n      status: '',\n      search: '',\n      timeRange: 'all' // all, week, month, quarter, year\n    });\n    const [uploadingFiles, setUploadingFiles] = useState({});\n    const [showEvidenceModal, setShowEvidenceModal] = useState(false);\n    const [selectedJob, setSelectedJob] = useState(null);\n\n    // Lọc jobs theo bộ phận của user (trừ admin)\n    const getFilteredJobsByDepartment = () => {\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin') {\n        return jobs; // Admin thấy tất cả\n      }\n\n      // Tổ trưởng: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') {\n        return jobs.filter(job => job.department === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) && (job.assignee === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || !job.assignee));\n      }\n\n      // Tổ phó và nhân viên: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Nhân viên') {\n        return jobs.filter(job => job.department === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) && (job.assignee === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || !job.assignee));\n      }\n      return jobs;\n    };\n    const departments = ['Kho Phôi', 'Sản Xuất', 'Đóng gói', 'Kho & Trải Cắt', 'Quản lý'];\n    const statusOptions = ['nhận việc', 'đang xử lý', 'chờ duyệt', 'thành công', 'thất bại'];\n\n    // Filter jobs based on current filters (sau khi đã lọc theo bộ phận)\n    const departmentFilteredJobs = getFilteredJobsByDepartment();\n\n    // Filter by time range\n    const getTimeFilteredJobs = jobs => {\n      if (filters.timeRange === 'all') return jobs;\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      return jobs.filter(job => {\n        if (!job.deliveryDate) return false;\n        const jobDate = new Date(job.deliveryDate);\n        const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n        switch (filters.timeRange) {\n          case 'week':\n            const weekStart = new Date(today);\n            weekStart.setDate(today.getDate() - today.getDay());\n            const weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n          case 'month':\n            const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n            const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n            const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n          case 'year':\n            const yearStart = new Date(today.getFullYear(), 0, 1);\n            const yearEnd = new Date(today.getFullYear(), 11, 31);\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n          default:\n            return true;\n        }\n      });\n    };\n    const timeFilteredJobs = getTimeFilteredJobs(departmentFilteredJobs);\n    const filteredJobs = timeFilteredJobs.filter(job => {\n      const matchesDepartment = !filters.department || job.department === filters.department;\n      const matchesStatus = !filters.status || job.status === filters.status;\n      const matchesSearch = !filters.search || job.description.toLowerCase().includes(filters.search.toLowerCase()) || job.department.toLowerCase().includes(filters.search.toLowerCase());\n      return matchesDepartment && matchesStatus && matchesSearch;\n    });\n    const handleFilterChange = (filterType, value) => {\n      setFilters(prev => ({\n        ...prev,\n        [filterType]: value\n      }));\n    };\n    const clearFilters = () => {\n      setFilters({\n        department: '',\n        status: '',\n        search: '',\n        timeRange: 'all'\n      });\n    };\n\n    // File upload functions\n    const handleFileUpload = async (jobId, files) => {\n      const job = jobs.find(j => j.id === jobId);\n      if (!job) {\n        console.error('❌ Không tìm thấy công việc với ID:', jobId);\n        alert('❌ Không tìm thấy công việc. Vui lòng thử lại.');\n        return;\n      }\n      if (!files || files.length === 0) {\n        console.error('❌ Không có file nào được chọn');\n        alert('❌ Vui lòng chọn file để upload.');\n        return;\n      }\n      setUploadingFiles(prev => ({\n        ...prev,\n        [jobId]: true\n      }));\n      try {\n        console.log(`📤 Bắt đầu upload ${files.length} file(s) cho công việc ${jobId}`);\n\n        // Test server connection first\n        const serverOk = await testServerConnection();\n        if (!serverOk) {\n          throw new Error('Không thể kết nối đến server. Vui lòng kiểm tra server có đang chạy không.');\n        }\n\n        // Validate file types and sizes\n        const maxFileSize = 50 * 1024 * 1024; // 50MB (phù hợp với server limit)\n        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/bmp', 'video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm', 'video/mkv'];\n        for (let file of files) {\n          if (file.size > maxFileSize) {\n            throw new Error(`File ${file.name} quá lớn (tối đa 50MB)`);\n          }\n          if (!allowedTypes.includes(file.type)) {\n            throw new Error(`File ${file.name} không được hỗ trợ. Chỉ chấp nhận hình ảnh và video.`);\n          }\n        }\n\n        // Convert files to base64 for storage\n        const filePromises = Array.from(files).map((file, index) => {\n          return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = () => {\n              console.log(`✅ Đã đọc file ${index + 1}/${files.length}: ${file.name}`);\n              resolve({\n                name: file.name,\n                type: file.type,\n                size: file.size,\n                data: reader.result,\n                uploadDate: new Date().toISOString()\n              });\n            };\n            reader.onerror = error => {\n              console.error(`❌ Lỗi đọc file ${file.name}:`, error);\n              reject(new Error(`Lỗi đọc file ${file.name}`));\n            };\n            reader.readAsDataURL(file);\n          });\n        });\n        const uploadedFiles = await Promise.all(filePromises);\n        console.log(`✅ Đã convert ${uploadedFiles.length} file(s) thành base64`);\n\n        // Update job with new evidence\n        const updatedJobs = jobs.map(j => j.id === jobId ? {\n          ...j,\n          completionEvidence: [...(j.completionEvidence || []), ...uploadedFiles],\n          status: 'thành công' // Auto-complete when evidence is uploaded\n        } : j);\n        console.log('💾 Đang lưu dữ liệu vào server...');\n\n        // Save to server\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          const result = await response.json();\n          console.log('✅ Server response:', result);\n          onUpdateJobs(updatedJobs);\n          alert(`✅ Đã upload ${uploadedFiles.length} file(s) và cập nhật trạng thái thành \"thành công\"`);\n        } else {\n          const errorText = await response.text();\n          console.error('❌ Server error response:', response.status, errorText);\n          throw new Error(`Server trả về lỗi ${response.status}: ${errorText}`);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi upload file chi tiết:', error);\n        alert(`❌ Lỗi khi upload file: ${error.message || 'Vui lòng thử lại.'}`);\n      } finally {\n        setUploadingFiles(prev => ({\n          ...prev,\n          [jobId]: false\n        }));\n      }\n    };\n    const removeEvidence = async (jobId, evidenceIndex) => {\n      try {\n        const updatedJobs = jobs.map(job => job.id === jobId ? {\n          ...job,\n          completionEvidence: job.completionEvidence.filter((_, index) => index !== evidenceIndex)\n        } : job);\n\n        // Save to server\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          onUpdateJobs(updatedJobs);\n          alert('✅ Đã xóa bằng chứng thành công');\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi xóa bằng chứng:', error);\n        alert('❌ Lỗi khi xóa bằng chứng. Vui lòng thử lại.');\n      }\n    };\n    const openEvidenceModal = job => {\n      setSelectedJob(job);\n      setShowEvidenceModal(true);\n    };\n    const handleAddJob = async () => {\n      if (!newJob.description || !newJob.deliveryDate || !newJob.assignee) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n      try {\n        const job = {\n          id: Date.now(),\n          ...newJob\n        };\n        const updatedJobs = [...jobs, job];\n\n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          onUpdateJobs(updatedJobs);\n          alert('✅ Đã thêm công việc thành công');\n          setNewJob({\n            deliveryDate: '',\n            department: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) || '',\n            description: '',\n            completionTime: '',\n            status: '',\n            jobType: 'management',\n            assignee: '',\n            assigner: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || '',\n            completionEvidence: []\n          });\n          setIsAdding(false);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi thêm công việc:', error);\n        alert('❌ Lỗi khi thêm công việc. Vui lòng thử lại.');\n      }\n    };\n    const handleDeleteJob = async id => {\n      // Chỉ Admin mới được xóa công việc\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin') {\n        alert('Chỉ Quản lý mới có quyền xóa công việc!');\n        return;\n      }\n      if (confirm('Bạn có chắc muốn xóa công việc này?')) {\n        try {\n          const updatedJobs = jobs.filter(job => job.id !== id);\n\n          // Save to server\n          const response = await fetch(`${API_BASE}/api/jobs`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              jobs: updatedJobs\n            })\n          });\n          if (response.ok) {\n            onUpdateJobs(updatedJobs);\n            alert('✅ Đã xóa công việc thành công');\n          } else {\n            throw new Error('Lỗi khi lưu dữ liệu vào server');\n          }\n        } catch (error) {\n          console.error('❌ Lỗi xóa công việc:', error);\n          alert('❌ Lỗi khi xóa công việc. Vui lòng thử lại.');\n        }\n      }\n    };\n    const handleUpdateJob = async (id, field, value) => {\n      const job = jobs.find(j => j.id === id);\n\n      // Không cho phép chỉnh sửa công việc đã hoàn thành\n      if (job && job.status === 'thành công') {\n        alert('Không thể chỉnh sửa công việc đã hoàn thành!');\n        return;\n      }\n\n      // Chỉ cho phép thay đổi trạng thái nếu không phải admin hoặc tổ trưởng\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) !== 'Tổ trưởng' && field !== 'status') {\n        alert('Bạn chỉ được phép thay đổi trạng thái công việc!');\n        return;\n      }\n      try {\n        const updatedJobs = jobs.map(job => job.id === id ? {\n          ...job,\n          [field]: value\n        } : job);\n\n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jobs: updatedJobs\n          })\n        });\n        if (response.ok) {\n          onUpdateJobs(updatedJobs);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi cập nhật công việc:', error);\n        alert('❌ Lỗi khi cập nhật công việc. Vui lòng thử lại.');\n      }\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"job-management\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"job-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDCCB Qu\\u1EA3n l\\xFD c\\xF4ng vi\\u1EC7c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: testServerConnection,\n            className: \"test-connection-btn\",\n            title: \"Ki\\u1EC3m tra k\\u1EBFt n\\u1ED1i server\",\n            children: \"\\uD83D\\uDD0D Test Server\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"check-overdue-btn\",\n            onClick: checkAndUpdateOverdueJobs,\n            children: \"\\u26A0\\uFE0F Ki\\u1EC3m tra tr\\u1EC5 h\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4288,\n            columnNumber: 13\n          }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            onClick: () => setIsAdding(true),\n            children: \"\\u2795 Th\\xEAm c\\xF4ng vi\\u1EC7c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quick-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'week' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'week'),\n          children: \"\\uD83D\\uDCC5 Tu\\u1EA7n n\\xE0y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'month' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'month'),\n          children: \"\\uD83D\\uDCC6 Th\\xE1ng n\\xE0y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'quarter' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'quarter'),\n          children: \"\\uD83D\\uDCCA Qu\\xFD n\\xE0y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `quick-action-btn ${filters.timeRange === 'all' ? 'active' : ''}`,\n          onClick: () => handleFilterChange('timeRange', 'all'),\n          children: \"\\uD83D\\uDDD3\\uFE0F T\\u1EA5t c\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDD0D T\\xECm ki\\u1EBFm:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Nh\\u1EADp t\\u1EEB kh\\xF3a...\",\n              value: filters.search,\n              onChange: e => handleFilterChange('search', e.target.value),\n              className: \"filter-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4335,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.department,\n              onChange: e => handleFilterChange('department', e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4351,\n                columnNumber: 17\n              }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: dept,\n                children: dept\n              }, dept, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4353,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4346,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCCA Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.status,\n              onChange: e => handleFilterChange('status', e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4365,\n                columnNumber: 17\n              }, this), statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: status,\n                children: status\n              }, status, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4367,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\uD83D\\uDCC5 Th\\u1EDDi gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.timeRange,\n              onChange: e => handleFilterChange('timeRange', e.target.value),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"T\\u1EA5t c\\u1EA3 th\\u1EDDi gian\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4379,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"Tu\\u1EA7n n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"Th\\xE1ng n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quarter\",\n                children: \"Qu\\xFD n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"N\\u0103m n\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4374,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearFilters,\n              className: \"clear-filters-btn\",\n              children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a b\\u1ED9 l\\u1ECDc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"filter-count\",\n              children: [\"Hi\\u1EC3n th\\u1ECB: \", filteredJobs.length, \"/\", timeFilteredJobs.length, \" c\\xF4ng vi\\u1EC7c\", filters.timeRange !== 'all' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"time-info\",\n                children: [filters.timeRange === 'week' && ' (Tuần này)', filters.timeRange === 'month' && ' (Tháng này)', filters.timeRange === 'quarter' && ' (Quý này)', filters.timeRange === 'year' && ' (Năm này)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4397,\n                columnNumber: 15\n              }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"department-info\",\n                children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4405,\n                columnNumber: 15\n              }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ phó' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Nhân viên' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"permission-info\",\n                children: \" - Ch\\u1EC9 th\\u1EA5y c\\xF4ng vi\\u1EC7c \\u0111\\u01B0\\u1EE3c giao cho m\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4408,\n                columnNumber: 15\n              }, this) : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"permission-info\",\n                children: \" - Ch\\u1EC9 th\\u1EA5y c\\xF4ng vi\\u1EC7c \\u0111\\u01B0\\u1EE3c giao cho m\\xECnh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4410,\n                columnNumber: 15\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4394,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4332,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4331,\n        columnNumber: 9\n      }, this), isAdding && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-job-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Th\\xEAm c\\xF4ng vi\\u1EC7c m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4419,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Ng\\xE0y giao vi\\u1EC7c\",\n            value: newJob.deliveryDate,\n            onChange: e => setNewJob({\n              ...newJob,\n              deliveryDate: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newJob.department,\n            onChange: e => setNewJob({\n              ...newJob,\n              department: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn b\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4431,\n              columnNumber: 17\n            }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4433,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"M\\xF4 t\\u1EA3 c\\xF4ng vi\\u1EC7c\",\n            value: newJob.description,\n            onChange: e => setNewJob({\n              ...newJob,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newJob.assignee,\n            onChange: e => setNewJob({\n              ...newJob,\n              assignee: e.target.value\n            }),\n            className: \"job-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn ng\\u01B0\\u1EDDi nh\\u1EADn vi\\u1EC7c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4449,\n              columnNumber: 17\n            }, this), users.filter(user => user.department === newJob.department).map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: user.fullName,\n              children: [user.fullName, \" (\", user.position, \")\"]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4451,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4444,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Th\\u1EDDi gian ho\\xE0n th\\xE0nh\",\n            value: newJob.completionTime,\n            onChange: e => setNewJob({\n              ...newJob,\n              completionTime: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4458,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4457,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newJob.status,\n            onChange: e => setNewJob({\n              ...newJob,\n              status: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4470,\n              columnNumber: 17\n            }, this), statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: status,\n              children: status\n            }, status, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4472,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4466,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4465,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddJob,\n            className: \"save-btn\",\n            children: \"\\uD83D\\uDCBE L\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4477,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsAdding(false),\n            className: \"cancel-btn\",\n            children: \"\\u274C H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4476,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4418,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"job-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"job-item header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCC5 Ng\\xE0y giao\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4489,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCDD M\\xF4 t\\u1EA3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4491,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDC64 Ng\\u01B0\\u1EDDi giao\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4492,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83C\\uDFAF Ng\\u01B0\\u1EDDi nh\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u23F0 Th\\u1EDDi gian\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4494,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCCA Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\uD83D\\uDCCE B\\u1EB1ng ch\\u1EE9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4496,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"\\u2699\\uFE0F Thao t\\xE1c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4488,\n          columnNumber: 11\n        }, this), filteredJobs.map(job => {\n          const isCompleted = job.status === 'thành công';\n          const canDelete = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin';\n          const canEdit = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `job-item ${isCompleted ? 'completed' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Ng\\xE0y giao\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: job.deliveryDate,\n                onChange: e => handleUpdateJob(job.id, 'deliveryDate', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4507,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1ED9 ph\\u1EADn\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: job.department,\n                onChange: e => handleUpdateJob(job.id, 'department', e.target.value),\n                className: \"job-select\",\n                disabled: isCompleted || !canEdit,\n                children: departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4523,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4516,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4515,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"M\\xF4 t\\u1EA3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: job.description,\n                onChange: e => handleUpdateJob(job.id, 'description', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4528,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Ng\\u01B0\\u1EDDi giao\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: job.assigner || '',\n                onChange: e => handleUpdateJob(job.id, 'assigner', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit,\n                placeholder: \"Ng\\u01B0\\u1EDDi giao vi\\u1EC7c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4537,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4536,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Ng\\u01B0\\u1EDDi nh\\u1EADn\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: job.assignee || '',\n                onChange: e => handleUpdateJob(job.id, 'assignee', e.target.value),\n                className: \"job-select\",\n                disabled: isCompleted || !canEdit,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn ng\\u01B0\\u1EDDi nh\\u1EADn vi\\u1EC7c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4553,\n                  columnNumber: 21\n                }, this), users.filter(user => user.department === job.department).map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: user.fullName,\n                  children: [user.fullName, \" (\", user.position, \")\"]\n                }, user.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4555,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4547,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4546,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Th\\u1EDDi gian\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: job.completionTime,\n                onChange: e => handleUpdateJob(job.id, 'completionTime', e.target.value),\n                className: \"job-input\",\n                disabled: isCompleted || !canEdit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4562,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4561,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Tr\\u1EA1ng th\\xE1i\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: job.status,\n                onChange: e => handleUpdateJob(job.id, 'status', e.target.value),\n                className: \"job-select\",\n                disabled: isCompleted,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4577,\n                  columnNumber: 21\n                }, this), statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: status,\n                  children: status === 'nhận việc' ? '📋 Nhận việc' : status === 'đang xử lý' ? '⏳ Đang xử lý' : status === 'chờ duyệt' ? '⏸️ Chờ duyệt' : status === 'thành công' ? '✅ Thành công' : status === 'thất bại' ? '❌ Thất bại' : status\n                }, status, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4579,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4571,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4570,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1EB1ng ch\\u1EE9ng\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evidence-section\",\n                children: job.completionEvidence && job.completionEvidence.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-preview\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"evidence-count\",\n                    children: [\"\\uD83D\\uDCCE \", job.completionEvidence.length, \" file(s)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4593,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"view-evidence-btn\",\n                    onClick: () => openEvidenceModal(job),\n                    title: \"Xem b\\u1EB1ng ch\\u1EE9ng\",\n                    children: \"\\uD83D\\uDC41\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4596,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4592,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"upload-section\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    id: `upload-${job.id}`,\n                    multiple: true,\n                    accept: \"image/*,video/*\",\n                    onChange: e => handleFileUpload(job.id, e.target.files),\n                    className: \"file-input\",\n                    disabled: uploadingFiles[job.id],\n                    title: \"Ch\\u1ECDn h\\xECnh \\u1EA3nh ho\\u1EB7c video (t\\u1ED1i \\u0111a 50MB m\\u1ED7i file)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `upload-${job.id}`,\n                    className: `upload-btn ${uploadingFiles[job.id] ? 'uploading' : ''}`,\n                    children: uploadingFiles[job.id] ? '⏳ Uploading...' : '📤 Upload'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4616,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4605,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4590,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4589,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Thao t\\xE1c\",\n              children: canDelete ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteJob(job.id),\n                className: \"delete-btn\",\n                children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4628,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"no-permission\",\n                children: \"\\u274C Kh\\xF4ng c\\xF3 quy\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4635,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4626,\n              columnNumber: 17\n            }, this)]\n          }, job.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4505,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4487,\n        columnNumber: 9\n      }, this), showEvidenceModal && selectedJob && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setShowEvidenceModal(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content evidence-modal\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"\\uD83D\\uDCCE B\\u1EB1ng ch\\u1EE9ng ho\\xE0n th\\xE0nh: \", selectedJob.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4648,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-btn\",\n              onClick: () => setShowEvidenceModal(false),\n              children: \"\\u274C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4647,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"job-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"B\\u1ED9 ph\\u1EADn:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4659,\n                  columnNumber: 20\n                }, this), \" \", selectedJob.department]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4659,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\u01B0\\u1EDDi th\\u1EF1c hi\\u1EC7n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4660,\n                  columnNumber: 20\n                }, this), \" \", selectedJob.assignee]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4660,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ng\\xE0y giao:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4661,\n                  columnNumber: 20\n                }, this), \" \", new Date(selectedJob.deliveryDate).toLocaleDateString('vi-VN')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4661,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"H\\u1EA1n ho\\xE0n th\\xE0nh:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4662,\n                  columnNumber: 20\n                }, this), \" \", selectedJob.completionTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4662,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4658,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"evidence-gallery\",\n              children: selectedJob.completionEvidence && selectedJob.completionEvidence.length > 0 ? selectedJob.completionEvidence.map((evidence, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"evidence-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"evidence-name\",\n                    children: evidence.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4670,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evidence-actions\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"evidence-size\",\n                      children: [(evidence.size / 1024 / 1024).toFixed(2), \" MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4672,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"remove-evidence-btn\",\n                      onClick: () => removeEvidence(selectedJob.id, index),\n                      title: \"X\\xF3a file\",\n                      children: \"\\uD83D\\uDDD1\\uFE0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4675,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4671,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4669,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-preview\",\n                  children: evidence.type.startsWith('image/') ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: evidence.data,\n                    alt: evidence.name,\n                    className: \"evidence-image\",\n                    onClick: () => window.open(evidence.data, '_blank')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4687,\n                    columnNumber: 27\n                  }, this) : evidence.type.startsWith('video/') ? /*#__PURE__*/_jsxDEV(\"video\", {\n                    src: evidence.data,\n                    controls: true,\n                    className: \"evidence-video\",\n                    children: \"Tr\\xECnh duy\\u1EC7t kh\\xF4ng h\\u1ED7 tr\\u1EE3 video\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4694,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"evidence-file\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-icon\",\n                      children: \"\\uD83D\\uDCC4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4703,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"file-name\",\n                      children: evidence.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4704,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: evidence.data,\n                      download: evidence.name,\n                      className: \"download-btn\",\n                      children: \"\\uD83D\\uDCE5 T\\u1EA3i xu\\u1ED1ng\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 4705,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4702,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4685,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"evidence-meta\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"upload-date\",\n                    children: [\"\\uD83D\\uDCC5 \", new Date(evidence.uploadDate).toLocaleString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 4717,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4716,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 4668,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-evidence\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uD83D\\uDCED Ch\\u01B0a c\\xF3 b\\u1EB1ng ch\\u1EE9ng n\\xE0o \\u0111\\u01B0\\u1EE3c upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 4725,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4724,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4665,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"modal-upload\",\n                multiple: true,\n                accept: \"image/*,video/*\",\n                onChange: e => {\n                  handleFileUpload(selectedJob.id, e.target.files);\n                  e.target.value = ''; // Reset input\n                },\n                className: \"file-input\",\n                disabled: uploadingFiles[selectedJob.id],\n                title: \"Ch\\u1ECDn h\\xECnh \\u1EA3nh ho\\u1EB7c video (t\\u1ED1i \\u0111a 50MB m\\u1ED7i file)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4731,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"modal-upload\",\n                className: `upload-btn modal-upload-btn ${uploadingFiles[selectedJob.id] ? 'uploading' : ''}`,\n                children: uploadingFiles[selectedJob.id] ? '⏳ Đang upload...' : '📤 Thêm bằng chứng'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 4744,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4730,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4657,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4646,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 4645,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4277,\n      columnNumber: 7\n    }, this);\n  };\n\n  // User Management Component\n  _s4(JobManagement, \"ex3npJ/0RV0LXxrSx9mWc3/+wrI=\");\n  const UserManagement = ({\n    users,\n    onUpdateUsers,\n    currentUser\n  }) => {\n    _s5();\n    const [newUser, setNewUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department) || '',\n      position: '',\n      role: 'user'\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [editingUser, setEditingUser] = useState(null);\n    const [editUser, setEditUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: '',\n      position: '',\n      role: 'user'\n    });\n    const [searchTerm, setSearchTerm] = useState('');\n    const [departmentFilter, setDepartmentFilter] = useState('');\n    const [showPasswords, setShowPasswords] = useState({});\n\n    // Lọc users theo bộ phận của user (trừ admin)\n    const getFilteredUsersByDepartment = () => {\n      if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin') {\n        return users; // Admin thấy tất cả\n      }\n      return users.filter(user => user.department === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.department));\n    };\n    const departments = ['Kho Phôi', 'Sản Xuất', 'Đóng gói', 'Kho & Trải Cắt', 'Quản lý'];\n    const positions = ['Quản lý', 'Tổ trưởng', 'Tổ phó', 'Nhân viên'];\n\n    // Filter users based on search and department (sau khi đã lọc theo bộ phận)\n    const departmentFilteredUsers = getFilteredUsersByDepartment();\n    const filteredUsers = departmentFilteredUsers.filter(user => {\n      const matchesSearch = !searchTerm || user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) || user.username.toLowerCase().includes(searchTerm.toLowerCase()) || user.department.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesDepartment = !departmentFilter || user.department === departmentFilter;\n      return matchesSearch && matchesDepartment;\n    });\n    const totalUsers = departmentFilteredUsers.length;\n    const filteredCount = filteredUsers.length;\n    const togglePasswordVisibility = userId => {\n      setShowPasswords(prev => ({\n        ...prev,\n        [userId]: !prev[userId]\n      }));\n    };\n    const handleAddUser = () => {\n      if (!newUser.username || !newUser.password || !newUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n      const user = {\n        id: Date.now(),\n        ...newUser\n      };\n      const updatedUsers = [...users, user];\n      onUpdateUsers(updatedUsers);\n      setNewUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n      setIsAdding(false);\n    };\n    const handleDeleteUser = id => {\n      if (id === currentUser.id) {\n        alert('Không thể xóa tài khoản đang đăng nhập');\n        return;\n      }\n      if (confirm('Bạn có chắc muốn xóa người dùng này?')) {\n        const updatedUsers = users.filter(user => user.id !== id);\n        onUpdateUsers(updatedUsers);\n      }\n    };\n    const handleEditUser = user => {\n      setEditingUser(user.id);\n      setEditUser({\n        username: user.username,\n        password: user.password,\n        fullName: user.fullName,\n        department: user.department,\n        position: user.position,\n        role: user.role\n      });\n    };\n    const handleSaveEdit = () => {\n      if (!editUser.username || !editUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n      const updatedUsers = users.map(user => user.id === editingUser ? {\n        ...user,\n        ...editUser\n      } : user);\n      onUpdateUsers(updatedUsers);\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n    const handleCancelEdit = () => {\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-management\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDC65 Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4907,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-stats\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"total-users\",\n              children: [\"T\\u1ED5ng: \", totalUsers, \" ng\\u01B0\\u1EDDi d\\xF9ng\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4909,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"filtered-users\",\n              children: [\"Hi\\u1EC3n th\\u1ECB: \", filteredCount, \"/\", totalUsers]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4910,\n              columnNumber: 15\n            }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"department-info\",\n              children: [\" (B\\u1ED9 ph\\u1EADn: \", currentUser === null || currentUser === void 0 ? void 0 : currentUser.department, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 4912,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4908,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4906,\n          columnNumber: 13\n        }, this), ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-btn\",\n          onClick: () => setIsAdding(true),\n          children: \"\\u2795 Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4917,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4905,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uD83D\\uDD0D T\\xECm ki\\u1EBFm:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4928,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Nh\\u1EADp t\\xEAn, username ho\\u1EB7c b\\u1ED9 ph\\u1EADn...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4929,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4927,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\uD83C\\uDFE2 B\\u1ED9 ph\\u1EADn:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4939,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: departmentFilter,\n            onChange: e => setDepartmentFilter(e.target.value),\n            className: \"department-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"T\\u1EA5t c\\u1EA3 b\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4945,\n              columnNumber: 15\n            }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4947,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4940,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4938,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setSearchTerm('');\n              setDepartmentFilter('');\n            },\n            className: \"clear-filters-btn\",\n            children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a b\\u1ED9 l\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4953,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4952,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4926,\n        columnNumber: 9\n      }, this), isAdding && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-user-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4967,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n            value: newUser.username,\n            onChange: e => setNewUser({\n              ...newUser,\n              username: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4969,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"M\\u1EADt kh\\u1EA9u\",\n            value: newUser.password,\n            onChange: e => setNewUser({\n              ...newUser,\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4975,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4968,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"H\\u1ECD t\\xEAn\",\n            value: newUser.fullName,\n            onChange: e => setNewUser({\n              ...newUser,\n              fullName: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 4983,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newUser.department,\n            onChange: e => setNewUser({\n              ...newUser,\n              department: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn b\\u1ED9 ph\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4993,\n              columnNumber: 17\n            }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 4995,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 4989,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4982,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: newUser.position,\n            onChange: e => setNewUser({\n              ...newUser,\n              position: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Ch\\u1ECDn v\\u1ECB tr\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5004,\n              columnNumber: 17\n            }, this), positions.map(pos => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: pos,\n              children: pos\n            }, pos, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5006,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5000,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newUser.role,\n            onChange: e => setNewUser({\n              ...newUser,\n              role: e.target.value\n            }),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"user\",\n              children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5013,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"admin\",\n              children: \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5014,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 5009,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 4999,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAddUser,\n            className: \"save-btn\",\n            children: \"\\uD83D\\uDCBE L\\u01B0u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5018,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsAdding(false),\n            className: \"cancel-btn\",\n            children: \"\\u274C H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5021,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5017,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 4966,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-item header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"H\\u1ECD t\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5030,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5031,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"M\\u1EADt kh\\u1EA9u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5032,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"B\\u1ED9 ph\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5033,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"V\\u1ECB tr\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5034,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Quy\\u1EC1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5035,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Thao t\\xE1c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 5036,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 5029,\n          columnNumber: 11\n        }, this), filteredUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-item\",\n          children: editingUser === user.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"H\\u1ECD t\\xEAn\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: editUser.fullName,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  fullName: e.target.value\n                }),\n                className: \"edit-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5043,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5042,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: editUser.username,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  username: e.target.value\n                }),\n                className: \"edit-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5051,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5050,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"M\\u1EADt kh\\u1EA9u\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                value: editUser.password,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  password: e.target.value\n                }),\n                className: \"edit-input\",\n                placeholder: \"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5059,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5058,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1ED9 ph\\u1EADn\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editUser.department,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  department: e.target.value\n                }),\n                className: \"edit-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn b\\u1ED9 ph\\u1EADn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5073,\n                  columnNumber: 23\n                }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: dept,\n                  children: dept\n                }, dept, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5075,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5068,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5067,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"V\\u1ECB tr\\xED\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editUser.position,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  position: e.target.value\n                }),\n                className: \"edit-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn v\\u1ECB tr\\xED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5085,\n                  columnNumber: 23\n                }, this), positions.map(pos => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: pos,\n                  children: pos\n                }, pos, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5087,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5080,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5079,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Quy\\u1EC1n\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editUser.role,\n                onChange: e => setEditUser({\n                  ...editUser,\n                  role: e.target.value\n                }),\n                className: \"edit-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"user\",\n                  children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5097,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"admin\",\n                  children: \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5098,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 5092,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5091,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Thao t\\xE1c\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveEdit,\n                className: \"save-btn\",\n                children: \"\\uD83D\\uDCBE L\\u01B0u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                className: \"cancel-btn\",\n                children: \"\\u274C H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5105,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5101,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"H\\u1ECD t\\xEAn\",\n              children: user.fullName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5112,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5113,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"M\\u1EADt kh\\u1EA9u\",\n              className: \"password-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"password-text\",\n                children: showPasswords[user.id] ? user.password : '••••••••'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5115,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"password-toggle-btn\",\n                onClick: () => togglePasswordVisibility(user.id),\n                title: showPasswords[user.id] ? 'Ẩn mật khẩu' : 'Hiện mật khẩu',\n                children: showPasswords[user.id] ? '🙈' : '👁️'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 5118,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 5114,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"B\\u1ED9 ph\\u1EADn\",\n              children: user.department\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5126,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"V\\u1ECB tr\\xED\",\n              children: user.position\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5127,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Quy\\u1EC1n\",\n              children: user.role === 'admin' ? 'Quản trị' : 'Người dùng'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5128,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-label\": \"Thao t\\xE1c\",\n              children: ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === 'admin' || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.position) === 'Tổ trưởng') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEditUser(user),\n                  className: \"edit-btn\",\n                  children: \"\\u270F\\uFE0F S\\u1EEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5132,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteUser(user.id),\n                  className: \"delete-btn\",\n                  disabled: user.id === currentUser.id,\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 5138,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 5129,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 5039,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 5028,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 4904,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Render\n  _s5(UserManagement, \"WWBYTmEoiCZqqSDovYSOK7VjVGQ=\");\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5159,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(MainApp, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5162,\n    columnNumber: 10\n  }, this);\n}\n_s6(App, \"/756oHYk3Eygr3GthDl2AP0moiA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","getApiBase","window","location","hostname","apiUrl","console","log","getApiUrls","urls","push","API_BASE","apiClient","request","endpoint","options","urlsToTry","baseUrl","url","config","headers","response","fetch","data","json","ok","Error","error","status","message","login","username","password","method","body","JSON","stringify","success","getUsers","updateUsers","users","getJobs","updateJobs","jobs","App","_s6","_s","$RefreshSig$","_s2","_s3","_s4","_s5","currentUser","setCurrentUser","isAuthenticated","setIsAuthenticated","loginError","setLoginError","setUsers","setJobs","activeTab","setActiveTab","isLoading","setIsLoading","setError","handleLogin","user","localStorage","setItem","fullName","handleLogout","removeItem","loadUsers","usersData","Array","isArray","length","loadJobs","jobsData","handleUpdateUsers","updatedUsers","handleUpdateJobs","updatedJobs","savedUser","getItem","parse","hasAccessToCurrentTab","role","position","testServerConnection","timeout","handleKeyPress","e","ctrlKey","metaKey","key","preventDefault","setIsAdding","searchInput","document","querySelector","focus","setEditingUser","addEventListener","removeEventListener","checkAndUpdateOverdueJobs","getUpcomingDeadlines","today","Date","tomorrow","setDate","getDate","filter","job","completionTime","department","completionDate","timeDiff","getTime","daysDiff","Math","ceil","overdueJobs","map","hasChanges","some","index","overdueList","description","join","alert","upcomingDeadlines","ReminderNotification","deadlines","getReminderMessage","className","children","fileName","_jsxFileName","lineNumber","columnNumber","assigner","assignee","toLocaleDateString","id","LoginForm","setUsername","setPassword","handleSubmit","onSubmit","type","value","onChange","target","placeholder","required","MainApp","onClick","title","JobManagement","onUpdateJobs","Dashboard","KPIEvaluation","UserManagement","onUpdateUsers","timeFilter","setTimeFilter","departmentFilter","setDepartmentFilter","refreshKey","setRefreshKey","isRefreshing","setIsRefreshing","autoRefresh","setAutoRefresh","interval","setInterval","prev","clearInterval","handleRefresh","setTimeout","getFilteredJobs","now","getFullYear","getMonth","filteredJobs","deliveryDate","jobDate","jobDateOnly","weekStart","getDay","weekEnd","monthStart","monthEnd","quarter","floor","quarterStart","quarterEnd","yearStart","yearEnd","totalJobs","sampleJobs","slice","stats","completedJobs","pendingJobs","failedJobs","totalUsers","activeUsers","departmentStats","reduce","acc","total","completed","pending","failed","inProgress","waiting","percentage","avgCompletionTime","onTimeRate","overdue","round","statusStats","checked","from","Set","dept","style","padding","background","borderRadius","fontSize","color","border","Object","values","sum","keys","entries","width","count","sort","a","b","reverse","selectedUser","setSelectedUser","evaluationDate","setEvaluationDate","toISOString","split","evaluationData","setEvaluationData","performance","discipline","attitude","isEvaluating","setIsEvaluating","evaluationHistory","setEvaluationHistory","viewMode","setViewMode","summaryPeriod","setSummaryPeriod","selectedDepartment","setSelectedDepartment","allEvaluations","setAllEvaluations","expandedUser","setExpandedUser","historyTimeFilter","setHistoryTimeFilter","historyDepartmentFilter","setHistoryDepartmentFilter","historyDateFilter","setHistoryDateFilter","weeklyTimeFilter","setWeeklyTimeFilter","weeklyDepartmentFilter","setWeeklyDepartmentFilter","loadKpiEvaluations","currentApiBase","result","saveKpiEvaluations","evaluations","getAvailableDepartments","availableUsers","getHistoryDepartments","departments","getFilteredUsers","filteredUsers","criteria","name","weight","maxScore","handleScoreChange","parseInt","calculateTotalScore","totalScore","totalWeight","forEach","criterion","score","weightedScore","getScoreLevel","level","calculateSummary","allEvaluationsLength","startDate","endDate","currentYear","currentMonth","firstDay","firstDayOfWeek","daysToSunday","week1End","week1EndDayOfWeek","daysToFirstSunday","week2StartDayOfWeek","week2End","week2EndDayOfWeek","week3StartDayOfWeek","week3End","week3EndDayOfWeek","week4StartDayOfWeek","week4End","week4EndDayOfWeek","week5StartDayOfWeek","includes","monthPart","weekPart","monthNum","replace","weekNum","prevWeekEnd","weekStartDay","weekStartDayOfWeek","filteredEvaluations","evaluation","evalDate","date","totalEvaluations","averageScore","topPerformers","scoreDistribution","excellent","good","average","poor","monthlyTrend","calculateMonthlyTrend","dailyKPI","calculateDailyKPI","months","i","monthEvaluations","weeklyAverages","calculateWeeklyAveragesInMonth","monthlyAverage","avg","month","days","dayNames","current","dayStart","setHours","dayEnd","dayEvaluations","avgScore","dayName","dayOfMonth","firstDayOfMonth","dayOfWeek","weekEndingSunday","weekNumber","firstSunday","day","evaluationsCount","setTime","weekEvaluations","weekAvg","exportDailyKPIExcel","dailyData","csvContent","blob","Blob","link","createElement","URL","createObjectURL","setAttribute","visibility","appendChild","click","removeChild","exportMonthlyKPIExcel","monthlyData","weeklyAvgs","exportDepartmentKPIExcel","exportAllEvaluationsExcel","exportEvaluationsToCSV","exportAllEvaluationsExcelUnfiltered","filenamePrefix","userName","scores","exportWeeklySummariesToCSV","weeklySummaries","summary","totalDailyEvaluations","averageScores","averageTotalScore","weeklyLevel","calculateWeeklySummary","userId","weeklyEvaluations","avgPerformance","avgDiscipline","avgAttitude","avgTotalScore","dailyEvaluations","createdAt","getFilteredWeeklySummaries","allSummaries","generateWeeklySummaries","summaryDate","currentWeekStart","currentDay","daysToMonday","currentWeekEnd","weeksInMonth","actualWeekStart","max","actualWeekEnd","min","start","end","uniqueUsers","week","toggleUserDetails","getFilteredHistory","filterDate","toDateString","calculateDailyKPIReport","dailyReports","daysInWeek","overallAverage","dateString","handleStartEvaluation","alreadyEvaluatedToday","evaluatedBy","handleSaveEvaluation","scoreLevel","newEvaluation","evaluatorRole","updatedEvaluations","handleDeleteEvaluation","evaluationId","confirm","evaluatedToday","disabled","display","gap","calculateMonthlyKPIReport","label","performer","weeks","weekDays","lastDay","weekTitle","backgroundColor","marginTop","margin","alignItems","marginBottom","flexWrap","fontWeight","s","boxShadow","overflow","gridTemplateColumns","borderBottom","textAlign","cursor","transition","onMouseEnter","currentTarget","onMouseLeave","stopPropagation","gridColumn","borderTop","evalIndex","justifyContent","marginRight","marginLeft","onMouseOver","borderColor","onMouseOut","filterSuffix","newJob","setNewJob","jobType","completionEvidence","isAdding","filters","setFilters","search","timeRange","uploadingFiles","setUploadingFiles","showEvidenceModal","setShowEvidenceModal","selectedJob","setSelectedJob","getFilteredJobsByDepartment","statusOptions","departmentFilteredJobs","getTimeFilteredJobs","timeFilteredJobs","matchesDepartment","matchesStatus","matchesSearch","toLowerCase","handleFilterChange","filterType","clearFilters","handleFileUpload","jobId","files","find","j","serverOk","maxFileSize","allowedTypes","file","size","filePromises","Promise","resolve","reject","reader","FileReader","onload","uploadDate","onerror","readAsDataURL","uploadedFiles","all","errorText","text","removeEvidence","evidenceIndex","_","openEvidenceModal","handleAddJob","handleDeleteJob","handleUpdateJob","field","isCompleted","canDelete","canEdit","multiple","accept","htmlFor","evidence","toFixed","startsWith","src","alt","open","controls","href","download","toLocaleString","newUser","setNewUser","editingUser","editUser","setEditUser","searchTerm","setSearchTerm","showPasswords","setShowPasswords","getFilteredUsersByDepartment","positions","departmentFilteredUsers","filteredCount","togglePasswordVisibility","handleAddUser","handleDeleteUser","handleEditUser","handleSaveEdit","handleCancelEdit","pos","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/Qly_CV/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport './App.css';\n\n// API Client - Tự động detect IP máy chủ với fallback\nconst getApiBase = () => {\n  // Nếu đang chạy trên localhost, sử dụng localhost\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    return 'http://localhost:5001';\n  }\n  // Nếu truy cập từ IP khác, sử dụng IP đó\n  const apiUrl = `http://${window.location.hostname}:5001`;\n  console.log('🔍 API Base URL:', apiUrl);\n  return apiUrl;\n};\n\n// Danh sách các URL để thử kết nối\nconst getApiUrls = () => {\n  const hostname = window.location.hostname;\n  const urls = [];\n  \n  // Nếu đang trên localhost\n  if (hostname === 'localhost' || hostname === '127.0.0.1') {\n    urls.push('http://localhost:5001');\n    urls.push('http://127.0.0.1:5001');\n  } else {\n    // Nếu đang trên IP khác, thử IP đó trước\n    urls.push(`http://${hostname}:5001`);\n    urls.push('http://localhost:5001');\n    urls.push('http://127.0.0.1:5001');\n  }\n  \n  return urls;\n};\n\nconst API_BASE = getApiBase();\n\nconst apiClient = {\n  async request(endpoint, options = {}) {\n    const urlsToTry = getApiUrls();\n    \n    for (const baseUrl of urlsToTry) {\n      try {\n        const url = `${baseUrl}${endpoint}`;\n        const config = {\n          headers: {\n            'Content-Type': 'application/json',\n            ...options.headers\n          },\n          ...options\n        };\n\n        console.log(`🔍 Thử kết nối đến: ${url}`);\n        const response = await fetch(url, config);\n        const data = await response.json();\n\n        if (!response.ok) {\n          throw new Error(data.error || `HTTP ${response.status}`);\n        }\n\n        // Nếu thành công, cập nhật API_BASE cho các request tiếp theo\n        if (baseUrl !== API_BASE) {\n          window.API_BASE = baseUrl;\n          console.log(`✅ Đã cập nhật API_BASE thành: ${baseUrl}`);\n        }\n\n        return data;\n      } catch (error) {\n        console.log(`❌ Không thể kết nối đến ${baseUrl}:`, error.message);\n        // Tiếp tục thử URL tiếp theo\n        continue;\n      }\n    }\n    \n    // Nếu tất cả URL đều thất bại\n    throw new Error('Không thể kết nối đến server. Vui lòng kiểm tra kết nối mạng.');\n  },\n\n  async login(username, password) {\n    try {\n      const response = await this.request('/api/login', {\n        method: 'POST',\n        body: JSON.stringify({ username, password })\n      });\n      return response;\n    } catch (error) {\n      return { success: false, error: 'Không thể kết nối server' };\n    }\n  },\n\n  async getUsers() {\n    try {\n      const response = await this.request('/api/users');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy users:', error);\n    return [];\n    }\n  },\n\n  async updateUsers(users) {\n    try {\n      const response = await this.request('/api/users', {\n        method: 'POST',\n        body: JSON.stringify({ users })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n        return false;\n      }\n  },\n\n  async getJobs() {\n    try {\n      const response = await this.request('/api/jobs');\n      return response.data || [];\n    } catch (error) {\n      console.error('❌ Lỗi khi lấy jobs:', error);\n    return [];\n    }\n  },\n\n  async updateJobs(jobs) {\n    try {\n      const response = await this.request('/api/jobs', {\n        method: 'POST',\n        body: JSON.stringify({ jobs })\n      });\n      return response.success;\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n        return false;\n      }\n      }\n};\n\nfunction App() {\n  // Authentication state\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loginError, setLoginError] = useState('');\n  \n  // Data state\n  const [users, setUsers] = useState([]);\n  const [jobs, setJobs] = useState([]);\n  const [activeTab, setActiveTab] = useState('list');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // Authentication functions\n  const handleLogin = async (username, password) => {\n    try {\n      setLoginError('');\n      const response = await apiClient.login(username, password);\n      if (response.success) {\n        setCurrentUser(response.user);\n        setIsAuthenticated(true);\n        localStorage.setItem('currentUser', JSON.stringify(response.user));\n        console.log('✅ Đăng nhập thành công:', response.user.fullName);\n      } else {\n        setLoginError(response.error || 'Đăng nhập thất bại');\n      }\n    } catch (error) {\n      console.error('❌ Lỗi đăng nhập:', error);\n      setLoginError('Không thể kết nối server. Vui lòng thử lại.');\n    }\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setLoginError('');\n    localStorage.removeItem('currentUser');\n  };\n\n  // Load users\n  const loadUsers = useCallback(async () => {\n    try {\n      const usersData = await apiClient.getUsers();\n      if (Array.isArray(usersData)) {\n        setUsers(usersData);\n        console.log('✅ Đã tải users:', usersData.length, 'users');\n      } else {\n        setUsers([]);\n      }\n      } catch (error) {\n        console.error('❌ Lỗi khi tải users:', error);\n      setUsers([]);\n    }\n  }, []);\n\n  // Load jobs\n  const loadJobs = useCallback(async () => {\n    try {\n      const jobsData = await apiClient.getJobs();\n      if (Array.isArray(jobsData)) {\n        setJobs(jobsData);\n        console.log('✅ Đã tải jobs:', jobsData.length, 'jobs');\n      } else {\n        setJobs([]);\n      }\n    } catch (error) {\n      console.error('❌ Lỗi khi tải jobs:', error);\n      setJobs([]);\n    }\n  }, []);\n\n  // Update users\n  const handleUpdateUsers = async (updatedUsers) => {\n    try {\n      setUsers(updatedUsers);\n      await apiClient.updateUsers(updatedUsers);\n      console.log('✅ Đã cập nhật users');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật users:', error);\n    }\n  };\n\n  // Update jobs\n  const handleUpdateJobs = async (updatedJobs) => {\n    try {\n    setJobs(updatedJobs);\n      await apiClient.updateJobs(updatedJobs);\n      console.log('✅ Đã cập nhật jobs');\n    } catch (error) {\n      console.error('❌ Lỗi khi cập nhật jobs:', error);\n    }\n  };\n\n  // Check authentication on load\n  useEffect(() => {\n    const savedUser = localStorage.getItem('currentUser');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n        console.log('✅ Đã khôi phục phiên đăng nhập:', user.fullName);\n      } catch (error) {\n        localStorage.removeItem('currentUser');\n      }\n    }\n  }, []);\n\n  // Kiểm tra quyền truy cập tab khi user thay đổi\n  useEffect(() => {\n    if (currentUser) {\n      // Nếu user không có quyền truy cập tab hiện tại, chuyển về tab mặc định\n      const hasAccessToCurrentTab = () => {\n        switch (activeTab) {\n          case 'dashboard':\n          case 'salary':\n            return currentUser.role === 'admin' || currentUser.position === 'Tổ trưởng';\n          case 'users':\n            return currentUser.role === 'admin';\n          case 'list':\n          default:\n            return true; // Tất cả user đều có quyền truy cập tab công việc\n        }\n      };\n\n      if (!hasAccessToCurrentTab()) {\n        setActiveTab('list');\n      }\n    }\n  }, [currentUser, activeTab]);\n\n  // Test server connection with fallback\n  const testServerConnection = useCallback(async () => {\n    const urlsToTry = [\n      API_BASE,\n      'http://localhost:5001',\n      `http://${window.location.hostname}:5001`\n    ];\n    \n    for (const url of urlsToTry) {\n      try {\n        console.log(`🔍 Đang thử kết nối đến: ${url}`);\n        const response = await fetch(`${url}/api/health`, {\n          method: 'GET',\n          timeout: 5000\n        });\n        \n        if (response.ok) {\n          const data = await response.json();\n          console.log('✅ Server đang hoạt động:', data);\n          // Update API_BASE to working URL\n          if (url !== API_BASE) {\n            console.log(`🔄 Cập nhật API_BASE từ ${API_BASE} thành ${url}`);\n            window.API_BASE = url;\n          }\n          return true;\n        }\n      } catch (error) {\n        console.log(`❌ Không thể kết nối đến ${url}:`, error.message);\n        continue;\n      }\n    }\n    \n    console.error('❌ Không thể kết nối đến server từ bất kỳ URL nào');\n    return false;\n  }, []);\n\n  // Load data on mount\n  useEffect(() => {\n    if (isAuthenticated) {\n      loadUsers();\n      loadJobs();\n      // Test server connection on mount\n      testServerConnection();\n    }\n  }, [isAuthenticated, testServerConnection]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (!isAuthenticated) return;\n      \n      // Ctrl/Cmd + N: Thêm công việc mới\n      if ((e.ctrlKey || e.metaKey) && e.key === 'n') {\n        e.preventDefault();\n        if (currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') {\n          setIsAdding(true);\n        }\n      }\n      \n      // Ctrl/Cmd + F: Focus vào ô tìm kiếm\n      if ((e.ctrlKey || e.metaKey) && e.key === 'f') {\n        e.preventDefault();\n        const searchInput = document.querySelector('.filter-input');\n        if (searchInput) searchInput.focus();\n      }\n      \n      // Escape: Đóng form thêm/sửa\n      if (e.key === 'Escape') {\n        setIsAdding(false);\n        setEditingUser(null);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyPress);\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  }, [isAuthenticated, currentUser]);\n\n  // Tự động kiểm tra và cập nhật trạng thái công việc trễ hạn\n  useEffect(() => {\n    if (isAuthenticated && jobs.length > 0) {\n      checkAndUpdateOverdueJobs();\n    }\n  }, [isAuthenticated, jobs]);\n\n  // Kiểm tra deadline và hiển thị thông báo nhắc nhở\n  const getUpcomingDeadlines = () => {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(today.getDate() + 1);\n    \n    return jobs.filter(job => {\n      if (!job.completionTime || job.status === 'thành công') return false;\n      \n      // Lọc theo bộ phận của người dùng hiện tại\n      if (currentUser?.role !== 'admin' && job.department !== currentUser?.department) {\n        return false;\n      }\n      \n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      \n      // Nhắc nhở trước 1 ngày (0-1 ngày)\n      return daysDiff >= 0 && daysDiff <= 1;\n    });\n  };\n\n  // Hàm kiểm tra và cập nhật trạng thái công việc trễ hạn\n  const checkAndUpdateOverdueJobs = () => {\n    const today = new Date();\n    const overdueJobs = [];\n    \n    const updatedJobs = jobs.map(job => {\n      // Chỉ cập nhật nếu công việc chưa hoàn thành và có ngày hoàn thành\n      if (job.status !== 'thành công' && job.status !== 'thất bại' && job.completionTime) {\n        const completionDate = new Date(job.completionTime);\n        const timeDiff = completionDate.getTime() - today.getTime();\n        const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n        \n        // Nếu trễ hạn (ngày hoàn thành đã qua)\n        if (daysDiff < 0) {\n          overdueJobs.push(job);\n          return { ...job, status: 'thất bại' };\n        }\n      }\n      return job;\n    });\n    \n    // Cập nhật danh sách công việc nếu có thay đổi\n    const hasChanges = updatedJobs.some((job, index) => job.status !== jobs[index].status);\n    if (hasChanges) {\n      handleUpdateJobs(updatedJobs);\n      \n      // Hiển thị thông báo về các công việc trễ hạn\n      if (overdueJobs.length > 0) {\n        const overdueList = overdueJobs.map(job => `• ${job.description} (${job.department})`).join('\\n');\n        alert(`⚠️ CẢNH BÁO: ${overdueJobs.length} công việc đã trễ hạn và được tự động cập nhật thành \"thất bại\":\\n\\n${overdueList}`);\n      }\n    }\n  };\n\n  const upcomingDeadlines = getUpcomingDeadlines();\n\n  // Reminder Notification Component\n  const ReminderNotification = ({ deadlines }) => {\n    if (deadlines.length === 0) return null;\n\n    const getReminderMessage = (job) => {\n      const today = new Date();\n      const completionDate = new Date(job.completionTime);\n      const timeDiff = completionDate.getTime() - today.getTime();\n      const daysDiff = Math.ceil(timeDiff / (1000 * 3600 * 24));\n      \n      if (daysDiff === 0) {\n        return `⚠️ Hôm nay là deadline: \"${job.description}\"`;\n      } else if (daysDiff === 1) {\n        return `⏰ Ngày mai deadline: \"${job.description}\"`;\n      }\n      return `📅 Còn ${daysDiff} ngày: \"${job.description}\"`;\n    };\n\n    return (\n      <div className=\"reminder-notification\">\n        <div className=\"reminder-header\">\n          <h3>🔔 Nhắc nhở deadline</h3>\n          <span className=\"reminder-count\">\n            {deadlines.length} công việc\n            {currentUser?.role !== 'admin' && (\n              <span className=\"department-info\"> (Bộ phận: {currentUser?.department})</span>\n            )}\n          </span>\n        </div>\n        <div className=\"reminder-list\">\n          {deadlines.map(job => (\n            <div key={job.id} className=\"reminder-item\">\n              <div className=\"reminder-message\">\n                {getReminderMessage(job)}\n              </div>\n              <div className=\"reminder-details\">\n                <span className=\"reminder-department\">🏢 {job.department}</span>\n                <span className=\"reminder-assignee\">👤 {job.assigner || 'Chưa giao'} → {job.assignee || 'Chưa giao'}</span>\n                <span className=\"reminder-date\">📅 {new Date(job.completionTime).toLocaleDateString('vi-VN')}</span>\n                <span className={`reminder-status status-${job.status}`}>\n                  {job.status === 'nhận việc' ? '📋 Nhận việc' :\n                   job.status === 'đang xử lý' ? '⏳ Đang xử lý' :\n                   job.status === 'chờ duyệt' ? '⏸️ Chờ duyệt' :\n                   job.status === 'thất bại' ? '❌ Thất bại' : '✅ Thành công'}\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  // Login Form Component\n  const LoginForm = () => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (username && password) {\n        handleLogin(username, password);\n      } else {\n        setLoginError('Vui lòng nhập đầy đủ thông tin');\n      }\n    };\n\n    return (\n      <div className=\"login-container\">\n        <div className=\"login-form\">\n          <h2>🔐 Đăng nhập hệ thống</h2>\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label>Tên đăng nhập:</label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                placeholder=\"Nhập username\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Mật khẩu:</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Nhập password\"\n                required\n              />\n            </div>\n            \n            {loginError && (\n              <div className=\"error-message\">\n                ❌ {loginError}\n              </div>\n            )}\n            <button type=\"submit\" className=\"login-btn\">\n              🚀 Đăng nhập\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  // Main App Component\n  const MainApp = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <header className=\"header\">\n          <div className=\"header-content\">\n            <div className=\"header-info\">\n              <h1>📋 Danh sách việc làm</h1>\n              <p>Quản lý và theo dõi tiến độ công việc</p>\n            </div>\n            <div className=\"user-info\">\n              <div className=\"user-details\">\n                  <span className=\"user-name\">{currentUser?.fullName}</span>\n                  <span className=\"user-department\">{currentUser?.department}</span>\n                  <span className=\"user-position\">{currentUser?.position}</span>\n              </div>\n            <div className=\"user-actions\">\n                  <button onClick={handleLogout} className=\"logout-btn\">\n                    🚪 Đăng xuất\n                  </button>\n            </div>\n            </div>\n          </div>\n        </header>\n\n        <div className=\"tab-navigation\">\n          <button \n            className={`tab-btn ${activeTab === 'list' ? 'active' : ''}`}\n            onClick={() => setActiveTab('list')}\n            title=\"Ctrl+F: Tìm kiếm, Ctrl+N: Thêm mới\"\n          >\n            📋 Quản lý công việc\n          </button>\n          \n          {/* Dashboard - Admin, Quản lý, Tổ trưởng */}\n          {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý' || currentUser?.position === 'Tổ trưởng') && (\n            <button \n              className={`tab-btn ${activeTab === 'dashboard' ? 'active' : ''}`}\n              onClick={() => setActiveTab('dashboard')}\n            >\n              📊 Dashboard & Thống kê\n            </button>\n          )}\n          \n          {/* KPI Evaluation - Admin, Quản lý, Tổ trưởng, Tổ phó */}\n          {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý' || currentUser?.position === 'Tổ trưởng' || currentUser?.position === 'Tổ phó') && (\n            <button \n              className={`tab-btn ${activeTab === 'salary' ? 'active' : ''}`}\n              onClick={() => setActiveTab('salary')}\n            >\n              📊 Đánh giá KPI nhân sự\n            </button>\n          )}\n          \n          {/* User Management - Chỉ admin */}\n          {currentUser?.role === 'admin' && (\n            <button \n              className={`tab-btn ${activeTab === 'users' ? 'active' : ''}`}\n              onClick={() => setActiveTab('users')}\n            >\n              👥 Quản lý người dùng\n            </button>\n          )}\n        </div>\n\n        <div className=\"tab-content\">\n        {/* Hiển thị thông báo nhắc nhở ở đầu mọi tab */}\n        <ReminderNotification deadlines={upcomingDeadlines} />\n        \n        {activeTab === 'list' && (\n            <JobManagement \n              jobs={jobs}\n              onUpdateJobs={handleUpdateJobs}\n              currentUser={currentUser}\n            />\n        )}\n\n        {activeTab === 'dashboard' && (\n          <Dashboard \n            jobs={jobs}\n              users={users}\n            currentUser={currentUser}\n          />\n        )}\n\n          {activeTab === 'salary' && (\n            <KPIEvaluation \n              users={users}\n              jobs={jobs}\n            currentUser={currentUser}\n          />\n        )}\n\n        {activeTab === 'users' && (\n            <UserManagement \n            users={users}\n            onUpdateUsers={handleUpdateUsers}\n            currentUser={currentUser}\n          />\n        )}\n\n      </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Dashboard Component\n  const Dashboard = ({ jobs, users, currentUser }) => {\n    const [timeFilter, setTimeFilter] = useState('all'); // all, week, month, quarter, year\n    const [departmentFilter, setDepartmentFilter] = useState('all');\n    const [refreshKey, setRefreshKey] = useState(0);\n    const [isRefreshing, setIsRefreshing] = useState(false);\n    const [autoRefresh, setAutoRefresh] = useState(true);\n    \n    // Auto refresh effect\n    useEffect(() => {\n      if (!autoRefresh) return;\n      \n      const interval = setInterval(() => {\n        setRefreshKey(prev => prev + 1);\n      }, 30000); // Refresh every 30 seconds\n      \n      return () => clearInterval(interval);\n    }, [autoRefresh]);\n    \n    // Manual refresh function\n    const handleRefresh = async () => {\n      setIsRefreshing(true);\n      setRefreshKey(prev => prev + 1);\n      setTimeout(() => setIsRefreshing(false), 1000);\n    };\n    \n    // Filter jobs by time period\n    const getFilteredJobs = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n      let filteredJobs = jobs;\n      \n      // Filter by time period\n      switch (timeFilter) {\n        case 'today':\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly.getTime() === today.getTime();\n          });\n          break;\n        case 'week':\n          const weekStart = new Date(today);\n          weekStart.setDate(today.getDate() - today.getDay());\n          const weekEnd = new Date(weekStart);\n          weekEnd.setDate(weekStart.getDate() + 6);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n          });\n          break;\n          \n        case 'month':\n          const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n          const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n          });\n          break;\n          \n        case 'quarter':\n          const quarter = Math.floor(today.getMonth() / 3);\n          const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n          const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n          });\n          break;\n          \n        case 'year':\n          const yearStart = new Date(today.getFullYear(), 0, 1);\n          const yearEnd = new Date(today.getFullYear(), 11, 31);\n          filteredJobs = jobs.filter(job => {\n            if (!job.deliveryDate) return false;\n            const jobDate = new Date(job.deliveryDate);\n            const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n          });\n          break;\n          \n        default:\n          filteredJobs = jobs;\n      }\n      \n      // Filter by department\n      if (departmentFilter !== 'all') {\n        filteredJobs = filteredJobs.filter(job => job.department === departmentFilter);\n      }\n      \n      return filteredJobs;\n    };\n\n    const filteredJobs = getFilteredJobs();\n    \n    // Debug information\n    console.log('Dashboard Filter Debug:', {\n      timeFilter,\n      departmentFilter,\n      totalJobs: jobs.length,\n      filteredJobs: filteredJobs.length,\n      sampleJobs: jobs.slice(0, 3).map(job => ({\n        id: job.id,\n        deliveryDate: job.deliveryDate,\n        department: job.department,\n        status: job.status\n      }))\n    });\n    \n    const stats = {\n      totalJobs: filteredJobs.length,\n      completedJobs: filteredJobs.filter(job => job.status === 'thành công').length,\n      pendingJobs: filteredJobs.filter(job => job.status === 'nhận việc' || job.status === 'đang xử lý' || job.status === 'chờ duyệt').length,\n      failedJobs: filteredJobs.filter(job => job.status === 'thất bại').length,\n      totalUsers: users.length,\n      activeUsers: users.filter(user => user.role !== 'inactive').length\n    };\n\n    const departmentStats = filteredJobs.reduce((acc, job) => {\n      if (!acc[job.department]) {\n        acc[job.department] = { \n          total: 0, \n          completed: 0, \n          pending: 0,\n          failed: 0,\n          inProgress: 0,\n          waiting: 0,\n          percentage: 0,\n          avgCompletionTime: 0,\n          onTimeRate: 0,\n          overdue: 0\n        };\n      }\n      \n      acc[job.department].total += 1;\n      \n      // Count by status\n      switch (job.status) {\n        case 'thành công':\n        acc[job.department].completed += 1;\n          break;\n        case 'nhận việc':\n        case 'đang xử lý':\n        case 'chờ duyệt':\n          acc[job.department].pending += 1;\n          if (job.status === 'đang xử lý') acc[job.department].inProgress += 1;\n          if (job.status === 'chờ duyệt') acc[job.department].waiting += 1;\n          break;\n        case 'thất bại':\n          acc[job.department].failed += 1;\n          break;\n      }\n      \n      // Calculate completion time and overdue\n      if (job.completionTime && job.deliveryDate) {\n        const deliveryDate = new Date(job.deliveryDate);\n        const completionDate = new Date(job.completionTime);\n        const today = new Date();\n        \n        if (job.status === 'thành công') {\n          const completionTime = Math.ceil((completionDate - deliveryDate) / (1000 * 60 * 60 * 24));\n          acc[job.department].avgCompletionTime = (acc[job.department].avgCompletionTime + completionTime) / 2;\n        }\n        \n        // Check if overdue\n        if (job.status !== 'thành công' && job.status !== 'thất bại' && completionDate < today) {\n          acc[job.department].overdue += 1;\n        }\n      }\n      \n      acc[job.department].percentage = Math.round((acc[job.department].completed / acc[job.department].total) * 100);\n      acc[job.department].onTimeRate = Math.round(((acc[job.department].completed - acc[job.department].overdue) / acc[job.department].completed) * 100) || 0;\n      \n      return acc;\n    }, {});\n\n    const statusStats = filteredJobs.reduce((acc, job) => {\n      acc[job.status] = (acc[job.status] || 0) + 1;\n      return acc;\n    }, {});\n\n    return (\n      <div className=\"dashboard\">\n        <div className=\"dashboard-header\">\n          <div className=\"header-content\">\n            <div className=\"header-text\">\n              <h2>📊 Dashboard & Thống kê</h2>\n              <p>Xin chào {currentUser?.fullName}, đây là tổng quan hệ thống</p>\n              <div className=\"refresh-controls\">\n                <button \n                  className={`refresh-btn ${isRefreshing ? 'refreshing' : ''}`}\n                  onClick={handleRefresh}\n                  title=\"Làm mới dữ liệu\"\n                >\n                  {isRefreshing ? '🔄' : '🔄'} {isRefreshing ? 'Đang tải...' : 'Làm mới'}\n                </button>\n                <label className=\"auto-refresh-toggle\">\n                  <input\n                    type=\"checkbox\"\n                    checked={autoRefresh}\n                    onChange={(e) => setAutoRefresh(e.target.checked)}\n                  />\n                  <span className=\"toggle-label\">Tự động cập nhật (30s)</span>\n                </label>\n              </div>\n              <div className=\"filter-info\">\n                <span className=\"filter-badge\">\n                  📅 {timeFilter === 'all' ? 'Tất cả thời gian' : \n                       timeFilter === 'week' ? 'Tuần này' :\n                       timeFilter === 'month' ? 'Tháng này' :\n                       timeFilter === 'quarter' ? 'Quý này' :\n                       timeFilter === 'year' ? 'Năm này' : timeFilter}\n                </span>\n                {departmentFilter !== 'all' && (\n                  <span className=\"filter-badge\">\n                    🏢 {departmentFilter}\n                  </span>\n                )}\n                <span className=\"filter-badge\">\n                  📊 {filteredJobs.length} công việc\n                </span>\n              </div>\n            </div>\n            <div className=\"dashboard-filters\">\n              <div className=\"filter-group\">\n                <label>📅 Thời gian:</label>\n                <select \n                  value={timeFilter} \n                  onChange={(e) => setTimeFilter(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tất cả thời gian</option>\n                  <option value=\"today\">Hôm nay</option>\n                  <option value=\"week\">Tuần này</option>\n                  <option value=\"month\">Tháng này</option>\n                  <option value=\"quarter\">Quý này</option>\n                  <option value=\"year\">Năm này</option>\n                </select>\n              </div>\n              <div className=\"filter-group\">\n                <label>🏢 Bộ phận:</label>\n                <select \n                  value={departmentFilter}\n                  onChange={(e) => setDepartmentFilter(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tất cả bộ phận</option>\n                  {Array.from(new Set(jobs.map(job => job.department))).map(dept => (\n                    <option key={dept} value={dept}>{dept}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"filter-actions\">\n                <div className=\"filter-info\" style={{ \n                  padding: '8px 12px', \n                  background: 'rgba(255, 255, 255, 0.2)', \n                  borderRadius: '6px', \n                  fontSize: '0.9rem',\n                  color: 'white',\n                  border: '1px solid rgba(255, 255, 255, 0.3)'\n                }}>\n                  📊 Hiển thị: {getFilteredJobs().length} / {jobs.length} công việc\n                </div>\n                <button \n                  className=\"clear-filters-btn\"\n                  onClick={() => {\n                    setTimeFilter('all');\n                    setDepartmentFilter('all');\n                  }}\n                >\n                  🔄 Xóa bộ lọc\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"stats-grid\" key={refreshKey}>\n          <div className=\"stat-card animated\">\n            <div className=\"stat-icon\">📋</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.totalJobs}</h3>\n              <p>Tổng công việc</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator\">📊</span>\n                <span className=\"trend-text\">Tổng quan</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card success animated\">\n            <div className=\"stat-icon\">✅</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.completedJobs}</h3>\n              <p>Hoàn thành</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator success\">📈</span>\n                <span className=\"trend-text\">Hoàn thành tốt</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card warning animated\">\n            <div className=\"stat-icon\">⏳</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.pendingJobs}</h3>\n              <p>Đang xử lý</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator warning\">⏰</span>\n                <span className=\"trend-text\">Cần theo dõi</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card danger animated\">\n            <div className=\"stat-icon\">❌</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.failedJobs}</h3>\n              <p>Thất bại</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator danger\">⚠️</span>\n                <span className=\"trend-text\">Cần xử lý</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card info animated\">\n            <div className=\"stat-icon\">👥</div>\n            <div className=\"stat-content\">\n              <h3 className=\"stat-number\">{stats.totalUsers}</h3>\n              <p>Tổng người dùng</p>\n              <div className=\"stat-trend\">\n                <span className=\"trend-indicator info\">👤</span>\n                <span className=\"trend-text\">Tổng nhân sự</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"stat-card primary\">\n            <div className=\"stat-icon\">🟢</div>\n            <div className=\"stat-content\">\n              <h3>{stats.activeUsers}</h3>\n              <p>Đang hoạt động</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card productivity\">\n            <div className=\"stat-icon\">📈</div>\n            <div className=\"stat-content\">\n              <h3>{stats.totalJobs > 0 ? Math.round((stats.completedJobs / stats.totalJobs) * 100) : 0}%</h3>\n              <p>Tổng năng suất</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card efficiency\">\n            <div className=\"stat-icon\">⚡</div>\n            <div className=\"stat-content\">\n              <h3>{Object.values(departmentStats).length > 0 ? \n                Math.round(Object.values(departmentStats).reduce((sum, dept) => sum + dept.onTimeRate, 0) / Object.values(departmentStats).length) : 0}%</h3>\n              <p>Tỷ lệ đúng hạn</p>\n            </div>\n          </div>\n          \n          <div className=\"stat-card departments\">\n            <div className=\"stat-icon\">🏢</div>\n            <div className=\"stat-content\">\n              <h3>{Object.keys(departmentStats).length}</h3>\n              <p>Bộ phận hoạt động</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"charts-grid\">\n          <div className=\"chart-card\">\n            <h3>📊 Năng suất theo bộ phận</h3>\n            <div className=\"chart-content\">\n              {Object.entries(departmentStats).map(([dept, data]) => (\n                <div key={dept} className=\"chart-bar enhanced\">\n                  <div className=\"bar-header\">\n                  <div className=\"bar-label\">{dept}</div>\n                    <div className=\"bar-status-indicators\">\n                      <span className=\"status-dot completed\" title=\"Hoàn thành\">●</span>\n                      <span className=\"status-dot pending\" title=\"Đang xử lý\">●</span>\n                      <span className=\"status-dot failed\" title=\"Thất bại\">●</span>\n                    </div>\n                  </div>\n                  <div className=\"bar-container\">\n                    <div \n                      className=\"bar-fill\" \n                      style={{ \n                        width: `${data.percentage}%`,\n                        background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' :\n                                   data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' :\n                                   'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                      }}\n                    ></div>\n                  </div>\n                  <div className=\"bar-value\">\n                    <div className=\"percentage\">{data.percentage}%</div>\n                    <div className=\"count\">({data.completed}/{data.total})</div>\n                  </div>\n                  <div className=\"bar-details\">\n                    <div className=\"detail-row\">\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">✅</span>\n                        {data.completed} hoàn thành\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">⏳</span>\n                        {data.pending} đang xử lý\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">❌</span>\n                        {data.failed} thất bại\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">⚡</span>\n                        {data.onTimeRate}% đúng hạn\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">📅</span>\n                        {data.avgCompletionTime > 0 ? `${Math.round(data.avgCompletionTime)} ngày` : 'N/A'}\n                      </span>\n                      <span className=\"detail-item\">\n                        <span className=\"detail-icon\">⚠️</span>\n                        {data.overdue} trễ hạn\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"chart-card\">\n            <h3>📈 Thống kê theo trạng thái</h3>\n            <div className=\"chart-content\">\n              {Object.entries(statusStats).map(([status, count]) => (\n                <div key={status} className=\"chart-bar\">\n                  <div className=\"bar-label\">{status}</div>\n                  <div className=\"bar-container\">\n                    <div \n                      className=\"bar-fill\" \n                      style={{ width: `${(count / stats.totalJobs) * 100}%` }}\n                    ></div>\n                  </div>\n                  <div className=\"bar-value\">{count}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"productivity-summary\">\n          <h3>📊 Tổng quan năng suất</h3>\n          <div className=\"productivity-grid\">\n            {Object.entries(departmentStats).map(([dept, data]) => (\n              <div key={dept} className=\"productivity-card\">\n                <div className=\"productivity-header\">\n                  <h4>{dept}</h4>\n                  <div className=\"productivity-percentage\">\n                    {data.percentage}%\n                  </div>\n                </div>\n                <div className=\"productivity-bar\">\n                  <div \n                    className=\"productivity-fill\"\n                    style={{ \n                      width: `${data.percentage}%`,\n                      background: data.percentage >= 80 ? 'linear-gradient(90deg, #28a745 0%, #20c997 100%)' :\n                                 data.percentage >= 60 ? 'linear-gradient(90deg, #ffc107 0%, #fd7e14 100%)' :\n                                 'linear-gradient(90deg, #dc3545 0%, #e83e8c 100%)'\n                    }}\n                  ></div>\n                </div>\n                <div className=\"productivity-details\">\n                  <span>Hoàn thành: {data.completed}/{data.total}</span>\n                  <span className={`productivity-status ${\n                    data.percentage >= 80 ? 'excellent' :\n                    data.percentage >= 60 ? 'good' : 'needs-improvement'\n                  }`}>\n                    {data.percentage >= 80 ? 'Xuất sắc' :\n                     data.percentage >= 60 ? 'Tốt' : 'Cần cải thiện'}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"performance-insights\">\n          <h3>🔍 Phân tích hiệu suất chi tiết</h3>\n          <div className=\"insights-grid\">\n            <div className=\"insight-card\">\n              <h4>📊 Top Bộ phận</h4>\n              <div className=\"insight-content\">\n                {Object.entries(departmentStats)\n                  .sort(([,a], [,b]) => b.percentage - a.percentage)\n                  .slice(0, 3)\n                  .map(([dept, data], index) => (\n                    <div key={dept} className=\"insight-item\">\n                      <div className=\"insight-rank\">#{index + 1}</div>\n                      <div className=\"insight-info\">\n                        <div className=\"insight-name\">{dept}</div>\n                        <div className=\"insight-stats\">\n                          {data.percentage}% • {data.completed}/{data.total} công việc\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n            \n            <div className=\"insight-card\">\n              <h4>⚡ Hiệu suất thời gian</h4>\n              <div className=\"insight-content\">\n                {Object.entries(departmentStats)\n                  .filter(([,data]) => data.avgCompletionTime > 0)\n                  .sort(([,a], [,b]) => a.avgCompletionTime - b.avgCompletionTime)\n                  .slice(0, 3)\n                  .map(([dept, data]) => (\n                    <div key={dept} className=\"insight-item\">\n                      <div className=\"insight-info\">\n                        <div className=\"insight-name\">{dept}</div>\n                        <div className=\"insight-stats\">\n                          {Math.round(data.avgCompletionTime)} ngày trung bình\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n            \n            <div className=\"insight-card\">\n              <h4>🎯 Tỷ lệ đúng hạn</h4>\n              <div className=\"insight-content\">\n                {Object.entries(departmentStats)\n                  .sort(([,a], [,b]) => b.onTimeRate - a.onTimeRate)\n                  .slice(0, 3)\n                  .map(([dept, data]) => (\n                    <div key={dept} className=\"insight-item\">\n                      <div className=\"insight-info\">\n                        <div className=\"insight-name\">{dept}</div>\n                        <div className=\"insight-stats\">\n                          {data.onTimeRate}% đúng hạn\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"recent-activity\">\n          <h3>🕒 Hoạt động gần đây</h3>\n          <div className=\"activity-list\">\n            {filteredJobs.slice(-5).reverse().map(job => (\n              <div key={job.id} className=\"activity-item\">\n                <div className=\"activity-icon\">\n                  {job.status === 'thành công' ? '✅' : \n                   job.status === 'thất bại' ? '❌' : \n                   job.status === 'đang xử lý' ? '⏳' : \n                   job.status === 'nhận việc' ? '📋' : '⏸️'}\n                </div>\n                <div className=\"activity-content\">\n                  <div className=\"activity-title\">{job.description}</div>\n                  <div className=\"activity-meta\">\n                    {job.department} • {job.assigner || 'Chưa giao'} → {job.assignee || 'Chưa giao'} • {new Date(job.deliveryDate).toLocaleDateString('vi-VN')} • {job.status}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // KPI Evaluation Component\n  const KPIEvaluation = ({ users, jobs, currentUser }) => {\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [evaluationDate, setEvaluationDate] = useState(new Date().toISOString().split('T')[0]);\n    const [evaluationData, setEvaluationData] = useState({\n      performance: 0,\n      discipline: 0,\n      attitude: 0\n    });\n    const [isEvaluating, setIsEvaluating] = useState(false);\n    const [evaluationHistory, setEvaluationHistory] = useState([]);\n    const [viewMode, setViewMode] = useState('evaluate'); // 'evaluate', 'history', 'all-evaluations'\n    const [summaryPeriod, setSummaryPeriod] = useState('week'); // 'week', 'month', 'quarter', 'year'\n    const [selectedDepartment, setSelectedDepartment] = useState('all'); // 'all' hoặc tên bộ phận\n    const [allEvaluations, setAllEvaluations] = useState([]); // Lưu tất cả đánh giá KPI\n    const [expandedUser, setExpandedUser] = useState(null); // Track which user's details are expanded\n    const [historyTimeFilter, setHistoryTimeFilter] = useState('all'); // Filter for history tab\n    const [historyDepartmentFilter, setHistoryDepartmentFilter] = useState('all'); // Department filter for history tab\n    const [historyDateFilter, setHistoryDateFilter] = useState(''); // Specific date filter for history tab\n    const [weeklyTimeFilter, setWeeklyTimeFilter] = useState('all'); // Filter for weekly summary\n    const [weeklyDepartmentFilter, setWeeklyDepartmentFilter] = useState('all'); // Department filter for weekly summary\n\n    // Load KPI evaluations from server\n    const loadKpiEvaluations = useCallback(async () => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`);\n        const result = await response.json();\n        if (result.success) {\n          setAllEvaluations(result.data || []);\n          setEvaluationHistory(result.data || []);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi load KPI evaluations:', error);\n      }\n    }, []);\n\n    // Save KPI evaluations to server\n    const saveKpiEvaluations = useCallback(async (evaluations) => {\n      try {\n        const currentApiBase = window.API_BASE || API_BASE;\n        const response = await fetch(`${currentApiBase}/api/kpi-evaluations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ evaluations }),\n        });\n        const result = await response.json();\n        if (!result.success) {\n          console.error('❌ Lỗi save KPI evaluations:', result.error);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi save KPI evaluations:', error);\n      }\n    }, []);\n\n    // Load evaluations when component mounts\n    useEffect(() => {\n      loadKpiEvaluations();\n    }, [loadKpiEvaluations]);\n\n\n    // Lấy danh sách bộ phận từ users có thể đánh giá\n    const getAvailableDepartments = () => {\n      let availableUsers = [];\n      \n      if (currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        availableUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Tổ trưởng'\n        );\n      } else if (currentUser?.position === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => \n          user.role !== 'admin' && \n          (user.position === 'Tổ phó' || user.position === 'Nhân viên') &&\n          user.department === currentUser.department\n        );\n      } else if (currentUser?.position === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        availableUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Nhân viên' &&\n          user.department === currentUser.department\n        );\n      }\n      \n      return Array.from(new Set(availableUsers.map(user => user.department))).filter(dept => dept);\n    };\n\n    // Lấy danh sách bộ phận cho bộ lọc lịch sử\n    const getHistoryDepartments = () => {\n      if (currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') {\n        // Quản lý xem tất cả bộ phận\n        return Array.from(new Set(users.map(user => user.department))).filter(dept => dept);\n      } else {\n        // Các cấp khác chỉ xem bộ phận mình\n        return [currentUser?.department].filter(dept => dept);\n      }\n    };\n    \n    const departments = getAvailableDepartments();\n    \n    // Lọc users theo bộ phận và quyền đánh giá\n    const getFilteredUsers = () => {\n      let filteredUsers = [];\n      \n      // Quyền đánh giá theo cấp bậc\n      if (currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') {\n        // Quản lý đánh giá Tổ trưởng\n        filteredUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Tổ trưởng'\n        );\n      } else if (currentUser?.position === 'Tổ trưởng') {\n        // Tổ trưởng đánh giá Tổ phó và Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => \n          user.role !== 'admin' && \n          (user.position === 'Tổ phó' || user.position === 'Nhân viên') &&\n          user.department === currentUser.department\n        );\n      } else if (currentUser?.position === 'Tổ phó') {\n        // Tổ phó đánh giá Nhân viên trong cùng bộ phận\n        filteredUsers = users.filter(user => \n          user.role !== 'admin' && \n          user.position === 'Nhân viên' &&\n          user.department === currentUser.department\n        );\n      }\n      \n      // Lọc theo bộ phận nếu được chọn\n      if (selectedDepartment !== 'all') {\n        filteredUsers = filteredUsers.filter(user => user.department === selectedDepartment);\n      }\n      \n      return filteredUsers;\n    };\n\n    const filteredUsers = getFilteredUsers();\n\n    const criteria = [\n      {\n        name: 'performance',\n        title: 'Hiệu quả công việc',\n        weight: 50,\n        description: 'Năng suất, chất lượng, tiến độ, linh hoạt',\n        maxScore: 100\n      },\n      {\n        name: 'discipline',\n        title: 'Kỷ luật & Tuân thủ',\n        weight: 30,\n        description: 'Giờ giấc, nội quy, an toàn, giữ gìn',\n        maxScore: 100\n      },\n      {\n        name: 'attitude',\n        title: 'Thái độ & Hợp tác',\n        weight: 20,\n        description: 'Trách nhiệm, hợp tác, học hỏi, chủ động',\n        maxScore: 100\n      }\n    ];\n\n    const handleScoreChange = (criteria, value) => {\n      setEvaluationData(prev => ({\n        ...prev,\n        [criteria]: parseInt(value) || 0\n      }));\n    };\n\n    const calculateTotalScore = () => {\n      let totalScore = 0;\n      let totalWeight = 0;\n\n      criteria.forEach(criterion => {\n        const score = evaluationData[criterion.name];\n        const weightedScore = (score * criterion.weight) / 100;\n        totalScore += weightedScore;\n        totalWeight += criterion.weight;\n      });\n\n      return Math.round(totalScore);\n    };\n\n    const getScoreLevel = (score) => {\n      if (score >= 90) return { level: 'Xuất sắc', color: '#28a745' };\n      if (score >= 80) return { level: 'Tốt', color: '#17a2b8' };\n      if (score >= 70) return { level: 'Khá', color: '#6f42c1' };\n      if (score >= 50) return { level: 'Trung bình', color: '#ffc107' };\n      return { level: 'Yếu', color: '#dc3545' };\n    };\n\n    // Calculate summary statistics\n    const calculateSummary = () => {\n      try {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n        console.log('🔍 Debug calculateSummary:', {\n          summaryPeriod,\n          today: today.toLocaleDateString('vi-VN'),\n          allEvaluationsLength: allEvaluations.length\n        });\n        \n        let startDate, endDate;\n        const currentYear = today.getFullYear();\n        const currentMonth = today.getMonth(); // 0-indexed\n      \n      switch (summaryPeriod) {\n        case 'week':\n          // Current week: from Monday to Sunday\n          startDate = new Date(today);\n          startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n          endDate = new Date(today);\n          endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n          break;\n        case 'month':\n          startDate = new Date(currentYear, currentMonth, 1);\n          endDate = new Date(currentYear, currentMonth + 1, 0);\n          break;\n        case 'quarter':\n          const quarter = Math.floor(currentMonth / 3);\n          startDate = new Date(currentYear, quarter * 3, 1);\n          endDate = new Date(currentYear, quarter * 3 + 3, 0);\n          break;\n        case 'year':\n          startDate = new Date(currentYear, 0, 1);\n          endDate = new Date(currentYear, 11, 31);\n          break;\n        // Specific weeks in current month - weeks end on Sunday\n        case 'week1':\n          startDate = new Date(currentYear, currentMonth, 1);\n          const firstDay = new Date(currentYear, currentMonth, 1);\n          const firstDayOfWeek = firstDay.getDay();\n          if (firstDayOfWeek === 0) {\n            endDate = new Date(currentYear, currentMonth, 1);\n          } else {\n            const daysToSunday = 7 - firstDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, 1 + daysToSunday);\n          }\n          break;\n        case 'week2':\n          // Start from day after week 1's Sunday\n          const week1End = new Date(currentYear, currentMonth, 1);\n          const week1EndDayOfWeek = week1End.getDay();\n          if (week1EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2);\n          } else {\n            const daysToFirstSunday = 7 - week1EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1);\n          }\n          const week2StartDayOfWeek = startDate.getDay();\n          if (week2StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week2StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          break;\n        case 'week3':\n          // Start from day after week 2's Sunday\n          const week2End = new Date(currentYear, currentMonth, 1);\n          const week2EndDayOfWeek = week2End.getDay();\n          if (week2EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2 + 7);\n          } else {\n            const daysToFirstSunday = 7 - week2EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 7);\n          }\n          const week3StartDayOfWeek = startDate.getDay();\n          if (week3StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week3StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          break;\n        case 'week4':\n          // Start from day after week 3's Sunday\n          const week3End = new Date(currentYear, currentMonth, 1);\n          const week3EndDayOfWeek = week3End.getDay();\n          if (week3EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2 + 14);\n          } else {\n            const daysToFirstSunday = 7 - week3EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 14);\n          }\n          const week4StartDayOfWeek = startDate.getDay();\n          if (week4StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week4StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          break;\n        case 'week5':\n          // Start from day after week 4's Sunday\n          const week4End = new Date(currentYear, currentMonth, 1);\n          const week4EndDayOfWeek = week4End.getDay();\n          if (week4EndDayOfWeek === 0) {\n            startDate = new Date(currentYear, currentMonth, 2 + 21);\n          } else {\n            const daysToFirstSunday = 7 - week4EndDayOfWeek;\n            startDate = new Date(currentYear, currentMonth, 1 + daysToFirstSunday + 1 + 21);\n          }\n          const week5StartDayOfWeek = startDate.getDay();\n          if (week5StartDayOfWeek === 0) {\n            endDate = new Date(startDate);\n          } else {\n            const daysToSunday = 7 - week5StartDayOfWeek;\n            endDate = new Date(currentYear, currentMonth, startDate.getDate() + daysToSunday);\n          }\n          // Ensure week 5 doesn't exceed month boundaries\n          const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n          if (endDate.getDate() > monthEnd.getDate()) {\n            endDate = new Date(monthEnd);\n          }\n          break;\n        // Specific months in current year\n        case 'month1':\n          startDate = new Date(currentYear, 0, 1);\n          endDate = new Date(currentYear, 0, 31);\n          break;\n        case 'month2':\n          startDate = new Date(currentYear, 1, 1);\n          endDate = new Date(currentYear, 1, 28); // February\n          break;\n        case 'month3':\n          startDate = new Date(currentYear, 2, 1);\n          endDate = new Date(currentYear, 2, 31);\n          break;\n        case 'month4':\n          startDate = new Date(currentYear, 3, 1);\n          endDate = new Date(currentYear, 3, 30);\n          break;\n        case 'month5':\n          startDate = new Date(currentYear, 4, 1);\n          endDate = new Date(currentYear, 4, 31);\n          break;\n        case 'month6':\n          startDate = new Date(currentYear, 5, 1);\n          endDate = new Date(currentYear, 5, 30);\n          break;\n        case 'month7':\n          startDate = new Date(currentYear, 6, 1);\n          endDate = new Date(currentYear, 6, 31);\n          break;\n        case 'month8':\n          startDate = new Date(currentYear, 7, 1);\n          endDate = new Date(currentYear, 7, 31);\n          break;\n        case 'month9':\n          startDate = new Date(currentYear, 8, 1);\n          endDate = new Date(currentYear, 8, 30);\n          break;\n        case 'month10':\n          startDate = new Date(currentYear, 9, 1);\n          endDate = new Date(currentYear, 9, 31);\n          break;\n        case 'month11':\n          startDate = new Date(currentYear, 10, 1);\n          endDate = new Date(currentYear, 10, 30);\n          break;\n        case 'month12':\n          startDate = new Date(currentYear, 11, 1);\n          endDate = new Date(currentYear, 11, 31);\n          break;\n        // Specific week in specific month\n        default:\n          if (summaryPeriod.includes('_week')) {\n            const [monthPart, weekPart] = summaryPeriod.split('_week');\n            const monthNum = parseInt(monthPart.replace('month', '')) - 1; // Convert to 0-indexed\n            const weekNum = parseInt(weekPart);\n            \n            if (monthNum >= 0 && monthNum <= 11 && weekNum >= 1 && weekNum <= 5) {\n              const monthStart = new Date(currentYear, monthNum, 1);\n              const monthEnd = new Date(currentYear, monthNum + 1, 0);\n              \n              // Calculate week boundaries - weeks end on Sunday\n              if (weekNum === 1) {\n                // Week 1: From 1st day of month to next Sunday\n                startDate = new Date(currentYear, monthNum, 1);\n                \n                // Find the first Sunday of the month\n                const firstDay = new Date(currentYear, monthNum, 1);\n                const firstDayOfWeek = firstDay.getDay(); // 0 = Sunday, 1 = Monday, etc.\n                \n                if (firstDayOfWeek === 0) {\n                  // If 1st is Sunday, week ends on same day\n                  endDate = new Date(currentYear, monthNum, 1);\n                } else {\n                  // Find next Sunday\n                  const daysToSunday = 7 - firstDayOfWeek;\n                  endDate = new Date(currentYear, monthNum, 1 + daysToSunday);\n                }\n              } else {\n                // Week 2+: Start from day after previous week's Sunday\n                const prevWeekEnd = new Date(currentYear, monthNum, 1);\n                const firstDayOfWeek = prevWeekEnd.getDay();\n                \n                if (firstDayOfWeek === 0) {\n                  // If 1st is Sunday, week 2 starts on 2nd\n                  const weekStartDay = 1 + (weekNum - 1) * 7;\n                  startDate = new Date(currentYear, monthNum, weekStartDay);\n                } else {\n                  // Calculate start of current week\n                  const daysToFirstSunday = 7 - firstDayOfWeek;\n                  const weekStartDay = 1 + daysToFirstSunday + (weekNum - 2) * 7;\n                  startDate = new Date(currentYear, monthNum, weekStartDay);\n                }\n                \n                // Week ends on Sunday\n                const weekStartDayOfWeek = startDate.getDay();\n                if (weekStartDayOfWeek === 0) {\n                  // If week starts on Sunday, it ends same day\n                  endDate = new Date(startDate);\n                } else {\n                  // Find next Sunday\n                  const daysToSunday = 7 - weekStartDayOfWeek;\n                  endDate = new Date(currentYear, monthNum, startDate.getDate() + daysToSunday);\n                }\n              }\n              \n              // Ensure dates don't exceed month boundaries\n              if (startDate.getMonth() !== monthNum) {\n                startDate = new Date(currentYear, monthNum, 1);\n              }\n              if (endDate.getMonth() !== monthNum || endDate.getDate() > monthEnd.getDate()) {\n                endDate = new Date(monthEnd);\n              }\n              \n              // Debug log for week calculation\n              console.log(`📅 ${summaryPeriod}: ${startDate.toLocaleDateString('vi-VN')} - ${endDate.toLocaleDateString('vi-VN')}`);\n              \n            } else {\n          startDate = new Date(0);\n              endDate = new Date();\n            }\n          } else {\n            startDate = new Date(0);\n            endDate = new Date();\n          }\n          break;\n      }\n\n      const filteredEvaluations = allEvaluations.filter(evaluation => {\n        const evalDate = new Date(evaluation.date);\n        return evalDate >= startDate && evalDate <= endDate;\n      });\n\n      if (filteredEvaluations.length === 0) {\n        return {\n          totalEvaluations: 0,\n          averageScore: 0,\n          topPerformers: [],\n          departmentStats: {},\n          scoreDistribution: { excellent: 0, good: 0, average: 0, poor: 0 }\n        };\n      }\n\n      // Calculate average score\n      const totalScore = filteredEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0);\n      const averageScore = Math.round(totalScore / filteredEvaluations.length);\n\n      // Top performers\n      const topPerformers = filteredEvaluations\n        .sort((a, b) => b.totalScore - a.totalScore)\n        .slice(0, 5);\n\n      // Department statistics\n      const departmentStats = filteredEvaluations.reduce((acc, evaluation) => {\n        if (!acc[evaluation.department]) {\n          acc[evaluation.department] = { count: 0, totalScore: 0, average: 0 };\n        }\n        acc[evaluation.department].count += 1;\n        acc[evaluation.department].totalScore += evaluation.totalScore;\n        acc[evaluation.department].average = Math.round(acc[evaluation.department].totalScore / acc[evaluation.department].count);\n        return acc;\n      }, {});\n\n      // Score distribution (A/B/C/D)\n      const scoreDistribution = filteredEvaluations.reduce((acc, evaluation) => {\n        if (evaluation.totalScore >= 90) acc.excellent += 1; // Xuất sắc\n        else if (evaluation.totalScore >= 80) acc.good += 1; // Tốt\n        else if (evaluation.totalScore >= 70) acc.average += 1; // Trung bình\n        else acc.poor += 1; // Cần cải thiện\n        return acc;\n      }, { excellent: 0, good: 0, average: 0, poor: 0 });\n\n      // Calculate monthly trends\n      const monthlyTrend = calculateMonthlyTrend();\n      const dailyKPI = calculateDailyKPI();\n\n      return {\n        totalEvaluations: filteredEvaluations.length,\n        averageScore,\n        topPerformers,\n        departmentStats,\n        scoreDistribution,\n        monthlyTrend,\n        dailyKPI\n      };\n      } catch (error) {\n        console.error('❌ Error in calculateSummary:', error);\n        return {\n          totalEvaluations: 0,\n          averageScore: 0,\n          topPerformers: [],\n          departmentStats: {},\n          scoreDistribution: { excellent: 0, good: 0, average: 0, poor: 0 },\n          monthlyTrend: [],\n          dailyKPI: []\n        };\n      }\n    };\n\n\n    // Calculate monthly trend\n    const calculateMonthlyTrend = () => {\n      const months = [];\n      const now = new Date();\n      \n      for (let i = 5; i >= 0; i--) {\n        const monthStart = new Date(now.getFullYear(), now.getMonth() - i, 1);\n        const monthEnd = new Date(now.getFullYear(), now.getMonth() - i + 1, 0);\n        \n        const monthEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= monthStart && evalDate <= monthEnd;\n        });\n        \n        // Calculate average of 4 weeks in the month\n        const weeklyAverages = calculateWeeklyAveragesInMonth(monthStart, monthEnd);\n        const monthlyAverage = weeklyAverages.length > 0 \n          ? Math.round(weeklyAverages.reduce((sum, avg) => sum + avg, 0) / weeklyAverages.length)\n          : 0;\n        \n        months.push({\n          month: `${monthStart.getMonth() + 1}/${monthStart.getFullYear()}`,\n          evaluations: monthEvaluations.length,\n          averageScore: monthlyAverage,\n          weeklyAverages: weeklyAverages,\n          date: monthStart\n        });\n      }\n      \n      return months;\n    };\n\n    // Calculate daily KPI for all weeks in current month\n    const calculateDailyKPI = () => {\n      try {\n        const now = new Date();\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n        \n        // Get first and last day of current month\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        \n        const days = [];\n        const dayNames = ['Chủ nhật', 'Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7'];\n        \n        // Generate all days in the current month\n        const current = new Date(monthStart);\n        while (current <= monthEnd) {\n          const dayStart = new Date(current);\n          dayStart.setHours(0, 0, 0, 0);\n          const dayEnd = new Date(current);\n          dayEnd.setHours(23, 59, 59, 999);\n          \n          const dayEvaluations = allEvaluations.filter(evaluation => {\n            const evalDate = new Date(evaluation.date);\n            return evalDate >= dayStart && evalDate <= dayEnd;\n          });\n          \n          const avgScore = dayEvaluations.length > 0 \n            ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / dayEvaluations.length)\n            : 0;\n          \n          const dayName = dayNames[current.getDay()];\n          \n          // Calculate week number - weeks always end on Sunday\n          const dayOfMonth = current.getDate();\n          const firstDayOfMonth = monthStart.getDay(); // 0=Sunday, 1=Monday, etc.\n          \n          // Find the Sunday that ends the week containing this day\n          const dayOfWeek = current.getDay(); // 0=Sunday, 1=Monday, etc.\n          const daysToSunday = dayOfWeek === 0 ? 0 : 7 - dayOfWeek;\n          const weekEndingSunday = new Date(current);\n          weekEndingSunday.setDate(current.getDate() + daysToSunday);\n          \n          // Calculate week number based on which Sunday this week ends on\n          let weekNumber;\n          if (firstDayOfMonth === 0) { // Month starts on Sunday\n            weekNumber = Math.ceil(dayOfMonth / 7);\n          } else {\n            // Find the first Sunday of the month\n            const firstSunday = new Date(monthStart);\n            if (firstDayOfMonth === 0) {\n              // Already Sunday\n            } else {\n              firstSunday.setDate(1 + (7 - firstDayOfMonth));\n            }\n            \n            // Calculate week number based on which Sunday this week ends on\n            const daysDiff = Math.floor((weekEndingSunday - firstSunday) / (1000 * 60 * 60 * 24));\n            weekNumber = Math.floor(daysDiff / 7) + 1;\n            \n            // If this day is before the first Sunday, it's week 1\n            if (current < firstSunday) {\n              weekNumber = 1;\n            }\n          }\n          \n          days.push({\n            day: dayName,\n            date: current.toLocaleDateString('vi-VN'),\n            evaluationsCount: dayEvaluations.length,\n            averageScore: avgScore,\n            evaluations: dayEvaluations,\n            weekNumber: weekNumber\n          });\n          \n          current.setDate(current.getDate() + 1);\n        }\n        \n        return days;\n      } catch (error) {\n        console.error('❌ Error in calculateDailyKPI:', error);\n        return [];\n      }\n    };\n\n    // Calculate weekly averages in a month\n    const calculateWeeklyAveragesInMonth = (monthStart, monthEnd) => {\n      const weeklyAverages = [];\n      const current = new Date(monthStart);\n      \n      while (current <= monthEnd) {\n        const weekStart = new Date(current);\n        const weekEnd = new Date(current);\n        weekEnd.setDate(current.getDate() + 6);\n        \n        // Adjust if week goes beyond month\n        if (weekEnd > monthEnd) {\n          weekEnd.setTime(monthEnd.getTime());\n        }\n        \n        const weekEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= weekStart && evalDate <= weekEnd;\n        });\n        \n        const weekAvg = weekEvaluations.length > 0 \n          ? Math.round(weekEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / weekEvaluations.length)\n          : 0;\n        \n        weeklyAverages.push(weekAvg);\n        \n        // Move to next week\n        current.setDate(current.getDate() + 7);\n      }\n      \n      return weeklyAverages;\n    };\n\n    // Export Daily KPI to Excel\n    const exportDailyKPIExcel = (dailyData) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Ngày,Thứ,Đánh giá,Điểm trung bình\\n\";\n        \n        dailyData.forEach(day => {\n          csvContent += `${day.date},${day.day},${day.evaluationsCount},${day.averageScore}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_ngay_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert('✅ Đã xuất báo cáo KPI theo ngày thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Monthly KPI to Excel\n    const exportMonthlyKPIExcel = (monthlyData) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Tháng,Đánh giá,Điểm trung bình,Điểm TB tuần 1,Điểm TB tuần 2,Điểm TB tuần 3,Điểm TB tuần 4\\n\";\n        \n        monthlyData.forEach(month => {\n          const weeklyAvgs = month.weeklyAverages || [];\n          csvContent += `${month.month},${month.evaluations},${month.averageScore},${weeklyAvgs[0] || 0},${weeklyAvgs[1] || 0},${weeklyAvgs[2] || 0},${weeklyAvgs[3] || 0}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_thang_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert('✅ Đã xuất báo cáo KPI theo tháng thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export Department KPI to Excel\n    const exportDepartmentKPIExcel = (departmentStats) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"Bộ phận,Số đánh giá,Điểm trung bình\\n\";\n        \n        Object.entries(departmentStats).forEach(([dept, stats]) => {\n          csvContent += `${dept},${stats.count},${stats.average}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `Bao_cao_KPI_bo_phan_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert('✅ Đã xuất báo cáo KPI theo bộ phận thành công!');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (with current filters)\n    const exportAllEvaluationsExcel = () => {\n      try {\n        // Get filtered evaluations - use the same logic as display\n        const filteredEvaluations = allEvaluations.filter(evaluation => {\n          // Filter by department\n          if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n            return false;\n          }\n          \n          // Filter by time period\n          const evalDate = new Date(evaluation.date);\n          const today = new Date();\n          let startDate;\n          \n          switch (summaryPeriod) {\n            case 'week':\n              // Current week: from Monday to Sunday\n              startDate = new Date(today);\n              startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n              const endDate = new Date(today);\n              endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n              return evalDate >= startDate && evalDate <= endDate;\n            case 'month':\n              startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n              break;\n            case 'quarter':\n              const quarter = Math.floor(today.getMonth() / 3);\n              startDate = new Date(today.getFullYear(), quarter * 3, 1);\n              break;\n            case 'year':\n              startDate = new Date(today.getFullYear(), 0, 1);\n              break;\n            default:\n              // Show all evaluations when no specific period is selected\n              return true;\n          }\n          \n          return evalDate >= startDate && evalDate <= today;\n        });\n\n        exportEvaluationsToCSV(filteredEvaluations, 'Danh_sach_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export All Evaluations to Excel (without filters)\n    const exportAllEvaluationsExcelUnfiltered = () => {\n      try {\n        exportEvaluationsToCSV(allEvaluations, 'Tat_ca_danh_gia_KPI');\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Helper function to export evaluations to CSV\n    const exportEvaluationsToCSV = (evaluations, filenamePrefix) => {\n      try {\n        // Debug log\n        console.log('Export Debug:');\n        console.log('- Evaluations to export:', evaluations.length);\n        console.log('- Data:', evaluations);\n\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Ngày đánh giá,Hiệu quả,Kỷ luật,Thái độ,Tổng điểm,Xếp loại\\n\";\n        \n        evaluations.forEach((evaluation, index) => {\n          csvContent += `${index + 1},${evaluation.userName},${evaluation.department},${new Date(evaluation.date).toLocaleDateString('vi-VN')},${evaluation.scores.performance},${evaluation.scores.discipline},${evaluation.scores.attitude},${evaluation.totalScore},${evaluation.level}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert(`✅ Đã xuất ${evaluations.length} đánh giá KPI thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Export weekly summaries to CSV\n    const exportWeeklySummariesToCSV = (weeklySummaries, filenamePrefix) => {\n      try {\n        // Create CSV content with BOM for proper UTF-8 encoding\n        let csvContent = \"\\uFEFF\"; // BOM for UTF-8\n        csvContent += \"STT,Nhân viên,Bộ phận,Tuần từ,Tuần đến,Số đánh giá ngày,Điểm TB hiệu quả,Điểm TB kỷ luật,Điểm TB thái độ,Điểm TB tổng,Xếp loại tuần\\n\";\n        \n        weeklySummaries.forEach((summary, index) => {\n          csvContent += `${index + 1},${summary.userName},${summary.department},${new Date(summary.weekStart).toLocaleDateString('vi-VN')},${new Date(summary.weekEnd).toLocaleDateString('vi-VN')},${summary.totalDailyEvaluations},${summary.averageScores.performance},${summary.averageScores.discipline},${summary.averageScores.attitude},${summary.averageTotalScore},${summary.weeklyLevel}\\n`;\n        });\n        \n        // Create and download file with proper encoding\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n        const link = document.createElement('a');\n        const url = URL.createObjectURL(blob);\n        link.setAttribute('href', url);\n        link.setAttribute('download', `${filenamePrefix}_${new Date().toLocaleDateString('vi-VN').replace(/\\//g, '-')}.csv`);\n        link.style.visibility = 'hidden';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        \n        alert(`✅ Đã xuất ${weeklySummaries.length} báo cáo tổng hợp tuần thành công!`);\n      } catch (error) {\n        console.error('❌ Lỗi xuất file:', error);\n        alert('❌ Lỗi khi xuất file. Vui lòng thử lại.');\n      }\n    };\n\n    // Calculate weekly summary from daily evaluations\n    const calculateWeeklySummary = (userId, weekStart, weekNumber) => {\n      const currentMonth = new Date().getMonth();\n      const currentYear = new Date().getFullYear();\n      const monthStart = new Date(currentYear, currentMonth, 1);\n      const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n      \n      // Calculate week end (Sunday of the week)\n      const weekEnd = new Date(weekStart);\n      weekEnd.setDate(weekStart.getDate() + 6);\n      weekEnd.setHours(23, 59, 59, 999);\n      \n      // Ensure week end doesn't exceed month end\n      if (weekEnd > monthEnd) {\n        weekEnd.setTime(monthEnd.getTime());\n        weekEnd.setHours(23, 59, 59, 999);\n      }\n      \n      // Get all daily evaluations for this user in this week (within month)\n      const weeklyEvaluations = allEvaluations.filter(evaluation => {\n        const evalDate = new Date(evaluation.date);\n        return evaluation.userId === userId && \n               evalDate >= weekStart && \n               evalDate <= weekEnd &&\n               evalDate >= monthStart &&\n               evalDate <= monthEnd;\n      });\n      \n      if (weeklyEvaluations.length === 0) return null;\n      \n      // Calculate averages\n      const totalEvaluations = weeklyEvaluations.length;\n      const avgPerformance = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.performance, 0) / totalEvaluations;\n      const avgDiscipline = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.discipline, 0) / totalEvaluations;\n      const avgAttitude = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.scores.attitude, 0) / totalEvaluations;\n      const avgTotalScore = weeklyEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations;\n      \n      // Determine weekly level based on average score\n      let weeklyLevel;\n      if (avgTotalScore >= 90) weeklyLevel = 'Xuất sắc';\n      else if (avgTotalScore >= 80) weeklyLevel = 'Tốt';\n      else if (avgTotalScore >= 70) weeklyLevel = 'Trung bình';\n      else weeklyLevel = 'Cần cải thiện';\n      \n      return {\n        userId: userId,\n        userName: weeklyEvaluations[0].userName,\n        department: weeklyEvaluations[0].department,\n        weekStart: weekStart.toISOString().split('T')[0],\n        weekEnd: weekEnd.toISOString().split('T')[0],\n        weekNumber: weekNumber,\n        totalDailyEvaluations: totalEvaluations,\n        averageScores: {\n          performance: Math.round(avgPerformance * 100) / 100,\n          discipline: Math.round(avgDiscipline * 100) / 100,\n          attitude: Math.round(avgAttitude * 100) / 100\n        },\n        averageTotalScore: Math.round(avgTotalScore * 100) / 100,\n        weeklyLevel: weeklyLevel,\n        dailyEvaluations: weeklyEvaluations,\n        createdAt: new Date().toISOString()\n      };\n    };\n\n    // Filter weekly summaries based on time and department\n    const getFilteredWeeklySummaries = () => {\n      const allSummaries = generateWeeklySummaries();\n      \n      return allSummaries.filter(summary => {\n        // Filter by department\n        if (weeklyDepartmentFilter !== 'all' && summary.department !== weeklyDepartmentFilter) {\n          return false;\n        }\n        \n        // Filter by time\n        if (weeklyTimeFilter !== 'all') {\n          const summaryDate = new Date(summary.weekStart);\n          const today = new Date();\n          \n          switch (weeklyTimeFilter) {\n            case 'week1':\n              return summary.weekNumber === 1;\n            case 'week2':\n              return summary.weekNumber === 2;\n            case 'week3':\n              return summary.weekNumber === 3;\n            case 'week4':\n              return summary.weekNumber === 4;\n            case 'week5':\n              return summary.weekNumber === 5;\n            case 'current':\n              // Current week (this week)\n              const currentWeekStart = new Date(today);\n              const currentDay = today.getDay();\n              const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay;\n              currentWeekStart.setDate(today.getDate() + daysToMonday);\n              currentWeekStart.setHours(0, 0, 0, 0);\n              \n              const currentWeekEnd = new Date(currentWeekStart);\n              currentWeekEnd.setDate(currentWeekStart.getDate() + 6);\n              currentWeekEnd.setHours(23, 59, 59, 999);\n              \n              return summaryDate >= currentWeekStart && summaryDate <= currentWeekEnd;\n            default:\n              return true;\n          }\n        }\n        \n        return true;\n      });\n    };\n\n    // Generate weekly summaries for all users (monthly-based weeks)\n    const generateWeeklySummaries = () => {\n      try {\n        const today = new Date();\n        const currentMonth = today.getMonth();\n        const currentYear = today.getFullYear();\n        \n        console.log('🔍 Debug - Today:', today.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Current month:', currentMonth + 1);\n        \n        // Get current month boundaries\n        const monthStart = new Date(currentYear, currentMonth, 1);\n        const monthEnd = new Date(currentYear, currentMonth + 1, 0);\n        monthEnd.setHours(23, 59, 59, 999);\n        \n        console.log('🔍 Debug - Month start:', monthStart.toISOString().split('T')[0]);\n        console.log('🔍 Debug - Month end:', monthEnd.toISOString().split('T')[0]);\n        \n        // Calculate weeks in month (Week 1 starts from 1st day of month)\n        const weeksInMonth = [];\n        let weekNumber = 1;\n        \n        // Week 1 always starts from the 1st day of the month\n        let weekStart = new Date(currentYear, currentMonth, 1);\n        weekStart.setHours(0, 0, 0, 0);\n        \n        console.log('🔍 Debug - Week 1 start:', weekStart.toISOString().split('T')[0]);\n        \n        // Generate all weeks that have at least one day in the current month\n        while (weekStart <= monthEnd) {\n          let weekEnd;\n          \n          if (weekNumber === 1) {\n            // Week 1: from 1st day to Sunday of that week\n            const firstDayOfWeek = weekStart.getDay();\n            const daysToSunday = firstDayOfWeek === 0 ? 0 : 7 - firstDayOfWeek;\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + daysToSunday);\n          } else {\n            // Other weeks: Monday to Sunday\n            weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n          }\n          weekEnd.setHours(23, 59, 59, 999);\n          \n          // Only include weeks that have at least one day in the current month\n          if (weekEnd >= monthStart && weekStart <= monthEnd) {\n            const actualWeekStart = new Date(Math.max(weekStart, monthStart));\n            const actualWeekEnd = new Date(Math.min(weekEnd, monthEnd));\n            actualWeekStart.setHours(0, 0, 0, 0);\n            actualWeekEnd.setHours(23, 59, 59, 999);\n            \n            console.log(`🔍 Debug - Week ${weekNumber}: ${actualWeekStart.toISOString().split('T')[0]} to ${actualWeekEnd.toISOString().split('T')[0]}`);\n            \n            weeksInMonth.push({ \n              start: actualWeekStart, \n              end: actualWeekEnd, \n              weekNumber: weekNumber \n            });\n            weekNumber++;\n          }\n          \n          // Move to next week\n          if (weekNumber === 2) {\n            // Week 2 starts from Monday after Week 1's Sunday\n            weekStart = new Date(weekEnd);\n            weekStart.setDate(weekEnd.getDate() + 1);\n            weekStart.setHours(0, 0, 0, 0);\n          } else {\n            // Other weeks: move to next Monday\n            weekStart = new Date(weekStart);\n            weekStart.setDate(weekStart.getDate() + 7);\n            weekStart.setHours(0, 0, 0, 0);\n          }\n        }\n        \n        console.log('🔍 Debug - Total weeks:', weeksInMonth.length);\n        \n        // Get unique users who have evaluations\n        const uniqueUsers = [...new Set(allEvaluations.map(evaluation => evaluation.userId))];\n      \n      const weeklySummaries = [];\n      \n      // For each week in the month, calculate summaries for all users\n      weeksInMonth.forEach(week => {\n        uniqueUsers.forEach(userId => {\n          const summary = calculateWeeklySummary(userId, week.start, week.weekNumber);\n          if (summary) {\n            weeklySummaries.push(summary);\n          }\n        });\n      });\n      \n        return weeklySummaries;\n      } catch (error) {\n        console.error('❌ Error in generateWeeklySummaries:', error);\n        return [];\n      }\n    };\n\n    // Toggle expanded user details\n    const toggleUserDetails = (userId) => {\n      setExpandedUser(expandedUser === userId ? null : userId);\n    };\n\n    // Filter history evaluations\n    const getFilteredHistory = () => {\n      return evaluationHistory.filter(evaluation => {\n        // Quản lý xem tất cả, các cấp khác chỉ xem bộ phận mình\n        if (currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý') {\n          if (evaluation.department !== currentUser?.department) {\n            return false;\n          }\n        }\n        \n        // Filter by department (nếu có bộ lọc)\n        if (historyDepartmentFilter !== 'all' && evaluation.department !== historyDepartmentFilter) {\n          return false;\n        }\n        \n        // Filter by specific date if provided\n        if (historyDateFilter) {\n          const evalDate = new Date(evaluation.date);\n          const filterDate = new Date(historyDateFilter);\n          return evalDate.toDateString() === filterDate.toDateString();\n        }\n        \n        // Filter by time period\n        const evalDate = new Date(evaluation.date);\n        const today = new Date();\n        let startDate;\n        \n        switch (historyTimeFilter) {\n          case 'today':\n            startDate = new Date(today);\n            startDate.setHours(0, 0, 0, 0);\n            break;\n          case 'week':\n            // Current week: from Monday to Sunday\n            startDate = new Date(today);\n            startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n            const endDate = new Date(today);\n            endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n            return evalDate >= startDate && evalDate <= endDate;\n          case 'month':\n            startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n            break;\n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            startDate = new Date(today.getFullYear(), quarter * 3, 1);\n            break;\n          case 'year':\n            startDate = new Date(today.getFullYear(), 0, 1);\n            break;\n          default:\n            return true;\n        }\n        \n        return evalDate >= startDate && evalDate <= today;\n      });\n    };\n\n\n    // Calculate daily KPI report for current week\n    const calculateDailyKPIReport = () => {\n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n      // Calculate current week: Monday to Sunday\n      const currentDay = today.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday\n      const daysToMonday = currentDay === 0 ? -6 : 1 - currentDay; // Monday is start of week\n      \n      const currentWeekStart = new Date(today);\n      currentWeekStart.setDate(today.getDate() + daysToMonday);\n      \n      const currentWeekEnd = new Date(currentWeekStart);\n      currentWeekEnd.setDate(currentWeekStart.getDate() + 6); // Sunday\n      \n      const dailyReports = [];\n      const dayNames = ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];\n      \n      // Generate days for the current week\n      const daysInWeek = Math.ceil((currentWeekEnd - currentWeekStart) / (1000 * 60 * 60 * 24)) + 1;\n      \n      for (let i = 0; i < daysInWeek; i++) {\n        const dayStart = new Date(currentWeekStart);\n        dayStart.setDate(currentWeekStart.getDate() + i);\n        const dayEnd = new Date(dayStart);\n        dayEnd.setHours(23, 59, 59, 999);\n        \n        const dayEvaluations = allEvaluations.filter(evaluation => {\n          const evalDate = new Date(evaluation.date);\n          return evalDate >= dayStart && evalDate <= dayEnd;\n        });\n        \n        // Calculate department-wise statistics for this day\n        const departmentStats = {};\n        dayEvaluations.forEach(evaluation => {\n          if (!departmentStats[evaluation.department]) {\n            departmentStats[evaluation.department] = {\n              evaluations: [],\n              totalScore: 0,\n              count: 0,\n              averageScore: 0\n            };\n          }\n          departmentStats[evaluation.department].evaluations.push(evaluation);\n          departmentStats[evaluation.department].totalScore += evaluation.totalScore;\n          departmentStats[evaluation.department].count += 1;\n        });\n        \n        // Calculate average scores for each department\n        Object.keys(departmentStats).forEach(dept => {\n          const stats = departmentStats[dept];\n          stats.averageScore = stats.count > 0 ? Math.round(stats.totalScore / stats.count) : 0;\n        });\n        \n        const totalEvaluations = dayEvaluations.length;\n        const overallAverage = totalEvaluations > 0 \n          ? Math.round(dayEvaluations.reduce((sum, evaluation) => sum + evaluation.totalScore, 0) / totalEvaluations)\n          : 0;\n        \n        dailyReports.push({\n          dayName: dayNames[i],\n          date: dayStart,\n          dateString: dayStart.toLocaleDateString('vi-VN'),\n          totalEvaluations,\n          overallAverage,\n          departmentStats,\n          evaluations: dayEvaluations\n        });\n      }\n      \n      return dailyReports;\n    };\n\n    const handleStartEvaluation = (user) => {\n      // Kiểm tra xem người này đã được đánh giá trong ngày hôm nay chưa\n      const today = new Date().toISOString().split('T')[0];\n      const alreadyEvaluatedToday = allEvaluations.some(evaluation => \n        evaluation.userId === user.id && \n        evaluation.date === today &&\n        evaluation.evaluatedBy === currentUser.fullName\n      );\n      \n      if (alreadyEvaluatedToday) {\n        alert(`❌ Bạn đã đánh giá ${user.fullName} trong ngày hôm nay!\\nMỗi người chỉ được đánh giá 1 lần/ngày.`);\n        return;\n      }\n      \n      setSelectedUser(user);\n      setIsEvaluating(true);\n      setEvaluationData({\n        performance: 0,\n        discipline: 0,\n        attitude: 0\n      });\n    };\n\n    const handleSaveEvaluation = async () => {\n      const totalScore = calculateTotalScore();\n      const scoreLevel = getScoreLevel(totalScore);\n      \n      // Sử dụng ngày hiện tại thay vì ngày được chọn\n      const today = new Date().toISOString().split('T')[0];\n      \n      const newEvaluation = {\n        id: Date.now(),\n        userId: selectedUser.id,\n        userName: selectedUser.fullName,\n        department: selectedUser.department,\n        date: today, // Luôn sử dụng ngày hiện tại\n        scores: evaluationData,\n        totalScore: totalScore,\n        level: scoreLevel.level,\n        evaluatedBy: currentUser.fullName,\n        evaluatorRole: currentUser.role === 'admin' ? 'Quản lý' : currentUser.position,\n        createdAt: new Date().toISOString()\n      };\n      \n      const updatedEvaluations = [newEvaluation, ...allEvaluations];\n      setEvaluationHistory(updatedEvaluations);\n      setAllEvaluations(updatedEvaluations);\n      \n      // Save to server\n      await saveKpiEvaluations(updatedEvaluations);\n      \n      alert(`✅ Đánh giá KPI cho ${selectedUser.fullName} ngày ${today}:\\nĐiểm tổng: ${totalScore}/100\\nXếp loại: ${scoreLevel.level}\\n\\n⚠️ Lưu ý: Bạn đã đánh giá người này trong ngày hôm nay. Không thể đánh giá lại cho đến ngày mai.`);\n      \n      setIsEvaluating(false);\n      setSelectedUser(null);\n    };\n\n    // Delete evaluation function\n    const handleDeleteEvaluation = async (evaluationId) => {\n      if (!window.confirm('Bạn có chắc chắn muốn xóa đánh giá này? Hành động này không thể hoàn tác.')) {\n        return;\n      }\n      \n      try {\n        // Gọi API để xóa đánh giá\n        const response = await fetch(`${window.API_BASE || API_BASE}/api/kpi-evaluations/${evaluationId}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        \n        const result = await response.json();\n        \n        if (result.success) {\n          // Cập nhật state local\n          const updatedEvaluations = allEvaluations.filter(evaluation => evaluation.id !== evaluationId);\n          setEvaluationHistory(updatedEvaluations);\n          setAllEvaluations(updatedEvaluations);\n          \n          alert('✅ Đã xóa đánh giá thành công!');\n        } else {\n          alert(`❌ Lỗi: ${result.error}`);\n        }\n      } catch (error) {\n        console.error('❌ Lỗi khi xóa đánh giá:', error);\n        alert('❌ Lỗi khi xóa đánh giá. Vui lòng thử lại.');\n      }\n    };\n\n    return (\n      <div className=\"kpi-evaluation\">\n        <div className=\"kpi-header\">\n          <h2>📊 Đánh giá KPI nhân sự</h2>\n          <p>Bộ tiêu chí 360° - Ưu tiên hiệu quả – tuân thủ – phát triển</p>\n          {(() => {\n            const today = new Date().toISOString().split('T')[0];\n            const evaluatedToday = allEvaluations.filter(evaluation => \n              evaluation.date === today && \n              evaluation.evaluatedBy === currentUser.fullName\n            ).length;\n            const totalUsers = users.filter(user => user.id !== currentUser.id).length;\n            \n            return (\n              <div className=\"daily-progress\">\n                <div className=\"progress-info\">\n                  <span className=\"progress-text\">\n                    📈 Tiến độ hôm nay: {evaluatedToday}/{totalUsers} người đã đánh giá\n                  </span>\n                  <div className=\"progress-bar\">\n                    <div \n                      className=\"progress-fill\" \n                      style={{width: `${(evaluatedToday / totalUsers) * 100}%`}}\n                    ></div>\n                  </div>\n                </div>\n                {evaluatedToday === totalUsers && (\n                  <div className=\"completion-message\">\n                    🎉 Chúc mừng! Bạn đã hoàn thành đánh giá tất cả nhân viên trong ngày hôm nay!\n                  </div>\n                )}\n              </div>\n            );\n          })()}\n          <div className=\"kpi-controls\">\n            <div className=\"date-selector\">\n              <label>📅 Ngày đánh giá:</label>\n              <input\n                type=\"date\"\n                value={new Date().toISOString().split('T')[0]}\n                disabled\n                className=\"date-input disabled\"\n                title=\"Ngày đánh giá được tự động cố định theo ngày hiện tại\"\n              />\n              <small style={{color: '#666', fontSize: '12px'}}>\n                ⚠️ Ngày đánh giá được cố định theo ngày hiện tại để đảm bảo tính chính xác\n              </small>\n            </div>\n            <div className=\"view-mode\">\n              <button\n                className={`mode-btn ${viewMode === 'evaluate' ? 'active' : ''}`}\n                onClick={() => setViewMode('evaluate')}\n              >\n                📝 Đánh giá\n              </button>\n              <button\n                className={`mode-btn ${viewMode === 'history' ? 'active' : ''}`}\n                onClick={() => setViewMode('history')}\n              >\n                📊 Lịch sử\n              </button>\n              <button\n                className={`mode-btn ${viewMode === 'summary' ? 'active' : ''}`}\n                onClick={() => setViewMode('summary')}\n              >\n                📈 Tổng hợp\n              </button>\n              {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n              <button\n                  className={`mode-btn ${viewMode === 'all-evaluations' ? 'active' : ''}`}\n                  onClick={() => setViewMode('all-evaluations')}\n              >\n                  👥 Tất cả đánh giá\n              </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {viewMode === 'summary' ? (\n          <div className=\"evaluation-summary\">\n            <div className=\"summary-header\">\n              <div className=\"section-header\">\n              <h3>📈 Tổng hợp đánh giá KPI</h3>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={() => exportDailyKPIExcel(calculateDailyKPIReport())}\n                    title=\"Xuất báo cáo KPI theo ngày\"\n                  >\n                    📅 Xuất theo ngày\n                  </button>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={() => exportMonthlyKPIExcel(calculateMonthlyKPIReport())}\n                    title=\"Xuất báo cáo KPI theo tháng\"\n                  >\n                    📊 Xuất theo tháng\n                  </button>\n                </div>\n              </div>\n              <div className=\"period-selector\">\n                <label>Khoảng thời gian:</label>\n                <select \n                  value={summaryPeriod} \n                  onChange={(e) => setSummaryPeriod(e.target.value)}\n                  className=\"period-select\"\n                >\n                  <option value=\"week\">Tuần này</option>\n                  <option value=\"month\">Tháng này</option>\n                  <option value=\"quarter\">Quý này</option>\n                  <option value=\"year\">Năm này</option>\n                  <optgroup label=\"📅 Theo tuần\">\n                    <option value=\"week1\">Tuần 1</option>\n                    <option value=\"week2\">Tuần 2</option>\n                    <option value=\"week3\">Tuần 3</option>\n                    <option value=\"week4\">Tuần 4</option>\n                    <option value=\"week5\">Tuần 5</option>\n                  </optgroup>\n                  <optgroup label=\"📆 Theo tháng\">\n                    <option value=\"month1\">Tháng 1</option>\n                    <option value=\"month2\">Tháng 2</option>\n                    <option value=\"month3\">Tháng 3</option>\n                    <option value=\"month4\">Tháng 4</option>\n                    <option value=\"month5\">Tháng 5</option>\n                    <option value=\"month6\">Tháng 6</option>\n                    <option value=\"month7\">Tháng 7</option>\n                    <option value=\"month8\">Tháng 8</option>\n                    <option value=\"month9\">Tháng 9</option>\n                    <option value=\"month10\">Tháng 10</option>\n                    <option value=\"month11\">Tháng 11</option>\n                    <option value=\"month12\">Tháng 12</option>\n                  </optgroup>\n                  <optgroup label=\"🗓️ Tuần trong tháng cụ thể\">\n                    <option value=\"month1_week1\">Tháng 1 - Tuần 1</option>\n                    <option value=\"month1_week2\">Tháng 1 - Tuần 2</option>\n                    <option value=\"month1_week3\">Tháng 1 - Tuần 3</option>\n                    <option value=\"month1_week4\">Tháng 1 - Tuần 4</option>\n                    <option value=\"month1_week5\">Tháng 1 - Tuần 5</option>\n                    <option value=\"month2_week1\">Tháng 2 - Tuần 1</option>\n                    <option value=\"month2_week2\">Tháng 2 - Tuần 2</option>\n                    <option value=\"month2_week3\">Tháng 2 - Tuần 3</option>\n                    <option value=\"month2_week4\">Tháng 2 - Tuần 4</option>\n                    <option value=\"month3_week1\">Tháng 3 - Tuần 1</option>\n                    <option value=\"month3_week2\">Tháng 3 - Tuần 2</option>\n                    <option value=\"month3_week3\">Tháng 3 - Tuần 3</option>\n                    <option value=\"month3_week4\">Tháng 3 - Tuần 4</option>\n                    <option value=\"month3_week5\">Tháng 3 - Tuần 5</option>\n                    <option value=\"month4_week1\">Tháng 4 - Tuần 1</option>\n                    <option value=\"month4_week2\">Tháng 4 - Tuần 2</option>\n                    <option value=\"month4_week3\">Tháng 4 - Tuần 3</option>\n                    <option value=\"month4_week4\">Tháng 4 - Tuần 4</option>\n                    <option value=\"month5_week1\">Tháng 5 - Tuần 1</option>\n                    <option value=\"month5_week2\">Tháng 5 - Tuần 2</option>\n                    <option value=\"month5_week3\">Tháng 5 - Tuần 3</option>\n                    <option value=\"month5_week4\">Tháng 5 - Tuần 4</option>\n                    <option value=\"month5_week5\">Tháng 5 - Tuần 5</option>\n                    <option value=\"month6_week1\">Tháng 6 - Tuần 1</option>\n                    <option value=\"month6_week2\">Tháng 6 - Tuần 2</option>\n                    <option value=\"month6_week3\">Tháng 6 - Tuần 3</option>\n                    <option value=\"month6_week4\">Tháng 6 - Tuần 4</option>\n                    <option value=\"month7_week1\">Tháng 7 - Tuần 1</option>\n                    <option value=\"month7_week2\">Tháng 7 - Tuần 2</option>\n                    <option value=\"month7_week3\">Tháng 7 - Tuần 3</option>\n                    <option value=\"month7_week4\">Tháng 7 - Tuần 4</option>\n                    <option value=\"month7_week5\">Tháng 7 - Tuần 5</option>\n                    <option value=\"month8_week1\">Tháng 8 - Tuần 1</option>\n                    <option value=\"month8_week2\">Tháng 8 - Tuần 2</option>\n                    <option value=\"month8_week3\">Tháng 8 - Tuần 3</option>\n                    <option value=\"month8_week4\">Tháng 8 - Tuần 4</option>\n                    <option value=\"month8_week5\">Tháng 8 - Tuần 5</option>\n                    <option value=\"month9_week1\">Tháng 9 - Tuần 1</option>\n                    <option value=\"month9_week2\">Tháng 9 - Tuần 2</option>\n                    <option value=\"month9_week3\">Tháng 9 - Tuần 3</option>\n                    <option value=\"month9_week4\">Tháng 9 - Tuần 4</option>\n                    <option value=\"month10_week1\">Tháng 10 - Tuần 1</option>\n                    <option value=\"month10_week2\">Tháng 10 - Tuần 2</option>\n                    <option value=\"month10_week3\">Tháng 10 - Tuần 3</option>\n                    <option value=\"month10_week4\">Tháng 10 - Tuần 4</option>\n                    <option value=\"month10_week5\">Tháng 10 - Tuần 5</option>\n                    <option value=\"month11_week1\">Tháng 11 - Tuần 1</option>\n                    <option value=\"month11_week2\">Tháng 11 - Tuần 2</option>\n                    <option value=\"month11_week3\">Tháng 11 - Tuần 3</option>\n                    <option value=\"month11_week4\">Tháng 11 - Tuần 4</option>\n                    <option value=\"month12_week1\">Tháng 12 - Tuần 1</option>\n                    <option value=\"month12_week2\">Tháng 12 - Tuần 2</option>\n                    <option value=\"month12_week3\">Tháng 12 - Tuần 3</option>\n                    <option value=\"month12_week4\">Tháng 12 - Tuần 4</option>\n                    <option value=\"month12_week5\">Tháng 12 - Tuần 5</option>\n                  </optgroup>\n                </select>\n              </div>\n            </div>\n            \n            {(() => {\n              const summary = calculateSummary();\n              return (\n                <div className=\"summary-content\">\n                  <div className=\"summary-stats\">\n                    <div className=\"stat-card\">\n                      <h4>Tổng đánh giá</h4>\n                      <div className=\"stat-value\">{summary.totalEvaluations}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Điểm trung bình</h4>\n                      <div className=\"stat-value\">{summary.averageScore}/100</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Xuất sắc</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.excellent}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Tốt</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.good}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Trung bình</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.average}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                      <h4>Cần cải thiện</h4>\n                      <div className=\"stat-value\">{summary.scoreDistribution.poor}</div>\n                    </div>\n                  </div>\n\n                  {summary.topPerformers.length > 0 && (\n                    <div className=\"top-performers\">\n                      <h4>🏆 Top 5 nhân viên xuất sắc</h4>\n                      <div className=\"performers-list\">\n                        {summary.topPerformers.map((performer, index) => (\n                          <div key={performer.id} className=\"performer-item\">\n                            <div className=\"rank\">#{index + 1}</div>\n                            <div className=\"performer-info\">\n                              <div className=\"name\">{performer.userName}</div>\n                              <div className=\"department\">{performer.department}</div>\n                            </div>\n                            <div className=\"score\">\n                              <span \n                                className=\"score-value\"\n                                style={{ color: getScoreLevel(performer.totalScore).color }}\n                              >\n                                {performer.totalScore}/100\n                              </span>\n                              <span className=\"level\">{performer.level}</span>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {Object.keys(summary.departmentStats).length > 0 && (\n                    <div className=\"department-performance\">\n                      <div className=\"section-header\">\n                      <h4>📊 Năng suất theo bộ phận</h4>\n                        <button \n                          className=\"export-excel-btn\"\n                          onClick={() => exportDepartmentKPIExcel(summary.departmentStats)}\n                          title=\"Xuất báo cáo Excel\"\n                        >\n                          📊 Xuất Excel\n                        </button>\n                      </div>\n                      <div className=\"department-list\">\n                        {Object.entries(summary.departmentStats).map(([dept, stats]) => (\n                          <div key={dept} className=\"department-item\">\n                            <div className=\"dept-name\">{dept}</div>\n                            <div className=\"dept-stats\">\n                              <span>Đánh giá: {stats.count}</span>\n                              <span>Trung bình: {stats.average}/100</span>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Daily KPI */}\n                  {summary.dailyKPI && summary.dailyKPI.length > 0 && (\n                    <div className=\"trend-section daily-kpi\">\n                      <div className=\"section-header\">\n                        <h4>📅 Báo cáo KPI theo ngày (Tháng này)</h4>\n                        <button \n                          className=\"export-excel-btn\"\n                          onClick={() => exportDailyKPIExcel(summary.dailyKPI)}\n                          title=\"Xuất báo cáo Excel\"\n                        >\n                          📊 Xuất Excel\n                        </button>\n                      </div>\n                      {/* Group by weeks */}\n                      {(() => {\n                        const weeks = {};\n                        summary.dailyKPI.forEach(day => {\n                          const weekNum = day.weekNumber || 1;\n                          if (!weeks[weekNum]) {\n                            weeks[weekNum] = [];\n                          }\n                          weeks[weekNum].push(day);\n                        });\n                        \n                        return Object.keys(weeks).map(weekNum => {\n                          const weekDays = weeks[weekNum];\n                          const firstDay = weekDays[0];\n                          const lastDay = weekDays[weekDays.length - 1];\n                          const weekTitle = weekDays.length < 7 \n                            ? `📅 Tuần ${weekNum} (${firstDay.date} - ${lastDay.date})`\n                            : `📅 Tuần ${weekNum}`;\n                          \n                          return (\n                            <div key={weekNum} className=\"week-section\">\n                              <h5 className=\"week-title\">{weekTitle}</h5>\n                              <div className=\"daily-kpi-grid\">\n                                {weekDays.map((day, index) => (\n                                <div key={index} className=\"daily-kpi-item\">\n                                  <div className=\"day-header\">\n                                    <span className=\"day-name\">{day.day}</span>\n                                    <span className=\"day-date\">{day.date}</span>\n                                  </div>\n                                  <div className=\"day-stats\">\n                                    <div className=\"day-stat\">\n                                      <span className=\"stat-label\">Đánh giá:</span>\n                                      <span className=\"stat-value\">{day.evaluationsCount}</span>\n                                    </div>\n                                    <div className=\"day-stat\">\n                                      <span className=\"stat-label\">Điểm TB:</span>\n                                      <span className=\"stat-value score\">{day.averageScore}/100</span>\n                                    </div>\n                                  </div>\n                                  <div className=\"day-progress\">\n                                    <div \n                                      className=\"progress-fill\"\n                                      style={{ \n                                        width: `${day.averageScore}%`,\n                                        backgroundColor: day.averageScore >= 80 ? '#28a745' : \n                                                       day.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                                      }}\n                                    ></div>\n                                  </div>\n                                </div>\n                              ))}\n                              </div>\n                            </div>\n                          );\n                        });\n                      })()}\n                    </div>\n                  )}\n\n\n                  {/* Monthly Trend */}\n                  {summary.monthlyTrend && summary.monthlyTrend.length > 0 && (\n                    <div className=\"trend-section\">\n                      <div className=\"section-header\">\n                        <h4>📊 Xu hướng theo tháng (6 tháng gần nhất)</h4>\n                        <button \n                          className=\"export-excel-btn\"\n                          onClick={() => exportMonthlyKPIExcel(summary.monthlyTrend)}\n                          title=\"Xuất báo cáo Excel\"\n                        >\n                          📊 Xuất Excel\n                        </button>\n                      </div>\n                      <div className=\"trend-chart monthly-trend\">\n                        {summary.monthlyTrend.map((month, index) => (\n                          <div key={index} className=\"trend-item monthly\">\n                            <div className=\"trend-header\">\n                              <span className=\"trend-label\">{month.month}</span>\n                            </div>\n                            <div className=\"trend-stats\">\n                              <div className=\"trend-stat\">\n                                <span className=\"stat-label\">Đánh giá:</span>\n                                <span className=\"stat-value\">{month.evaluations}</span>\n                              </div>\n                              <div className=\"trend-stat\">\n                                <span className=\"stat-label\">Điểm TB:</span>\n                                <span className=\"stat-value score\">{month.averageScore}/100</span>\n                              </div>\n                            </div>\n                            <div className=\"trend-bar\">\n                              <div \n                                className=\"trend-fill\"\n                                style={{ \n                                  width: `${month.averageScore}%`,\n                                  backgroundColor: month.averageScore >= 80 ? '#28a745' : \n                                                 month.averageScore >= 70 ? '#ffc107' : '#dc3545'\n                                }}\n                              ></div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {summary.totalEvaluations === 0 && (\n                    <div className=\"no-data\">\n                      <p>Chưa có dữ liệu đánh giá trong khoảng thời gian này</p>\n                    </div>\n                  )}\n                  \n                  {/* Weekly Summary Section - Moved to bottom */}\n                  <div style={{ marginTop: '30px', padding: '15px', background: 'linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)', borderRadius: '8px', border: '1px solid #ffc107' }}>\n                    <h4 style={{ margin: '0 0 15px 0', color: '#856404', display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      📊 Báo cáo tổng hợp tuần trong tháng\n                    </h4>\n                    \n                    {/* Filters */}\n                    <div style={{ display: 'flex', gap: '15px', marginBottom: '15px', flexWrap: 'wrap' }}>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <label style={{ color: '#856404', fontWeight: '600' }}>📅 Tuần:</label>\n                        <select \n                          value={weeklyTimeFilter} \n                          onChange={(e) => setWeeklyTimeFilter(e.target.value)}\n                          style={{ \n                            padding: '6px 10px', \n                            borderRadius: '6px', \n                            border: '1px solid #ffc107',\n                            backgroundColor: 'white',\n                            color: '#495057'\n                          }}\n                        >\n                          <option value=\"all\">Tất cả tuần</option>\n                          <option value=\"current\">Tuần hiện tại</option>\n                          <option value=\"week1\">Tuần 1</option>\n                          <option value=\"week2\">Tuần 2</option>\n                          <option value=\"week3\">Tuần 3</option>\n                          <option value=\"week4\">Tuần 4</option>\n                          <option value=\"week5\">Tuần 5</option>\n                        </select>\n                      </div>\n                      \n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <label style={{ color: '#856404', fontWeight: '600' }}>🏢 Bộ phận:</label>\n                        <select \n                          value={weeklyDepartmentFilter} \n                          onChange={(e) => setWeeklyDepartmentFilter(e.target.value)}\n                          style={{ \n                            padding: '6px 10px', \n                            borderRadius: '6px', \n                            border: '1px solid #ffc107',\n                            backgroundColor: 'white',\n                            color: '#495057'\n                          }}\n                        >\n                          <option value=\"all\">Tất cả bộ phận</option>\n                          {Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => (\n                            <option key={dept} value={dept}>{dept}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    \n                    {(() => {\n                      const weeklySummaries = getFilteredWeeklySummaries();\n                      if (weeklySummaries.length === 0) {\n                        return <p style={{ margin: 0, color: '#856404' }}>📭 Chưa có đánh giá nào phù hợp với bộ lọc</p>;\n                      }\n                      \n                      return (\n                        <div>\n                          <p style={{ margin: '0 0 10px 0', color: '#856404' }}>\n                            📈 Tổng hợp từ {weeklySummaries.reduce((sum, s) => sum + s.totalDailyEvaluations, 0)} đánh giá hàng ngày của {weeklySummaries.length} nhân viên\n                          </p>\n                          <div style={{ \n                            background: 'white', \n                            borderRadius: '8px', \n                            border: '1px solid #dee2e6',\n                            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n                            overflow: 'hidden'\n                          }}>\n                            {/* Header Row */}\n                            <div style={{ \n                              display: 'grid', \n                              gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr', \n                              gap: '1px',\n                              background: '#f8f9fa',\n                              borderBottom: '2px solid #dee2e6'\n                            }}>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>👤 Nhân viên</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📅 Tuần</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>🏢 Bộ phận</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📅 Từ</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📅 Đến</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📊 Số đánh giá</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>⚡ Hiệu quả</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>⚖️ Kỷ luật</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>🧡 Thái độ</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>🎯 Tổng điểm</div>\n                              <div style={{ padding: '12px', fontWeight: '600', color: '#495057', textAlign: 'center' }}>📊 Xếp loại</div>\n                            </div>\n                            \n                            {/* Data Rows */}\n                            {weeklySummaries.map((summary, index) => (\n                              <React.Fragment key={index}>\n                                <div style={{ \n                                  display: 'grid', \n                                  gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr', \n                                  gap: '1px',\n                                  borderBottom: index < weeklySummaries.length - 1 ? '1px solid #dee2e6' : 'none',\n                                  background: index % 2 === 0 ? 'white' : '#f8f9fa',\n                                  cursor: 'pointer',\n                                  transition: 'all 0.3s ease'\n                                }}\n                                onClick={() => toggleUserDetails(summary.userId)}\n                                onMouseEnter={(e) => {\n                                  e.currentTarget.style.background = '#e3f2fd';\n                                }}\n                                onMouseLeave={(e) => {\n                                  e.currentTarget.style.background = index % 2 === 0 ? 'white' : '#f8f9fa';\n                                }}\n                                >\n                                  <div style={{ padding: '12px', textAlign: 'left', fontWeight: '500', color: '#333' }}>\n                                    👤 {summary.userName}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    Tuần {summary.weekNumber}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    {summary.department}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    {summary.weekNumber === 1 ? '01/10/2025' : new Date(summary.weekStart).toLocaleDateString('vi-VN')}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#495057' }}>\n                                    {summary.weekNumber === 1 ? '05/10/2025' : new Date(summary.weekEnd).toLocaleDateString('vi-VN')}\n                                  </div>\n                                  <div style={{ \n                                    padding: '12px', \n                                    textAlign: 'center', \n                                    color: '#1976d2', \n                                    fontWeight: '500',\n                                    cursor: 'pointer',\n                                    transition: 'all 0.2s ease'\n                                  }}\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    toggleUserDetails(summary.userId);\n                                  }}\n                                  onMouseEnter={(e) => {\n                                    e.target.style.background = '#e3f2fd';\n                                    e.target.style.borderRadius = '4px';\n                                  }}\n                                  onMouseLeave={(e) => {\n                                    e.target.style.background = 'transparent';\n                                  }}\n                                  title=\"Click để xem chi tiết đánh giá\"\n                                  >\n                                    {summary.totalDailyEvaluations}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#2e7d32', fontWeight: '500' }}>\n                                    {summary.averageScores.performance}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#ef6c00', fontWeight: '500' }}>\n                                    {summary.averageScores.discipline}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#c2185b', fontWeight: '500' }}>\n                                    {summary.averageScores.attitude}\n                                  </div>\n                                  <div style={{ padding: '12px', textAlign: 'center', color: '#6f42c1', fontWeight: '600' }}>\n                                    {summary.averageTotalScore}\n                                  </div>\n                                  <div style={{ \n                                    padding: '12px', \n                                    textAlign: 'center', \n                                    fontWeight: '600',\n                                    background: summary.weeklyLevel === 'Xuất sắc' ? '#e8f5e8' : \n                                               summary.weeklyLevel === 'Tốt' ? '#e3f2fd' : \n                                               summary.weeklyLevel === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                                    color: summary.weeklyLevel === 'Xuất sắc' ? '#2e7d32' : \n                                           summary.weeklyLevel === 'Tốt' ? '#1976d2' : \n                                           summary.weeklyLevel === 'Trung bình' ? '#f57c00' : '#d32f2f',\n                                    borderRadius: '4px',\n                                    margin: '4px'\n                                  }}>\n                                    {summary.weeklyLevel}\n                                  </div>\n                                </div>\n                                \n                                {/* Expanded Details Section */}\n                                {expandedUser === summary.userId && (\n                                  <div style={{ \n                                    gridColumn: '1 / -1', // Span across all columns\n                                    marginTop: '0',\n                                    padding: '15px', \n                                    background: '#f8f9fa', \n                                    borderRadius: '0 0 8px 8px', \n                                    border: '1px solid #dee2e6',\n                                    borderTop: 'none'\n                                  }}>\n                                    <h5 style={{ \n                                      margin: '0 0 10px 0', \n                                      color: '#333', \n                                      display: 'flex', \n                                      alignItems: 'center', \n                                      gap: '8px' \n                                    }}>\n                                      📋 Chi tiết đánh giá hàng ngày\n                                    </h5>\n                                    \n                                    <div style={{ \n                                      display: 'grid', \n                                      gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n                                      gap: '10px' \n                                    }}>\n                                      {summary.dailyEvaluations.map((evaluation, evalIndex) => (\n                                        <div key={evalIndex} style={{ \n                                          background: 'white', \n                                          padding: '12px', \n                                          borderRadius: '6px', \n                                          border: '1px solid #e9ecef',\n                                          fontSize: '0.8rem'\n                                        }}>\n                                          <div style={{ \n                                            display: 'flex', \n                                            justifyContent: 'space-between', \n                                            alignItems: 'center', \n                                            marginBottom: '8px' \n                                          }}>\n                                            <span style={{ fontWeight: '600', color: '#333' }}>\n                                              📅 {new Date(evaluation.date).toLocaleDateString('vi-VN')}\n                                            </span>\n                                            <span style={{ \n                                              padding: '2px 8px', \n                                              borderRadius: '12px', \n                                              fontSize: '0.7rem',\n                                              fontWeight: '600',\n                                              background: evaluation.level === 'Xuất sắc' ? '#e8f5e8' : \n                                                         evaluation.level === 'Tốt' ? '#e3f2fd' : \n                                                         evaluation.level === 'Trung bình' ? '#fff3e0' : '#ffebee',\n                                              color: evaluation.level === 'Xuất sắc' ? '#2e7d32' : \n                                                     evaluation.level === 'Tốt' ? '#1976d2' : \n                                                     evaluation.level === 'Trung bình' ? '#f57c00' : '#d32f2f'\n                                            }}>\n                                              {evaluation.level}\n                                            </span>\n                                          </div>\n                                          \n                                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '5px' }}>\n                                            <div style={{ color: '#666' }}>\n                                              ⚡ Hiệu quả: <strong>{evaluation.scores.performance}</strong>\n                                            </div>\n                                            <div style={{ color: '#666' }}>\n                                              ⚖️ Kỷ luật: <strong>{evaluation.scores.discipline}</strong>\n                                            </div>\n                                            <div style={{ color: '#666' }}>\n                                              🤝 Thái độ: <strong>{evaluation.scores.attitude}</strong>\n                                            </div>\n                                            <div style={{ color: '#333', fontWeight: '600' }}>\n                                              🎯 Tổng: <strong>{evaluation.totalScore}</strong>\n                                            </div>\n                                          </div>\n                                        </div>\n                                      ))}\n                                    </div>\n                                    \n                                    <div style={{ \n                                      marginTop: '10px', \n                                      padding: '8px', \n                                      background: '#e3f2fd', \n                                      borderRadius: '4px', \n                                      fontSize: '0.8rem', \n                                      color: '#1976d2',\n                                      textAlign: 'center'\n                                    }}>\n                                      📊 Tổng cộng: {summary.totalDailyEvaluations} đánh giá | Điểm TB: {summary.averageTotalScore} | Xếp loại: {summary.weeklyLevel}\n                                    </div>\n                                  </div>\n                                )}\n                              </React.Fragment>\n                            ))}\n                          </div>\n                        </div>\n                      );\n                    })()}\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n        ) : viewMode === 'history' ? (\n          <div className=\"evaluation-history\">\n            <div className=\"history-header\">\n            <h3>📊 Lịch sử đánh giá KPI</h3>\n              \n              {/* Filter Controls */}\n              <div className=\"history-filters\" style={{ \n                display: 'flex', \n                gap: '15px', \n                marginBottom: '20px', \n                flexWrap: 'wrap',\n                alignItems: 'center'\n              }}>\n                <div className=\"filter-group\">\n                  <label style={{ fontSize: '0.9rem', fontWeight: '600', color: '#333', marginRight: '8px' }}>\n                    📅 Thời gian:\n                  </label>\n                  <select \n                    value={historyTimeFilter}\n                    onChange={(e) => setHistoryTimeFilter(e.target.value)}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #ddd',\n                      fontSize: '0.9rem',\n                      background: 'white'\n                    }}\n                  >\n                    <option value=\"all\">Tất cả</option>\n                    <option value=\"today\">Hôm nay</option>\n                    <option value=\"week\">7 ngày qua</option>\n                    <option value=\"month\">Tháng này</option>\n                    <option value=\"quarter\">Quý này</option>\n                    <option value=\"year\">Năm này</option>\n                  </select>\n                </div>\n                \n                <div className=\"filter-group\">\n                  <label style={{ fontSize: '0.9rem', fontWeight: '600', color: '#333', marginRight: '8px' }}>\n                    🏢 Bộ phận:\n                  </label>\n                  <select \n                    value={historyDepartmentFilter}\n                    onChange={(e) => setHistoryDepartmentFilter(e.target.value)}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #ddd',\n                      fontSize: '0.9rem',\n                      background: 'white'\n                    }}\n                  >\n                    <option value=\"all\">Tất cả</option>\n                    {getHistoryDepartments().map(dept => (\n                      <option key={dept} value={dept}>{dept}</option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div className=\"filter-group\">\n                  <label style={{ fontSize: '0.9rem', fontWeight: '600', color: '#333', marginRight: '8px' }}>\n                    📅 Ngày cụ thể:\n                  </label>\n                  <input \n                    type=\"date\"\n                    value={historyDateFilter}\n                    onChange={(e) => {\n                      setHistoryDateFilter(e.target.value);\n                      if (e.target.value) {\n                        setHistoryTimeFilter('all'); // Reset time filter when date is selected\n                      }\n                    }}\n                    style={{\n                      padding: '8px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #ddd',\n                      fontSize: '0.9rem',\n                      background: 'white'\n                    }}\n                  />\n                  {historyDateFilter && (\n                    <button \n                      onClick={() => setHistoryDateFilter('')}\n                      style={{\n                        marginLeft: '8px',\n                        padding: '4px 8px',\n                        borderRadius: '4px',\n                        border: '1px solid #dc3545',\n                        background: '#dc3545',\n                        color: 'white',\n                        fontSize: '0.8rem',\n                        cursor: 'pointer'\n                      }}\n                    >\n                      ✕ Xóa\n                    </button>\n                  )}\n                </div>\n                \n                <div style={{ \n                  padding: '8px 12px', \n                  background: '#f8f9fa', \n                  borderRadius: '6px', \n                  fontSize: '0.9rem',\n                  color: '#666',\n                  border: '1px solid #e9ecef'\n                }}>\n                  📊 Hiển thị: {getFilteredHistory().length} / {evaluationHistory.length} đánh giá\n                  {currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý' && (\n                    <span style={{ color: '#28a745', fontWeight: 'bold' }}> (Bộ phận: {currentUser?.department})</span>\n                  )}\n                </div>\n              </div>\n            </div>\n            \n            {evaluationHistory.length === 0 ? (\n              <div className=\"no-history\">\n                <p>Chưa có đánh giá nào được lưu</p>\n              </div>\n            ) : getFilteredHistory().length === 0 ? (\n              <div className=\"no-history\">\n                <p>Không có đánh giá nào phù hợp với bộ lọc đã chọn</p>\n              </div>\n            ) : (\n              <div className=\"history-table-container\">\n                <div className=\"history-table\">\n                  <div className=\"table-header\">\n                    <div>👤 Nhân viên</div>\n                    <div>🏢 Bộ phận</div>\n                    <div>📅 Ngày đánh giá</div>\n                    <div>📊 Hiệu quả</div>\n                    <div>⚖️ Kỷ luật</div>\n                    <div>🤝 Thái độ</div>\n                    <div>🎯 Tổng điểm</div>\n                    <div>🏆 Xếp loại</div>\n                    <div>👨‍💼 Người đánh giá</div>\n                    {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                      <div>⚙️ Thao tác</div>\n                    )}\n                  </div>\n                  \n                  {getFilteredHistory().map(evaluation => (\n                    <div key={evaluation.id} className=\"table-row\">\n                      <div className=\"user-info\">\n                        <div className=\"user-name\">{evaluation.userName}</div>\n                      </div>\n                      <div className=\"department\">{evaluation.department}</div>\n                      <div className=\"date\">{new Date(evaluation.date).toLocaleDateString('vi-VN')}</div>\n                      <div className=\"score performance\" style={{ color: '#28a745' }}>\n                        {evaluation.scores.performance}\n                      </div>\n                      <div className=\"score discipline\" style={{ color: '#ffc107' }}>\n                        {evaluation.scores.discipline}\n                      </div>\n                      <div className=\"score attitude\" style={{ color: '#dc3545' }}>\n                        {evaluation.scores.attitude}\n                      </div>\n                      <div className=\"total-score\" style={{ color: '#6f42c1', fontWeight: 'bold' }}>\n                        {evaluation.totalScore}\n                      </div>\n                      <div \n                        className=\"level\"\n                        style={{ \n                          color: getScoreLevel(evaluation.totalScore).color,\n                          fontWeight: '600'\n                        }}\n                      >\n                        {evaluation.level}\n                      </div>\n                      <div className=\"evaluator\">\n                        <div className=\"evaluator-name\">\n                          {evaluation.evaluatedBy || 'Chưa xác định'}\n                        </div>\n                        <div className=\"evaluator-role\">\n                          {evaluation.evaluatorRole || 'Chưa xác định'}\n                        </div>\n                      </div>\n                      {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                        <div className=\"actions\">\n                          <button \n                            className=\"delete-btn\"\n                            onClick={() => handleDeleteEvaluation(evaluation.id)}\n                            title=\"Xóa đánh giá\"\n                            style={{\n                              padding: '6px 12px',\n                              borderRadius: '4px',\n                              border: '1px solid #dc3545',\n                              background: '#dc3545',\n                              color: 'white',\n                              fontSize: '0.8rem',\n                              cursor: 'pointer',\n                              transition: 'all 0.2s ease'\n                            }}\n                            onMouseOver={(e) => {\n                              e.target.style.background = '#c82333';\n                              e.target.style.borderColor = '#c82333';\n                            }}\n                            onMouseOut={(e) => {\n                              e.target.style.background = '#dc3545';\n                              e.target.style.borderColor = '#dc3545';\n                            }}\n                          >\n                            🗑️ Xóa\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n         ) : viewMode === 'all-evaluations' ? (\n          <div className=\"all-evaluations\">\n            <div className=\"all-evaluations-header\">\n              <div className=\"section-header\">\n                <h3>👥 Tất cả đánh giá KPI trong hệ thống</h3>\n                <div style={{ display: 'flex', gap: '10px' }}>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={exportAllEvaluationsExcel}\n                    title=\"Xuất danh sách đánh giá theo filter hiện tại\"\n                  >\n                    📄 Xuất theo filter\n                  </button>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={exportAllEvaluationsExcelUnfiltered}\n                    title=\"Xuất tất cả đánh giá không bị filter\"\n                    style={{ background: 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)' }}\n                  >\n                    📋 Xuất tất cả\n                  </button>\n                  <button \n                    className=\"export-excel-btn\"\n                    onClick={() => {\n                      const weeklySummaries = getFilteredWeeklySummaries();\n                      if (weeklySummaries.length > 0) {\n                        const filterSuffix = weeklyTimeFilter !== 'all' || weeklyDepartmentFilter !== 'all' \n                          ? `_${weeklyTimeFilter}_${weeklyDepartmentFilter}` \n                          : '';\n                        exportWeeklySummariesToCSV(weeklySummaries, `Bao_cao_tong_hop_tuan${filterSuffix}`);\n                      } else {\n                        alert('📭 Chưa có đánh giá nào phù hợp với bộ lọc để tổng hợp');\n                      }\n                    }}\n                    title=\"Xuất báo cáo tổng hợp tuần theo bộ lọc\"\n                    style={{ background: 'linear-gradient(135deg, #fd7e14 0%, #e8590c 100%)' }}\n                  >\n                    📊 Tổng hợp tuần\n                  </button>\n                </div>\n              </div>\n              <div className=\"evaluations-stats\">\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">{allEvaluations.length}</span>\n                  <span className=\"stat-label\">Tổng đánh giá</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Xuất sắc').length}\n                  </span>\n                  <span className=\"stat-label\">Xuất sắc</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Tốt').length}\n                  </span>\n                  <span className=\"stat-label\">Tốt</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Trung bình').length}\n                  </span>\n                  <span className=\"stat-label\">Trung bình</span>\n                </div>\n                <div className=\"stat-item\">\n                  <span className=\"stat-number\">\n                    {allEvaluations.filter(e => e.level === 'Cần cải thiện').length}\n                  </span>\n                  <span className=\"stat-label\">Cần cải thiện</span>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"evaluations-filters\">\n              <div className=\"filter-group\">\n                <label>🏢 Bộ phận:</label>\n                <select \n                  value={selectedDepartment} \n                  onChange={(e) => setSelectedDepartment(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"all\">Tất cả bộ phận</option>\n                  {Array.from(new Set(allEvaluations.map(e => e.department))).map(dept => (\n                    <option key={dept} value={dept}>{dept}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"filter-group\">\n                <label>📅 Khoảng thời gian:</label>\n                <select \n                  value={summaryPeriod} \n                  onChange={(e) => setSummaryPeriod(e.target.value)}\n                  className=\"filter-select\"\n                >\n                  <option value=\"week\">Tuần này</option>\n                  <option value=\"month\">Tháng này</option>\n                  <option value=\"quarter\">Quý này</option>\n                  <option value=\"year\">Năm này</option>\n                  <option value=\"all\">Tất cả</option>\n                </select>\n              </div>\n            </div>\n\n            <div className=\"evaluations-table\">\n              <div className=\"table-header\">\n                <div>👤 Nhân viên</div>\n                <div>🏢 Bộ phận</div>\n                <div>📅 Ngày đánh giá</div>\n                <div>📊 Hiệu quả</div>\n                <div>⚖️ Kỷ luật</div>\n                <div>🤝 Thái độ</div>\n                <div>🎯 Tổng điểm</div>\n                <div>🏆 Xếp loại</div>\n                <div>👨‍💼 Người đánh giá</div>\n                {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                  <div>⚙️ Thao tác</div>\n                )}\n              </div>\n              \n              <div className=\"filter-info\" style={{ marginBottom: '15px', padding: '10px', background: '#f8f9fa', borderRadius: '8px', fontSize: '0.9rem' }}>\n                📊 Hiển thị: {allEvaluations.filter(evaluation => {\n                  // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n                  if (currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý') {\n                    if (evaluation.evaluatedBy !== currentUser.fullName) {\n                      return false;\n                    }\n                  }\n                  \n                  if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                    return false;\n                  }\n                  const evalDate = new Date(evaluation.date);\n                  const today = new Date();\n                  let startDate;\n                  \n                  switch (summaryPeriod) {\n                    case 'week':\n                      // Current week: from Monday to Sunday\n                      startDate = new Date(today);\n                      startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                      const endDate = new Date(today);\n                      endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                      return evalDate >= startDate && evalDate <= endDate;\n                    case 'month':\n                      startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                      break;\n                    case 'quarter':\n                      const quarter = Math.floor(today.getMonth() / 3);\n                      startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                      break;\n                    case 'year':\n                      startDate = new Date(today.getFullYear(), 0, 1);\n                      break;\n                    default:\n                      return true;\n                  }\n                  return evalDate >= startDate && evalDate <= today;\n                }).length} / {allEvaluations.length} đánh giá\n                {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                  <span style={{ color: '#28a745', fontWeight: 'bold' }}> (Quản lý xem tất cả)</span>\n                )}\n              </div>\n              \n              \n              \n              {(() => {\n                const filteredEvaluations = allEvaluations\n                  .filter(evaluation => {\n                    // Quản lý xem tất cả đánh giá, các cấp khác chỉ xem đánh giá của mình\n                    if (currentUser?.role !== 'admin' && currentUser?.position !== 'Quản lý') {\n                      if (evaluation.evaluatedBy !== currentUser.fullName) {\n                        return false;\n                      }\n                    }\n                    \n                    // Filter by department\n                    if (selectedDepartment !== 'all' && evaluation.department !== selectedDepartment) {\n                      return false;\n                    }\n                    \n                    // Filter by time period\n                    const evalDate = new Date(evaluation.date);\n                    const today = new Date();\n                    let startDate;\n                    \n                    switch (summaryPeriod) {\n                      case 'week':\n                        // Current week: from Monday to Sunday\n                        startDate = new Date(today);\n                        startDate.setDate(today.getDate() - today.getDay() + 1); // Monday\n                        const endDate = new Date(today);\n                        endDate.setDate(today.getDate() - today.getDay() + 7); // Sunday\n                        return evalDate >= startDate && evalDate <= endDate;\n                      case 'month':\n                        startDate = new Date(today.getFullYear(), today.getMonth(), 1);\n                        break;\n                      case 'quarter':\n                        const quarter = Math.floor(today.getMonth() / 3);\n                        startDate = new Date(today.getFullYear(), quarter * 3, 1);\n                        break;\n                      case 'year':\n                        startDate = new Date(today.getFullYear(), 0, 1);\n                        return evalDate >= startDate && evalDate <= today;\n                      case 'all':\n                        // Show all evaluations\n                        return true;\n                      default:\n                        // Show all evaluations when no specific period is selected\n                        return true;\n                    }\n                  })\n                  .sort((a, b) => new Date(b.date) - new Date(a.date));\n                \n                // Debug log\n                console.log('Total evaluations:', allEvaluations.length);\n                console.log('Filtered evaluations:', filteredEvaluations.length);\n                console.log('Selected department:', selectedDepartment);\n                console.log('Summary period:', summaryPeriod);\n                \n                return filteredEvaluations.map(evaluation => (\n                  <div key={evaluation.id} className=\"evaluation-row\">\n                    <div className=\"user-info\">\n                      <div className=\"user-name\">{evaluation.userName}</div>\n                    </div>\n                    <div className=\"department\">{evaluation.department}</div>\n                    <div className=\"date\">\n                      {new Date(evaluation.date).toLocaleDateString('vi-VN')}\n                    </div>\n                    <div className=\"score performance\">\n                      {evaluation.scores.performance}/100\n                    </div>\n                    <div className=\"score discipline\">\n                      {evaluation.scores.discipline}/100\n                    </div>\n                    <div className=\"score attitude\">\n                      {evaluation.scores.attitude}/100\n                    </div>\n                    <div className=\"total-score\">\n                      <strong>{evaluation.totalScore}/100</strong>\n                    </div>\n                    <div className=\"level\">\n                      <span \n                        className=\"level-badge\"\n                        style={{ \n                          backgroundColor: evaluation.level === 'Xuất sắc' ? '#28a745' :\n                                         evaluation.level === 'Tốt' ? '#17a2b8' :\n                                         evaluation.level === 'Trung bình' ? '#ffc107' :\n                                         '#dc3545'\n                        }}\n                      >\n                        {evaluation.level}\n                      </span>\n                    </div>\n                    <div className=\"evaluator\">\n                      <div className=\"evaluator-name\">\n                        {evaluation.evaluatedBy || 'Chưa xác định'}\n                      </div>\n                      <div className=\"evaluator-role\">\n                        {evaluation.evaluatorRole || 'Chưa xác định'}\n                      </div>\n                    </div>\n                    {(currentUser?.role === 'admin' || currentUser?.position === 'Quản lý') && (\n                      <div className=\"actions\">\n                        <button \n                          className=\"delete-btn\"\n                          onClick={() => handleDeleteEvaluation(evaluation.id)}\n                          title=\"Xóa đánh giá\"\n                          style={{\n                            padding: '6px 12px',\n                            borderRadius: '4px',\n                            border: '1px solid #dc3545',\n                            background: '#dc3545',\n                            color: 'white',\n                            fontSize: '0.8rem',\n                            cursor: 'pointer',\n                            transition: 'all 0.2s ease'\n                          }}\n                          onMouseOver={(e) => {\n                            e.target.style.background = '#c82333';\n                            e.target.style.borderColor = '#c82333';\n                          }}\n                          onMouseOut={(e) => {\n                            e.target.style.background = '#dc3545';\n                            e.target.style.borderColor = '#dc3545';\n                          }}\n                        >\n                          🗑️ Xóa\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ));\n              })()}\n            </div>\n\n            {allEvaluations.length === 0 && (\n              <div className=\"no-evaluations\">\n                <p>📭 Chưa có đánh giá KPI nào trong hệ thống</p>\n              </div>\n            )}\n          </div>\n        ) : !isEvaluating ? (\n          <div className=\"user-selection\">\n            <h3>👥 Chọn nhân viên để đánh giá</h3>\n            \n            {/* Thông tin quyền đánh giá */}\n            <div className=\"evaluation-permission-info\">\n              {currentUser?.role === 'admin' || currentUser?.position === 'Quản lý' ? (\n                <p>📋 <strong>Quản lý</strong> đánh giá <strong>Tổ trưởng</strong></p>\n              ) : currentUser?.position === 'Tổ trưởng' ? (\n                <p>📋 <strong>Tổ trưởng</strong> đánh giá <strong>Tổ phó</strong> và <strong>Nhân viên</strong> trong bộ phận <strong>{currentUser.department}</strong></p>\n              ) : currentUser?.position === 'Tổ phó' ? (\n                <p>📋 <strong>Tổ phó</strong> đánh giá <strong>Nhân viên</strong> trong bộ phận <strong>{currentUser.department}</strong></p>\n              ) : (\n                <p>❌ Bạn không có quyền đánh giá KPI</p>\n              )}\n            </div>\n            \n            {/* Department Tabs */}\n            {departments.length > 0 && (\n              <div className=\"department-tabs\">\n                <button \n                  className={`dept-tab ${selectedDepartment === 'all' ? 'active' : ''}`}\n                  onClick={() => setSelectedDepartment('all')}\n                >\n                  🏢 Tất cả bộ phận\n                </button>\n                {departments.map(dept => (\n                  <button \n                    key={dept}\n                    className={`dept-tab ${selectedDepartment === dept ? 'active' : ''}`}\n                    onClick={() => setSelectedDepartment(dept)}\n                  >\n                    🏢 {dept}\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* User Grid */}\n            <div className=\"user-grid\">\n              {filteredUsers.length === 0 ? (\n                <div className=\"no-users\">\n                  <p>Không có nhân viên nào trong bộ phận này</p>\n                </div>\n              ) : (\n                filteredUsers.map(user => {\n                  // Kiểm tra xem người này đã được đánh giá trong ngày hôm nay chưa\n                  const today = new Date().toISOString().split('T')[0];\n                  const alreadyEvaluatedToday = allEvaluations.some(evaluation => \n                    evaluation.userId === user.id && \n                    evaluation.date === today &&\n                    evaluation.evaluatedBy === currentUser.fullName\n                  );\n                  \n                  return (\n                    <div key={user.id} className=\"user-card\">\n                      <div className=\"user-info\">\n                        <h4>{user.fullName}</h4>\n                        <p>{user.department} - {user.position}</p>\n                        {alreadyEvaluatedToday && (\n                          <div className=\"evaluation-status\">\n                            <span className=\"status-badge evaluated\">✅ Đã đánh giá hôm nay</span>\n                          </div>\n                        )}\n                      </div>\n                      <button \n                        onClick={() => handleStartEvaluation(user)}\n                        className={`evaluate-btn ${alreadyEvaluatedToday ? 'disabled' : ''}`}\n                        disabled={alreadyEvaluatedToday}\n                        title={alreadyEvaluatedToday ? 'Bạn đã đánh giá người này trong ngày hôm nay' : 'Bấm để đánh giá KPI'}\n                      >\n                        {alreadyEvaluatedToday ? '✅ Đã đánh giá' : '📝 Đánh giá KPI'}\n                      </button>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n          </div>\n        ) : (\n          <div className=\"evaluation-form\">\n            <div className=\"evaluation-header\">\n              <h3>📝 Đánh giá KPI cho: {selectedUser.fullName}</h3>\n              <div className=\"evaluation-date-display\">\n                <span>📅 Ngày: {evaluationDate}</span>\n              </div>\n              <div className=\"evaluation-weights\">\n                <span>Thang điểm: 0-100 điểm cho mỗi tiêu chí</span>\n              </div>\n            </div>\n\n            <div className=\"criteria-list\">\n              {criteria.map(criterion => (\n                <div key={criterion.name} className=\"criterion-card\">\n                  <div className=\"criterion-header\">\n                    <h4>{criterion.title} ({criterion.weight}%)</h4>\n                    <p>{criterion.description}</p>\n                  </div>\n                  \n                  <div className=\"evaluation-inputs\">\n                    <div className=\"evaluator-group\">\n                      <label>Điểm đánh giá: {evaluationData[criterion.name]}/100</label>\n                      <input\n                        type=\"range\"\n                        min=\"0\"\n                        max=\"100\"\n                        value={evaluationData[criterion.name]}\n                        onChange={(e) => handleScoreChange(criterion.name, e.target.value)}\n                        className=\"score-slider\"\n                      />\n                      <div className=\"slider-labels\">\n                        <span>0</span>\n                        <span>25</span>\n                        <span>50</span>\n                        <span>75</span>\n                        <span>100</span>\n                    </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"evaluation-summary\">\n              <div className=\"total-score\">\n                <h3>Điểm tổng KPI: {calculateTotalScore()}/100</h3>\n                <div \n                  className=\"score-level\"\n                  style={{ color: getScoreLevel(calculateTotalScore()).color }}\n                >\n                  {getScoreLevel(calculateTotalScore()).level}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"evaluation-actions\">\n              <button onClick={handleSaveEvaluation} className=\"save-evaluation-btn\">\n                💾 Lưu đánh giá\n              </button>\n              <button \n                onClick={() => setIsEvaluating(false)} \n                className=\"cancel-evaluation-btn\"\n              >\n                ❌ Hủy\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Job Management Component\n  const JobManagement = ({ jobs, onUpdateJobs, currentUser }) => {\n    const [newJob, setNewJob] = useState({\n      deliveryDate: '',\n      department: currentUser?.department || '',\n      description: '',\n      completionTime: '',\n      status: '',\n      jobType: 'management',\n      assignee: '',\n      assigner: currentUser?.fullName || '',\n      completionEvidence: [] // Array of uploaded files\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [filters, setFilters] = useState({\n      department: '',\n      status: '',\n      search: '',\n      timeRange: 'all' // all, week, month, quarter, year\n    });\n    const [uploadingFiles, setUploadingFiles] = useState({});\n    const [showEvidenceModal, setShowEvidenceModal] = useState(false);\n    const [selectedJob, setSelectedJob] = useState(null);\n\n    // Lọc jobs theo bộ phận của user (trừ admin)\n    const getFilteredJobsByDepartment = () => {\n      if (currentUser?.role === 'admin') {\n        return jobs; // Admin thấy tất cả\n      }\n      \n      // Tổ trưởng: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if (currentUser?.position === 'Tổ trưởng') {\n        return jobs.filter(job => \n          job.department === currentUser?.department && \n          (job.assignee === currentUser?.fullName || !job.assignee)\n        );\n      }\n      \n      // Tổ phó và nhân viên: chỉ thấy công việc được giao cho mình hoặc bộ phận mình\n      if (currentUser?.position === 'Tổ phó' || currentUser?.position === 'Nhân viên') {\n        return jobs.filter(job => \n          job.department === currentUser?.department && \n          (job.assignee === currentUser?.fullName || !job.assignee)\n        );\n      }\n      \n      return jobs;\n    };\n\n    const departments = [\n      'Kho Phôi', 'Sản Xuất', 'Đóng gói',\n      'Kho & Trải Cắt', 'Quản lý'\n    ];\n\n    const statusOptions = ['nhận việc', 'đang xử lý', 'chờ duyệt', 'thành công', 'thất bại'];\n\n    // Filter jobs based on current filters (sau khi đã lọc theo bộ phận)\n    const departmentFilteredJobs = getFilteredJobsByDepartment();\n    \n    // Filter by time range\n    const getTimeFilteredJobs = (jobs) => {\n      if (filters.timeRange === 'all') return jobs;\n      \n      const now = new Date();\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      \n      return jobs.filter(job => {\n        if (!job.deliveryDate) return false;\n        const jobDate = new Date(job.deliveryDate);\n        const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\n        \n        switch (filters.timeRange) {\n          case 'week':\n            const weekStart = new Date(today);\n            weekStart.setDate(today.getDate() - today.getDay());\n            const weekEnd = new Date(weekStart);\n            weekEnd.setDate(weekStart.getDate() + 6);\n            return jobDateOnly >= weekStart && jobDateOnly <= weekEnd;\n            \n          case 'month':\n            const monthStart = new Date(today.getFullYear(), today.getMonth(), 1);\n            const monthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0);\n            return jobDateOnly >= monthStart && jobDateOnly <= monthEnd;\n            \n          case 'quarter':\n            const quarter = Math.floor(today.getMonth() / 3);\n            const quarterStart = new Date(today.getFullYear(), quarter * 3, 1);\n            const quarterEnd = new Date(today.getFullYear(), quarter * 3 + 3, 0);\n            return jobDateOnly >= quarterStart && jobDateOnly <= quarterEnd;\n            \n          case 'year':\n            const yearStart = new Date(today.getFullYear(), 0, 1);\n            const yearEnd = new Date(today.getFullYear(), 11, 31);\n            return jobDateOnly >= yearStart && jobDateOnly <= yearEnd;\n            \n          default:\n            return true;\n        }\n      });\n    };\n    \n    const timeFilteredJobs = getTimeFilteredJobs(departmentFilteredJobs);\n    const filteredJobs = timeFilteredJobs.filter(job => {\n      const matchesDepartment = !filters.department || job.department === filters.department;\n      const matchesStatus = !filters.status || job.status === filters.status;\n      const matchesSearch = !filters.search || \n        job.description.toLowerCase().includes(filters.search.toLowerCase()) ||\n        job.department.toLowerCase().includes(filters.search.toLowerCase());\n      \n      return matchesDepartment && matchesStatus && matchesSearch;\n    });\n\n    const handleFilterChange = (filterType, value) => {\n    setFilters(prev => ({\n      ...prev,\n        [filterType]: value\n    }));\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      department: '',\n        status: '',\n      search: '',\n      timeRange: 'all'\n    });\n  };\n\n  // File upload functions\n  const handleFileUpload = async (jobId, files) => {\n    const job = jobs.find(j => j.id === jobId);\n    if (!job) {\n      console.error('❌ Không tìm thấy công việc với ID:', jobId);\n      alert('❌ Không tìm thấy công việc. Vui lòng thử lại.');\n      return;\n    }\n\n    if (!files || files.length === 0) {\n      console.error('❌ Không có file nào được chọn');\n      alert('❌ Vui lòng chọn file để upload.');\n      return;\n    }\n\n    setUploadingFiles(prev => ({ ...prev, [jobId]: true }));\n\n    try {\n      console.log(`📤 Bắt đầu upload ${files.length} file(s) cho công việc ${jobId}`);\n      \n      // Test server connection first\n      const serverOk = await testServerConnection();\n      if (!serverOk) {\n        throw new Error('Không thể kết nối đến server. Vui lòng kiểm tra server có đang chạy không.');\n      }\n      \n      // Validate file types and sizes\n      const maxFileSize = 50 * 1024 * 1024; // 50MB (phù hợp với server limit)\n      const allowedTypes = [\n        'image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/bmp',\n        'video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/flv', 'video/webm', 'video/mkv'\n      ];\n      \n      for (let file of files) {\n        if (file.size > maxFileSize) {\n          throw new Error(`File ${file.name} quá lớn (tối đa 50MB)`);\n        }\n        if (!allowedTypes.includes(file.type)) {\n          throw new Error(`File ${file.name} không được hỗ trợ. Chỉ chấp nhận hình ảnh và video.`);\n        }\n      }\n\n      // Convert files to base64 for storage\n      const filePromises = Array.from(files).map((file, index) => {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onload = () => {\n            console.log(`✅ Đã đọc file ${index + 1}/${files.length}: ${file.name}`);\n            resolve({\n              name: file.name,\n              type: file.type,\n              size: file.size,\n              data: reader.result,\n              uploadDate: new Date().toISOString()\n            });\n          };\n          reader.onerror = (error) => {\n            console.error(`❌ Lỗi đọc file ${file.name}:`, error);\n            reject(new Error(`Lỗi đọc file ${file.name}`));\n          };\n          reader.readAsDataURL(file);\n        });\n      });\n\n      const uploadedFiles = await Promise.all(filePromises);\n      console.log(`✅ Đã convert ${uploadedFiles.length} file(s) thành base64`);\n      \n      // Update job with new evidence\n      const updatedJobs = jobs.map(j => \n        j.id === jobId \n          ? { \n              ...j, \n              completionEvidence: [...(j.completionEvidence || []), ...uploadedFiles],\n              status: 'thành công' // Auto-complete when evidence is uploaded\n            }\n          : j\n      );\n      \n      console.log('💾 Đang lưu dữ liệu vào server...');\n      \n      // Save to server\n      const currentApiBase = window.API_BASE || API_BASE;\n      const response = await fetch(`${currentApiBase}/api/jobs`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ jobs: updatedJobs }),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('✅ Server response:', result);\n        onUpdateJobs(updatedJobs);\n        alert(`✅ Đã upload ${uploadedFiles.length} file(s) và cập nhật trạng thái thành \"thành công\"`);\n      } else {\n        const errorText = await response.text();\n        console.error('❌ Server error response:', response.status, errorText);\n        throw new Error(`Server trả về lỗi ${response.status}: ${errorText}`);\n      }\n      \n    } catch (error) {\n      console.error('❌ Lỗi upload file chi tiết:', error);\n      alert(`❌ Lỗi khi upload file: ${error.message || 'Vui lòng thử lại.'}`);\n    } finally {\n      setUploadingFiles(prev => ({ ...prev, [jobId]: false }));\n    }\n  };\n\n  const removeEvidence = async (jobId, evidenceIndex) => {\n    try {\n      const updatedJobs = jobs.map(job => \n        job.id === jobId \n          ? { \n              ...job, \n              completionEvidence: job.completionEvidence.filter((_, index) => index !== evidenceIndex)\n            }\n          : job\n      );\n      \n      // Save to server\n      const currentApiBase = window.API_BASE || API_BASE;\n      const response = await fetch(`${currentApiBase}/api/jobs`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ jobs: updatedJobs }),\n      });\n\n      if (response.ok) {\n        onUpdateJobs(updatedJobs);\n        alert('✅ Đã xóa bằng chứng thành công');\n      } else {\n        throw new Error('Lỗi khi lưu dữ liệu vào server');\n      }\n    } catch (error) {\n      console.error('❌ Lỗi xóa bằng chứng:', error);\n      alert('❌ Lỗi khi xóa bằng chứng. Vui lòng thử lại.');\n    }\n  };\n\n  const openEvidenceModal = (job) => {\n    setSelectedJob(job);\n    setShowEvidenceModal(true);\n  };\n\n\n    const handleAddJob = async () => {\n      if (!newJob.description || !newJob.deliveryDate || !newJob.assignee) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n\n      try {\n      const job = {\n        id: Date.now(),\n        ...newJob\n      };\n\n      const updatedJobs = [...jobs, job];\n        \n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ jobs: updatedJobs }),\n        });\n\n        if (response.ok) {\n      onUpdateJobs(updatedJobs);\n          alert('✅ Đã thêm công việc thành công');\n      \n      setNewJob({\n        deliveryDate: '',\n        department: currentUser?.department || '',\n        description: '',\n        completionTime: '',\n        status: '',\n            jobType: 'management',\n            assignee: '',\n            assigner: currentUser?.fullName || '',\n            completionEvidence: []\n      });\n      setIsAdding(false);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi thêm công việc:', error);\n        alert('❌ Lỗi khi thêm công việc. Vui lòng thử lại.');\n      }\n    };\n\n    const handleDeleteJob = async (id) => {\n      // Chỉ Admin mới được xóa công việc\n      if (currentUser?.role !== 'admin') {\n        alert('Chỉ Quản lý mới có quyền xóa công việc!');\n        return;\n      }\n      \n      if (confirm('Bạn có chắc muốn xóa công việc này?')) {\n        try {\n        const updatedJobs = jobs.filter(job => job.id !== id);\n          \n          // Save to server\n          const response = await fetch(`${API_BASE}/api/jobs`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ jobs: updatedJobs }),\n          });\n\n          if (response.ok) {\n        onUpdateJobs(updatedJobs);\n            alert('✅ Đã xóa công việc thành công');\n          } else {\n            throw new Error('Lỗi khi lưu dữ liệu vào server');\n          }\n        } catch (error) {\n          console.error('❌ Lỗi xóa công việc:', error);\n          alert('❌ Lỗi khi xóa công việc. Vui lòng thử lại.');\n        }\n      }\n    };\n\n    const handleUpdateJob = async (id, field, value) => {\n      const job = jobs.find(j => j.id === id);\n      \n      // Không cho phép chỉnh sửa công việc đã hoàn thành\n      if (job && job.status === 'thành công') {\n        alert('Không thể chỉnh sửa công việc đã hoàn thành!');\n        return;\n      }\n      \n      // Chỉ cho phép thay đổi trạng thái nếu không phải admin hoặc tổ trưởng\n      if (currentUser?.role !== 'admin' && currentUser?.position !== 'Tổ trưởng' && field !== 'status') {\n        alert('Bạn chỉ được phép thay đổi trạng thái công việc!');\n        return;\n      }\n      \n      try {\n      const updatedJobs = jobs.map(job => \n        job.id === id ? { ...job, [field]: value } : job\n      );\n        \n        // Save to server\n        const response = await fetch(`${API_BASE}/api/jobs`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ jobs: updatedJobs }),\n        });\n\n        if (response.ok) {\n      onUpdateJobs(updatedJobs);\n        } else {\n          throw new Error('Lỗi khi lưu dữ liệu vào server');\n        }\n      } catch (error) {\n        console.error('❌ Lỗi cập nhật công việc:', error);\n        alert('❌ Lỗi khi cập nhật công việc. Vui lòng thử lại.');\n      }\n    };\n\n    return (\n      <div className=\"job-management\">\n        <div className=\"job-header\">\n          <h2>📋 Quản lý công việc</h2>\n          <div className=\"header-actions\">\n            <button \n              onClick={testServerConnection}\n              className=\"test-connection-btn\"\n              title=\"Kiểm tra kết nối server\"\n            >\n              🔍 Test Server\n            </button>\n            <button className=\"check-overdue-btn\" onClick={checkAndUpdateOverdueJobs}>\n              ⚠️ Kiểm tra trễ hạn\n            </button>\n            {(currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') && (\n              <button \n                className=\"add-btn\"\n                onClick={() => setIsAdding(true)}\n              >\n                ➕ Thêm công việc\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Quick Time Filters */}\n        <div className=\"quick-actions\">\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'week' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'week')}\n          >\n            📅 Tuần này\n          </button>\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'month' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'month')}\n          >\n            📆 Tháng này\n          </button>\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'quarter' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'quarter')}\n          >\n            📊 Quý này\n          </button>\n          <button \n            className={`quick-action-btn ${filters.timeRange === 'all' ? 'active' : ''}`}\n            onClick={() => handleFilterChange('timeRange', 'all')}\n          >\n            🗓️ Tất cả\n          </button>\n        </div>\n\n        {/* Filter Section */}\n        <div className=\"filter-section\">\n          <div className=\"filter-row\">\n            <div className=\"filter-group\">\n              <label>🔍 Tìm kiếm:</label>\n              <input\n                type=\"text\"\n                placeholder=\"Nhập từ khóa...\"\n                value={filters.search}\n                onChange={(e) => handleFilterChange('search', e.target.value)}\n                className=\"filter-input\"\n              />\n            </div>\n            \n            <div className=\"filter-group\">\n              <label>🏢 Bộ phận:</label>\n              <select\n                value={filters.department}\n                onChange={(e) => handleFilterChange('department', e.target.value)}\n                className=\"filter-select\"\n              >\n                <option value=\"\">Tất cả bộ phận</option>\n                {departments.map(dept => (\n                  <option key={dept} value={dept}>{dept}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"filter-group\">\n              <label>📊 Trạng thái:</label>\n              <select\n                value={filters.status}\n                onChange={(e) => handleFilterChange('status', e.target.value)}\n                className=\"filter-select\"\n              >\n                <option value=\"\">Tất cả trạng thái</option>\n                {statusOptions.map(status => (\n                  <option key={status} value={status}>{status}</option>\n                ))}\n              </select>\n            </div>\n            \n            <div className=\"filter-group\">\n              <label>📅 Thời gian:</label>\n              <select\n                value={filters.timeRange}\n                onChange={(e) => handleFilterChange('timeRange', e.target.value)}\n                className=\"filter-select\"\n              >\n                <option value=\"all\">Tất cả thời gian</option>\n                <option value=\"week\">Tuần này</option>\n                <option value=\"month\">Tháng này</option>\n                <option value=\"quarter\">Quý này</option>\n                <option value=\"year\">Năm này</option>\n              </select>\n            </div>\n            \n            <div className=\"filter-actions\">\n              <button \n                onClick={clearFilters}\n                className=\"clear-filters-btn\"\n              >\n                🗑️ Xóa bộ lọc\n              </button>\n          <span className=\"filter-count\">\n            Hiển thị: {filteredJobs.length}/{timeFilteredJobs.length} công việc\n            {filters.timeRange !== 'all' && (\n              <span className=\"time-info\">\n                {filters.timeRange === 'week' && ' (Tuần này)'}\n                {filters.timeRange === 'month' && ' (Tháng này)'}\n                {filters.timeRange === 'quarter' && ' (Quý này)'}\n                {filters.timeRange === 'year' && ' (Năm này)'}\n              </span>\n            )}\n            {currentUser?.role !== 'admin' && (\n              <span className=\"department-info\"> (Bộ phận: {currentUser?.department})</span>\n            )}\n            {currentUser?.position === 'Tổ phó' || currentUser?.position === 'Nhân viên' ? (\n              <span className=\"permission-info\"> - Chỉ thấy công việc được giao cho mình</span>\n            ) : currentUser?.position === 'Tổ trưởng' ? (\n              <span className=\"permission-info\"> - Chỉ thấy công việc được giao cho mình</span>\n            ) : null}\n          </span>\n            </div>\n          </div>\n        </div>\n\n        {isAdding && (\n          <div className=\"add-job-form\">\n            <h3>Thêm công việc mới</h3>\n            <div className=\"form-row\">\n              <input\n                type=\"date\"\n                placeholder=\"Ngày giao việc\"\n                value={newJob.deliveryDate}\n                onChange={(e) => setNewJob({...newJob, deliveryDate: e.target.value})}\n              />\n              <select\n                value={newJob.department}\n                onChange={(e) => setNewJob({...newJob, department: e.target.value})}\n              >\n                <option value=\"\">Chọn bộ phận</option>\n                {departments.map(dept => (\n                  <option key={dept} value={dept}>{dept}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <input\n                type=\"text\"\n                placeholder=\"Mô tả công việc\"\n                value={newJob.description}\n                onChange={(e) => setNewJob({...newJob, description: e.target.value})}\n              />\n              <select\n                value={newJob.assignee}\n                onChange={(e) => setNewJob({...newJob, assignee: e.target.value})}\n                className=\"job-select\"\n              >\n                <option value=\"\">Chọn người nhận việc</option>\n                {users.filter(user => user.department === newJob.department).map(user => (\n                  <option key={user.id} value={user.fullName}>\n                    {user.fullName} ({user.position})\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <input\n                type=\"date\"\n                placeholder=\"Thời gian hoàn thành\"\n                value={newJob.completionTime}\n                onChange={(e) => setNewJob({...newJob, completionTime: e.target.value})}\n              />\n            </div>\n            <div className=\"form-row\">\n              <select\n                value={newJob.status}\n                onChange={(e) => setNewJob({...newJob, status: e.target.value})}\n              >\n                <option value=\"\">Chọn trạng thái</option>\n                {statusOptions.map(status => (\n                  <option key={status} value={status}>{status}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-actions\">\n              <button onClick={handleAddJob} className=\"save-btn\">\n                💾 Lưu\n              </button>\n              <button onClick={() => setIsAdding(false)} className=\"cancel-btn\">\n                ❌ Hủy\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"job-list\">\n          <div className=\"job-item header\">\n            <div>📅 Ngày giao</div>\n            <div>🏢 Bộ phận</div>\n            <div>📝 Mô tả</div>\n            <div>👤 Người giao</div>\n            <div>🎯 Người nhận</div>\n            <div>⏰ Thời gian</div>\n            <div>📊 Trạng thái</div>\n            <div>📎 Bằng chứng</div>\n            <div>⚙️ Thao tác</div>\n          </div>\n          {filteredJobs.map(job => {\n            const isCompleted = job.status === 'thành công';\n            const canDelete = currentUser?.role === 'admin';\n            const canEdit = currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng';\n            \n            return (\n              <div key={job.id} className={`job-item ${isCompleted ? 'completed' : ''}`}>\n                <div data-label=\"Ngày giao\">\n                  <input\n                    type=\"date\"\n                    value={job.deliveryDate}\n                    onChange={(e) => handleUpdateJob(job.id, 'deliveryDate', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                  />\n                </div>\n                <div data-label=\"Bộ phận\">\n                  <select\n                    value={job.department}\n                    onChange={(e) => handleUpdateJob(job.id, 'department', e.target.value)}\n                    className=\"job-select\"\n                    disabled={isCompleted || !canEdit}\n                  >\n                    {departments.map(dept => (\n                      <option key={dept} value={dept}>{dept}</option>\n                    ))}\n                  </select>\n                </div>\n                <div data-label=\"Mô tả\">\n                  <input\n                    type=\"text\"\n                    value={job.description}\n                    onChange={(e) => handleUpdateJob(job.id, 'description', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                  />\n                </div>\n                <div data-label=\"Người giao\">\n                  <input\n                    type=\"text\"\n                    value={job.assigner || ''}\n                    onChange={(e) => handleUpdateJob(job.id, 'assigner', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                    placeholder=\"Người giao việc\"\n                  />\n                </div>\n                <div data-label=\"Người nhận\">\n                  <select\n                    value={job.assignee || ''}\n                    onChange={(e) => handleUpdateJob(job.id, 'assignee', e.target.value)}\n                    className=\"job-select\"\n                    disabled={isCompleted || !canEdit}\n                  >\n                    <option value=\"\">Chọn người nhận việc</option>\n                    {users.filter(user => user.department === job.department).map(user => (\n                      <option key={user.id} value={user.fullName}>\n                        {user.fullName} ({user.position})\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div data-label=\"Thời gian\">\n                  <input\n                    type=\"date\"\n                    value={job.completionTime}\n                    onChange={(e) => handleUpdateJob(job.id, 'completionTime', e.target.value)}\n                    className=\"job-input\"\n                    disabled={isCompleted || !canEdit}\n                  />\n                </div>\n                <div data-label=\"Trạng thái\">\n                  <select\n                    value={job.status}\n                    onChange={(e) => handleUpdateJob(job.id, 'status', e.target.value)}\n                    className=\"job-select\"\n                    disabled={isCompleted}\n                  >\n                    <option value=\"\">Chọn trạng thái</option>\n                    {statusOptions.map(status => (\n                      <option key={status} value={status}>\n                        {status === 'nhận việc' ? '📋 Nhận việc' :\n                         status === 'đang xử lý' ? '⏳ Đang xử lý' :\n                         status === 'chờ duyệt' ? '⏸️ Chờ duyệt' :\n                         status === 'thành công' ? '✅ Thành công' :\n                         status === 'thất bại' ? '❌ Thất bại' : status}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                <div data-label=\"Bằng chứng\">\n                  <div className=\"evidence-section\">\n                    {job.completionEvidence && job.completionEvidence.length > 0 ? (\n                      <div className=\"evidence-preview\">\n                        <span className=\"evidence-count\">\n                          📎 {job.completionEvidence.length} file(s)\n                        </span>\n                        <button \n                          className=\"view-evidence-btn\"\n                          onClick={() => openEvidenceModal(job)}\n                          title=\"Xem bằng chứng\"\n                        >\n                          👁️\n                        </button>\n                      </div>\n                    ) : (\n                      <div className=\"upload-section\">\n                        <input\n                          type=\"file\"\n                          id={`upload-${job.id}`}\n                          multiple\n                          accept=\"image/*,video/*\"\n                          onChange={(e) => handleFileUpload(job.id, e.target.files)}\n                          className=\"file-input\"\n                          disabled={uploadingFiles[job.id]}\n                          title=\"Chọn hình ảnh hoặc video (tối đa 50MB mỗi file)\"\n                        />\n                        <label \n                          htmlFor={`upload-${job.id}`}\n                          className={`upload-btn ${uploadingFiles[job.id] ? 'uploading' : ''}`}\n                        >\n                          {uploadingFiles[job.id] ? '⏳ Uploading...' : '📤 Upload'}\n                        </label>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                <div data-label=\"Thao tác\">\n                  {canDelete ? (\n                    <button \n                      onClick={() => handleDeleteJob(job.id)}\n                      className=\"delete-btn\"\n                    >\n                      🗑️ Xóa\n                    </button>\n                  ) : (\n                    <span className=\"no-permission\">❌ Không có quyền</span>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n      </div>\n\n      {/* Evidence Modal */}\n      {showEvidenceModal && selectedJob && (\n        <div className=\"modal-overlay\" onClick={() => setShowEvidenceModal(false)}>\n          <div className=\"modal-content evidence-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>📎 Bằng chứng hoàn thành: {selectedJob.description}</h3>\n              <button \n                className=\"close-btn\"\n                onClick={() => setShowEvidenceModal(false)}\n              >\n                ❌\n              </button>\n            </div>\n            \n            <div className=\"modal-body\">\n              <div className=\"job-info\">\n                <p><strong>Bộ phận:</strong> {selectedJob.department}</p>\n                <p><strong>Người thực hiện:</strong> {selectedJob.assignee}</p>\n                <p><strong>Ngày giao:</strong> {new Date(selectedJob.deliveryDate).toLocaleDateString('vi-VN')}</p>\n                <p><strong>Hạn hoàn thành:</strong> {selectedJob.completionTime}</p>\n              </div>\n              \n              <div className=\"evidence-gallery\">\n                {selectedJob.completionEvidence && selectedJob.completionEvidence.length > 0 ? (\n                  selectedJob.completionEvidence.map((evidence, index) => (\n                    <div key={index} className=\"evidence-item\">\n                      <div className=\"evidence-header\">\n                        <span className=\"evidence-name\">{evidence.name}</span>\n                        <div className=\"evidence-actions\">\n                          <span className=\"evidence-size\">\n                            {(evidence.size / 1024 / 1024).toFixed(2)} MB\n                          </span>\n                          <button \n                            className=\"remove-evidence-btn\"\n                            onClick={() => removeEvidence(selectedJob.id, index)}\n                            title=\"Xóa file\"\n                          >\n                            🗑️\n                          </button>\n                        </div>\n                      </div>\n                      \n                      <div className=\"evidence-preview\">\n                        {evidence.type.startsWith('image/') ? (\n                          <img \n                            src={evidence.data} \n                            alt={evidence.name}\n                            className=\"evidence-image\"\n                            onClick={() => window.open(evidence.data, '_blank')}\n                          />\n                        ) : evidence.type.startsWith('video/') ? (\n                          <video \n                            src={evidence.data}\n                            controls\n                            className=\"evidence-video\"\n                          >\n                            Trình duyệt không hỗ trợ video\n                          </video>\n                        ) : (\n                          <div className=\"evidence-file\">\n                            <div className=\"file-icon\">📄</div>\n                            <div className=\"file-name\">{evidence.name}</div>\n                            <a \n                              href={evidence.data} \n                              download={evidence.name}\n                              className=\"download-btn\"\n                            >\n                              📥 Tải xuống\n                            </a>\n                          </div>\n                        )}\n                      </div>\n                      \n                      <div className=\"evidence-meta\">\n                        <span className=\"upload-date\">\n                          📅 {new Date(evidence.uploadDate).toLocaleString('vi-VN')}\n                        </span>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"no-evidence\">\n                    <p>📭 Chưa có bằng chứng nào được upload</p>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"modal-actions\">\n                <input\n                  type=\"file\"\n                  id=\"modal-upload\"\n                  multiple\n                  accept=\"image/*,video/*\"\n                  onChange={(e) => {\n                    handleFileUpload(selectedJob.id, e.target.files);\n                    e.target.value = ''; // Reset input\n                  }}\n                  className=\"file-input\"\n                  disabled={uploadingFiles[selectedJob.id]}\n                  title=\"Chọn hình ảnh hoặc video (tối đa 50MB mỗi file)\"\n                />\n                <label \n                  htmlFor=\"modal-upload\"\n                  className={`upload-btn modal-upload-btn ${uploadingFiles[selectedJob.id] ? 'uploading' : ''}`}\n                >\n                  {uploadingFiles[selectedJob.id] ? '⏳ Đang upload...' : '📤 Thêm bằng chứng'}\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n  };\n\n  // User Management Component\n  const UserManagement = ({ users, onUpdateUsers, currentUser }) => {\n    const [newUser, setNewUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: currentUser?.department || '',\n      position: '',\n      role: 'user'\n    });\n    const [isAdding, setIsAdding] = useState(false);\n    const [editingUser, setEditingUser] = useState(null);\n    const [editUser, setEditUser] = useState({\n      username: '',\n      password: '',\n      fullName: '',\n      department: '',\n      position: '',\n      role: 'user'\n    });\n    const [searchTerm, setSearchTerm] = useState('');\n    const [departmentFilter, setDepartmentFilter] = useState('');\n    const [showPasswords, setShowPasswords] = useState({});\n\n    // Lọc users theo bộ phận của user (trừ admin)\n    const getFilteredUsersByDepartment = () => {\n      if (currentUser?.role === 'admin') {\n        return users; // Admin thấy tất cả\n      }\n      return users.filter(user => user.department === currentUser?.department);\n    };\n\n    const departments = [\n      'Kho Phôi', 'Sản Xuất', 'Đóng gói',\n      'Kho & Trải Cắt', 'Quản lý'\n    ];\n\n    const positions = ['Quản lý', 'Tổ trưởng', 'Tổ phó', 'Nhân viên'];\n\n    // Filter users based on search and department (sau khi đã lọc theo bộ phận)\n    const departmentFilteredUsers = getFilteredUsersByDepartment();\n    const filteredUsers = departmentFilteredUsers.filter(user => {\n      const matchesSearch = !searchTerm || \n        user.fullName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        user.department.toLowerCase().includes(searchTerm.toLowerCase());\n      \n      const matchesDepartment = !departmentFilter || user.department === departmentFilter;\n      \n      return matchesSearch && matchesDepartment;\n    });\n\n    const totalUsers = departmentFilteredUsers.length;\n    const filteredCount = filteredUsers.length;\n\n    const togglePasswordVisibility = (userId) => {\n      setShowPasswords(prev => ({\n        ...prev,\n        [userId]: !prev[userId]\n      }));\n    };\n\n    const handleAddUser = () => {\n      if (!newUser.username || !newUser.password || !newUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n\n      const user = {\n        id: Date.now(),\n        ...newUser\n      };\n\n      const updatedUsers = [...users, user];\n      onUpdateUsers(updatedUsers);\n      \n      setNewUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n      setIsAdding(false);\n    };\n\n    const handleDeleteUser = (id) => {\n      if (id === currentUser.id) {\n        alert('Không thể xóa tài khoản đang đăng nhập');\n        return;\n      }\n      \n      if (confirm('Bạn có chắc muốn xóa người dùng này?')) {\n        const updatedUsers = users.filter(user => user.id !== id);\n        onUpdateUsers(updatedUsers);\n      }\n    };\n\n    const handleEditUser = (user) => {\n      setEditingUser(user.id);\n      setEditUser({\n        username: user.username,\n        password: user.password,\n        fullName: user.fullName,\n        department: user.department,\n        position: user.position,\n        role: user.role\n      });\n    };\n\n    const handleSaveEdit = () => {\n      if (!editUser.username || !editUser.fullName) {\n        alert('Vui lòng nhập đầy đủ thông tin');\n        return;\n      }\n\n      const updatedUsers = users.map(user => \n        user.id === editingUser ? { ...user, ...editUser } : user\n      );\n      onUpdateUsers(updatedUsers);\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n\n    const handleCancelEdit = () => {\n      setEditingUser(null);\n      setEditUser({\n        username: '',\n        password: '',\n        fullName: '',\n        department: '',\n        position: '',\n        role: 'user'\n      });\n    };\n\n  return (\n      <div className=\"user-management\">\n        <div className=\"user-header\">\n            <div className=\"header-info\">\n            <h2>👥 Quản lý người dùng</h2>\n            <div className=\"user-stats\">\n              <span className=\"total-users\">Tổng: {totalUsers} người dùng</span>\n              <span className=\"filtered-users\">Hiển thị: {filteredCount}/{totalUsers}</span>\n              {currentUser?.role !== 'admin' && (\n                <span className=\"department-info\"> (Bộ phận: {currentUser?.department})</span>\n              )}\n            </div>\n              </div>\n          {(currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') && (\n            <button \n              className=\"add-btn\"\n              onClick={() => setIsAdding(true)}\n            >\n              ➕ Thêm người dùng\n            </button>\n          )}\n            </div>\n\n        <div className=\"user-filters\">\n          <div className=\"filter-group\">\n            <label>🔍 Tìm kiếm:</label>\n            <input\n              type=\"text\"\n              placeholder=\"Nhập tên, username hoặc bộ phận...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"search-input\"\n            />\n            </div>\n          \n          <div className=\"filter-group\">\n            <label>🏢 Bộ phận:</label>\n            <select\n              value={departmentFilter}\n              onChange={(e) => setDepartmentFilter(e.target.value)}\n              className=\"department-select\"\n            >\n              <option value=\"\">Tất cả bộ phận</option>\n              {departments.map(dept => (\n                <option key={dept} value={dept}>{dept}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"filter-actions\">\n          <button \n              onClick={() => {\n                setSearchTerm('');\n                setDepartmentFilter('');\n              }}\n              className=\"clear-filters-btn\"\n            >\n              🗑️ Xóa bộ lọc\n          </button>\n          </div>\n        </div>\n\n        {isAdding && (\n          <div className=\"add-user-form\">\n            <h3>Thêm người dùng mới</h3>\n            <div className=\"form-row\">\n              <input\n                type=\"text\"\n                placeholder=\"Tên đăng nhập\"\n                value={newUser.username}\n                onChange={(e) => setNewUser({...newUser, username: e.target.value})}\n              />\n              <input\n                type=\"password\"\n                placeholder=\"Mật khẩu\"\n                value={newUser.password}\n                onChange={(e) => setNewUser({...newUser, password: e.target.value})}\n              />\n            </div>\n            <div className=\"form-row\">\n              <input\n                type=\"text\"\n                placeholder=\"Họ tên\"\n                value={newUser.fullName}\n                onChange={(e) => setNewUser({...newUser, fullName: e.target.value})}\n              />\n              <select\n                value={newUser.department}\n                onChange={(e) => setNewUser({...newUser, department: e.target.value})}\n              >\n                <option value=\"\">Chọn bộ phận</option>\n                {departments.map(dept => (\n                  <option key={dept} value={dept}>{dept}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"form-row\">\n              <select\n                value={newUser.position}\n                onChange={(e) => setNewUser({...newUser, position: e.target.value})}\n              >\n                <option value=\"\">Chọn vị trí</option>\n                {positions.map(pos => (\n                  <option key={pos} value={pos}>{pos}</option>\n                ))}\n              </select>\n              <select\n                value={newUser.role}\n                onChange={(e) => setNewUser({...newUser, role: e.target.value})}\n              >\n                <option value=\"user\">Người dùng</option>\n                <option value=\"admin\">Quản trị viên</option>\n              </select>\n            </div>\n            <div className=\"form-actions\">\n              <button onClick={handleAddUser} className=\"save-btn\">\n                💾 Lưu\n            </button>\n              <button onClick={() => setIsAdding(false)} className=\"cancel-btn\">\n                ❌ Hủy\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"user-list\">\n          <div className=\"user-item header\">\n            <div>Họ tên</div>\n            <div>Tên đăng nhập</div>\n            <div>Mật khẩu</div>\n            <div>Bộ phận</div>\n            <div>Vị trí</div>\n            <div>Quyền</div>\n            <div>Thao tác</div>\n          </div>\n          {filteredUsers.map(user => (\n            <div key={user.id} className=\"user-item\">\n              {editingUser === user.id ? (\n                <>\n                  <div data-label=\"Họ tên\">\n                    <input\n                      type=\"text\"\n                      value={editUser.fullName}\n                      onChange={(e) => setEditUser({...editUser, fullName: e.target.value})}\n                      className=\"edit-input\"\n                    />\n                  </div>\n                  <div data-label=\"Tên đăng nhập\">\n                    <input\n                      type=\"text\"\n                      value={editUser.username}\n                      onChange={(e) => setEditUser({...editUser, username: e.target.value})}\n                      className=\"edit-input\"\n                    />\n                  </div>\n                  <div data-label=\"Mật khẩu\">\n                    <input\n                      type=\"password\"\n                      value={editUser.password}\n                      onChange={(e) => setEditUser({...editUser, password: e.target.value})}\n                      className=\"edit-input\"\n                      placeholder=\"Mật khẩu mới\"\n                    />\n                  </div>\n                  <div data-label=\"Bộ phận\">\n                    <select\n                      value={editUser.department}\n                      onChange={(e) => setEditUser({...editUser, department: e.target.value})}\n                      className=\"edit-select\"\n                    >\n                      <option value=\"\">Chọn bộ phận</option>\n                      {departments.map(dept => (\n                        <option key={dept} value={dept}>{dept}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div data-label=\"Vị trí\">\n                    <select\n                      value={editUser.position}\n                      onChange={(e) => setEditUser({...editUser, position: e.target.value})}\n                      className=\"edit-select\"\n                    >\n                      <option value=\"\">Chọn vị trí</option>\n                      {positions.map(pos => (\n                        <option key={pos} value={pos}>{pos}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div data-label=\"Quyền\">\n                    <select\n                      value={editUser.role}\n                      onChange={(e) => setEditUser({...editUser, role: e.target.value})}\n                      className=\"edit-select\"\n                    >\n                      <option value=\"user\">Người dùng</option>\n                      <option value=\"admin\">Quản trị viên</option>\n                    </select>\n                  </div>\n                  <div data-label=\"Thao tác\">\n                    <button onClick={handleSaveEdit} className=\"save-btn\">\n                      💾 Lưu\n                    </button>\n                    <button onClick={handleCancelEdit} className=\"cancel-btn\">\n                      ❌ Hủy\n                    </button>\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div data-label=\"Họ tên\">{user.fullName}</div>\n                  <div data-label=\"Tên đăng nhập\">{user.username}</div>\n                  <div data-label=\"Mật khẩu\" className=\"password-display\">\n                    <span className=\"password-text\">\n                      {showPasswords[user.id] ? user.password : '••••••••'}\n                    </span>\n                    <button \n                      className=\"password-toggle-btn\"\n                      onClick={() => togglePasswordVisibility(user.id)}\n                      title={showPasswords[user.id] ? 'Ẩn mật khẩu' : 'Hiện mật khẩu'}\n                    >\n                      {showPasswords[user.id] ? '🙈' : '👁️'}\n                    </button>\n                  </div>\n                  <div data-label=\"Bộ phận\">{user.department}</div>\n                  <div data-label=\"Vị trí\">{user.position}</div>\n                  <div data-label=\"Quyền\">{user.role === 'admin' ? 'Quản trị' : 'Người dùng'}</div>\n                  <div data-label=\"Thao tác\">\n                    {(currentUser?.role === 'admin' || currentUser?.position === 'Tổ trưởng') && (\n                      <>\n                        <button \n                          onClick={() => handleEditUser(user)}\n                          className=\"edit-btn\"\n                        >\n                          ✏️ Sửa\n                        </button>\n                        <button \n                          onClick={() => handleDeleteUser(user.id)}\n                          className=\"delete-btn\"\n                          disabled={user.id === currentUser.id}\n                        >\n                          🗑️ Xóa\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n  };\n\n  // Render\n  if (!isAuthenticated) {\n    return <LoginForm />;\n}\n\n  return <MainApp />;\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}